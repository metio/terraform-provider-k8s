---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_cilium_io_cilium_network_policy_v2_manifest Data Source - terraform-provider-k8s"
subcategory: "cilium.io"
description: |-
  CiliumNetworkPolicy is a Kubernetes third-party resource with an extendedversion of NetworkPolicy.
---

# k8s_cilium_io_cilium_network_policy_v2_manifest (Data Source)

CiliumNetworkPolicy is a Kubernetes third-party resource with an extendedversion of NetworkPolicy.

## Example Usage

```terraform
data "k8s_cilium_io_cilium_network_policy_v2_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) Spec is the desired Cilium specific rule specification. (see [below for nested schema](#nestedatt--spec))
- `specs` (Attributes List) Specs is a list of desired Cilium specific rule specification. (see [below for nested schema](#nestedatt--specs))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `description` (String) Description is a free form string, it can be used by the creator ofthe rule to store human readable explanation of the purpose of thisrule. Rules cannot be identified by comment.
- `egress` (Attributes List) Egress is a list of EgressRule which are enforced at egress.If omitted or empty, this rule does not apply at egress. (see [below for nested schema](#nestedatt--spec--egress))
- `egress_deny` (Attributes List) EgressDeny is a list of EgressDenyRule which are enforced at egress.Any rule inserted here will be denied regardless of the allowed egressrules in the 'egress' field.If omitted or empty, this rule does not apply at egress. (see [below for nested schema](#nestedatt--spec--egress_deny))
- `enable_default_deny` (Attributes) EnableDefaultDeny determines whether this policy configures thesubject endpoint(s) to have a default deny mode. If enabled,this causes all traffic not explicitly allowed by a network policyto be dropped.If not specified, the default is true for each traffic directionthat has rules, and false otherwise. For example, if a policyonly has Ingress or IngressDeny rules, then the default foringress is true and egress is false.If multiple policies apply to an endpoint, that endpoint's default denywill be enabled if any policy requests it.This is useful for creating broad-based network policies that will notcause endpoints to enter default-deny mode. (see [below for nested schema](#nestedatt--spec--enable_default_deny))
- `endpoint_selector` (Attributes) EndpointSelector selects all endpoints which should be subject tothis rule. EndpointSelector and NodeSelector cannot be both empty andare mutually exclusive. (see [below for nested schema](#nestedatt--spec--endpoint_selector))
- `ingress` (Attributes List) Ingress is a list of IngressRule which are enforced at ingress.If omitted or empty, this rule does not apply at ingress. (see [below for nested schema](#nestedatt--spec--ingress))
- `ingress_deny` (Attributes List) IngressDeny is a list of IngressDenyRule which are enforced at ingress.Any rule inserted here will be denied regardless of the allowed ingressrules in the 'ingress' field.If omitted or empty, this rule does not apply at ingress. (see [below for nested schema](#nestedatt--spec--ingress_deny))
- `labels` (Attributes List) Labels is a list of optional strings which can be used tore-identify the rule or to store metadata. It is possible to lookupor delete strings based on labels. Labels are not required to beunique, multiple rules can have overlapping or identical labels. (see [below for nested schema](#nestedatt--spec--labels))
- `node_selector` (Attributes) NodeSelector selects all nodes which should be subject to this rule.EndpointSelector and NodeSelector cannot be both empty and are mutuallyexclusive. Can only be used in CiliumClusterwideNetworkPolicies. (see [below for nested schema](#nestedatt--spec--node_selector))

<a id="nestedatt--spec--egress"></a>
### Nested Schema for `spec.egress`

Optional:

- `authentication` (Attributes) Authentication is the required authentication type for the allowed traffic, if any. (see [below for nested schema](#nestedatt--spec--egress--authentication))
- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is allowed to connect to.Example:Any endpoint with the label 'app=httpd' is allowed to initiatetype 8 ICMP connections. (see [below for nested schema](#nestedatt--spec--egress--icmps))
- `to_cidr` (List of String) ToCIDR is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections. Only connections destined foroutside of the cluster and not targeting the host will be subjectto CIDR rules.  This will match on the destination IP address ofoutgoing connections. Adding a prefix into ToCIDR or into ToCIDRSetwith no ExcludeCIDRs is equivalent. Overlaps are allowed betweenToCIDR and ToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24
- `to_cidr_set` (Attributes List) ToCIDRSet is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections to in addition to connectionswhich are allowed via ToEndpoints, along with a list of subnets containedwithin their corresponding IP block to which traffic should not beallowed. This will match on the destination IP address of outgoingconnections. Adding a prefix into ToCIDR or into ToCIDRSet with noExcludeCIDRs is equivalent. Overlaps are allowed between ToCIDR andToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24 except from IPs in subnet 10.2.3.0/28. (see [below for nested schema](#nestedatt--spec--egress--to_cidr_set))
- `to_endpoints` (Attributes List) ToEndpoints is a list of endpoints identified by an EndpointSelector towhich the endpoints subject to the rule are allowed to communicate.Example:Any endpoint with the label 'role=frontend' can communicate with anyendpoint carrying the label 'role=backend'. (see [below for nested schema](#nestedatt--spec--egress--to_endpoints))
- `to_entities` (List of String) ToEntities is a list of special entities to which the endpoint subjectto the rule is allowed to initiate connections. Supported entities are'world', 'cluster','host','remote-node','kube-apiserver', 'init','health','unmanaged' and 'all'.
- `to_fqd_ns` (Attributes List) ToFQDN allows whitelisting DNS names in place of IPs. The IPs that resultfrom DNS resolution of 'ToFQDN.MatchName's are added to the sameEgressRule object as ToCIDRSet entries, and behave accordingly. Any L4 andL7 rules within this EgressRule will also apply to these IPs.The DNS -> IP mapping is re-resolved periodically from within thecilium-agent, and the IPs in the DNS response are effected in the policyfor selected pods as-is (i.e. the list of IPs is not modified in any way).Note: An explicit rule to allow for DNS traffic is needed for the pods, asToFQDN counts as an egress rule and will enforce egress policy whenPolicyEnforcment=default.Note: If the resolved IPs are IPs within the kubernetes cluster, theToFQDN rule will not apply to that IP.Note: ToFQDN cannot occur in the same policy as other To* rules. (see [below for nested schema](#nestedatt--spec--egress--to_fqd_ns))
- `to_groups` (Attributes List) ToGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:toGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--spec--egress--to_groups))
- `to_nodes` (Attributes List) ToNodes is a list of nodes identified by anEndpointSelector to which endpoints subject to the rule is allowed to communicate. (see [below for nested schema](#nestedatt--spec--egress--to_nodes))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is allowed toconnect to.Example:Any endpoint with the label 'role=frontend' is allowed to initiateconnections to destination port 8080/tcp (see [below for nested schema](#nestedatt--spec--egress--to_ports))
- `to_requires` (Attributes List) ToRequires is a list of additional constraints which must be metin order for the selected endpoints to be able to connect to otherendpoints. These additional constraints do no by itself grant accessprivileges and must always be accompanied with at least one matchingToEndpoints.Example:Any Endpoint with the label 'team=A' requires any endpoint to which itcommunicates to also carry the label 'team=A'. (see [below for nested schema](#nestedatt--spec--egress--to_requires))
- `to_services` (Attributes List) ToServices is a list of services to which the endpoint subjectto the rule is allowed to initiate connections.Currently Cilium only supports toServices for K8s services withoutselectors.Example:Any endpoint with the label 'app=backend-app' is allowed toinitiate connections to all cidrs backing the 'external-service' service (see [below for nested schema](#nestedatt--spec--egress--to_services))

<a id="nestedatt--spec--egress--authentication"></a>
### Nested Schema for `spec.egress.authentication`

Required:

- `mode` (String) Mode is the required authentication mode for the allowed traffic, if any.


<a id="nestedatt--spec--egress--icmps"></a>
### Nested Schema for `spec.egress.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--spec--egress--icmps--fields))

<a id="nestedatt--spec--egress--icmps--fields"></a>
### Nested Schema for `spec.egress.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--spec--egress--to_cidr_set"></a>
### Nested Schema for `spec.egress.to_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--spec--egress--to_endpoints"></a>
### Nested Schema for `spec.egress.to_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress--to_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress--to_endpoints--match_expressions"></a>
### Nested Schema for `spec.egress.to_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--egress--to_fqd_ns"></a>
### Nested Schema for `spec.egress.to_fqd_ns`

Optional:

- `match_name` (String) MatchName matches literal DNS names. A trailing '.' is automatically addedwhen missing.
- `match_pattern` (String) MatchPattern allows using wildcards to match DNS names. All wildcards arecase insensitive. The wildcards are:- '*' matches 0 or more DNS valid characters, and may occur anywhere inthe pattern. As a special case a '*' as the leftmost character, without afollowing '.' matches all subdomains as well as the name to the right.A trailing '.' is automatically added when missing.Examples:'*.cilium.io' matches subomains of cilium at that level  www.cilium.io and blog.cilium.io match, cilium.io and google.com do not'*cilium.io' matches cilium.io and all subdomains ends with 'cilium.io'  except those containing '.' separator, subcilium.io and sub-cilium.io match,  www.cilium.io and blog.cilium.io does notsub*.cilium.io matches subdomains of cilium where the subdomain componentbegins with 'sub'  sub.cilium.io and subdomain.cilium.io match, www.cilium.io,  blog.cilium.io, cilium.io and google.com do not


<a id="nestedatt--spec--egress--to_groups"></a>
### Nested Schema for `spec.egress.to_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--spec--egress--to_groups--aws))

<a id="nestedatt--spec--egress--to_groups--aws"></a>
### Nested Schema for `spec.egress.to_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--spec--egress--to_nodes"></a>
### Nested Schema for `spec.egress.to_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress--to_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress--to_nodes--match_expressions"></a>
### Nested Schema for `spec.egress.to_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--egress--to_ports"></a>
### Nested Schema for `spec.egress.to_ports`

Optional:

- `listener` (Attributes) listener specifies the name of a custom Envoy listener to which this traffic should beredirected to. (see [below for nested schema](#nestedatt--spec--egress--to_ports--listener))
- `originating_tls` (Attributes) OriginatingTLS is the TLS context for the connections originated bythe L7 proxy.  For egress policy this specifies the client-side TLSparameters for the upstream connection originating from the L7 proxyto the remote destination. For ingress policy this specifies theclient-side TLS parameters for the connection from the L7 proxy tothe local endpoint. (see [below for nested schema](#nestedatt--spec--egress--to_ports--originating_tls))
- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--spec--egress--to_ports--ports))
- `rules` (Attributes) Rules is a list of additional port level rules which must be met inorder for the PortRule to allow the traffic. If omitted or empty,no layer 7 rules are enforced. (see [below for nested schema](#nestedatt--spec--egress--to_ports--rules))
- `server_names` (List of String) ServerNames is a list of allowed TLS SNI values. If not empty, thenTLS must be present and one of the provided SNIs must be indicated in theTLS handshake.
- `terminating_tls` (Attributes) TerminatingTLS is the TLS context for the connection terminated bythe L7 proxy.  For egress policy this specifies the server-side TLSparameters to be applied on the connections originated from the localendpoint and terminated by the L7 proxy. For ingress policy this specifiesthe server-side TLS parameters to be applied on the connectionsoriginated from a remote source and terminated by the L7 proxy. (see [below for nested schema](#nestedatt--spec--egress--to_ports--terminating_tls))

<a id="nestedatt--spec--egress--to_ports--listener"></a>
### Nested Schema for `spec.egress.to_ports.listener`

Required:

- `envoy_config` (Attributes) EnvoyConfig is a reference to the CEC or CCEC resource in whichthe listener is defined. (see [below for nested schema](#nestedatt--spec--egress--to_ports--listener--envoy_config))
- `name` (String) Name is the name of the listener.

Optional:

- `priority` (Number) Priority for this Listener that is used when multiple rules would apply differentlisteners to a policy map entry. Behavior of this is implementation dependent.

<a id="nestedatt--spec--egress--to_ports--listener--envoy_config"></a>
### Nested Schema for `spec.egress.to_ports.listener.envoy_config`

Required:

- `name` (String) Name is the resource name of the CiliumEnvoyConfig or CiliumClusterwideEnvoyConfig wherethe listener is defined in.

Optional:

- `kind` (String) Kind is the resource type being referred to. Defaults to CiliumEnvoyConfig orCiliumClusterwideEnvoyConfig for CiliumNetworkPolicy and CiliumClusterwideNetworkPolicy,respectively. The only case this is currently explicitly needed is when referring to aCiliumClusterwideEnvoyConfig from CiliumNetworkPolicy, as using a namespaced listenerfrom a cluster scoped policy is not allowed.



<a id="nestedatt--spec--egress--to_ports--originating_tls"></a>
### Nested Schema for `spec.egress.to_ports.originating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--spec--egress--to_ports--originating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--spec--egress--to_ports--originating_tls--secret"></a>
### Nested Schema for `spec.egress.to_ports.originating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').



<a id="nestedatt--spec--egress--to_ports--ports"></a>
### Nested Schema for `spec.egress.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.


<a id="nestedatt--spec--egress--to_ports--rules"></a>
### Nested Schema for `spec.egress.to_ports.rules`

Optional:

- `dns` (Attributes List) DNS-specific rules. (see [below for nested schema](#nestedatt--spec--egress--to_ports--rules--dns))
- `http` (Attributes List) HTTP specific rules. (see [below for nested schema](#nestedatt--spec--egress--to_ports--rules--http))
- `kafka` (Attributes List) Kafka-specific rules. (see [below for nested schema](#nestedatt--spec--egress--to_ports--rules--kafka))
- `l7` (List of Map of String) Key-value pair rules.
- `l7proto` (String) Name of the L7 protocol for which the Key-value pair rules apply.

<a id="nestedatt--spec--egress--to_ports--rules--dns"></a>
### Nested Schema for `spec.egress.to_ports.rules.dns`

Optional:

- `match_name` (String) MatchName matches literal DNS names. A trailing '.' is automatically addedwhen missing.
- `match_pattern` (String) MatchPattern allows using wildcards to match DNS names. All wildcards arecase insensitive. The wildcards are:- '*' matches 0 or more DNS valid characters, and may occur anywhere inthe pattern. As a special case a '*' as the leftmost character, without afollowing '.' matches all subdomains as well as the name to the right.A trailing '.' is automatically added when missing.Examples:'*.cilium.io' matches subomains of cilium at that level  www.cilium.io and blog.cilium.io match, cilium.io and google.com do not'*cilium.io' matches cilium.io and all subdomains ends with 'cilium.io'  except those containing '.' separator, subcilium.io and sub-cilium.io match,  www.cilium.io and blog.cilium.io does notsub*.cilium.io matches subdomains of cilium where the subdomain componentbegins with 'sub'  sub.cilium.io and subdomain.cilium.io match, www.cilium.io,  blog.cilium.io, cilium.io and google.com do not


<a id="nestedatt--spec--egress--to_ports--rules--http"></a>
### Nested Schema for `spec.egress.to_ports.rules.http`

Optional:

- `header_matches` (Attributes List) HeaderMatches is a list of HTTP headers which must bepresent and match against the given values. Mismatch field can be usedto specify what to do when there is no match. (see [below for nested schema](#nestedatt--spec--egress--to_ports--rules--http--header_matches))
- `headers` (List of String) Headers is a list of HTTP headers which must be present in therequest. If omitted or empty, requests are allowed regardless ofheaders present.
- `host` (String) Host is an extended POSIX regex matched against the host header of arequest. Examples:- foo.bar.com will match the host fooXbar.com or foo-bar.com- foo.bar.com will only match the host foo.bar.comIf omitted or empty, the value of the host header is ignored.
- `method` (String) Method is an extended POSIX regex matched against the method of arequest, e.g. 'GET', 'POST', 'PUT', 'PATCH', 'DELETE', ...If omitted or empty, all methods are allowed.
- `path` (String) Path is an extended POSIX regex matched against the path of arequest. Currently it can contain characters disallowed from theconventional 'path' part of a URL as defined by RFC 3986.If omitted or empty, all paths are all allowed.

<a id="nestedatt--spec--egress--to_ports--rules--http--header_matches"></a>
### Nested Schema for `spec.egress.to_ports.rules.http.header_matches`

Required:

- `name` (String) Name identifies the header.

Optional:

- `mismatch` (String) Mismatch identifies what to do in case there is no match. The default isto drop the request. Otherwise the overall rule is still considered asmatching, but the mismatches are logged in the access log.
- `secret` (Attributes) Secret refers to a secret that contains the value to be matched against.The secret must only contain one entry. If the referred secret does notexist, and there is no 'Value' specified, the match will fail. (see [below for nested schema](#nestedatt--spec--egress--to_ports--rules--http--header_matches--secret))
- `value` (String) Value matches the exact value of the header. Can be specified eitheralone or together with 'Secret'; will be used as the header value if thesecret can not be found in the latter case.

<a id="nestedatt--spec--egress--to_ports--rules--http--header_matches--secret"></a>
### Nested Schema for `spec.egress.to_ports.rules.http.header_matches.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').




<a id="nestedatt--spec--egress--to_ports--rules--kafka"></a>
### Nested Schema for `spec.egress.to_ports.rules.kafka`

Optional:

- `api_key` (String) APIKey is a case-insensitive string matched against the key of arequest, e.g. 'produce', 'fetch', 'createtopic', 'deletetopic', et alReference: https://kafka.apache.org/protocol#protocol_api_keysIf omitted or empty, and if Role is not specified, then all keys are allowed.
- `api_version` (String) APIVersion is the version matched against the api version of theKafka message. If set, it has to be a string representing a positiveinteger.If omitted or empty, all versions are allowed.
- `client_id` (String) ClientID is the client identifier as provided in the request.From Kafka protocol documentation:This is a user supplied identifier for the client application. Theuser can use any identifier they like and it will be used whenlogging errors, monitoring aggregates, etc. For example, one mightwant to monitor not just the requests per second overall, but thenumber coming from each client application (each of which couldreside on multiple servers). This id acts as a logical groupingacross all requests from a particular client.If omitted or empty, all client identifiers are allowed.
- `role` (String) Role is a case-insensitive string and describes a group of API keysnecessary to perform certain higher-level Kafka operations such as 'produce'or 'consume'. A Role automatically expands into all APIKeys requiredto perform the specified higher-level operation.The following values are supported: - 'produce': Allow producing to the topics specified in the rule - 'consume': Allow consuming from the topics specified in the ruleThis field is incompatible with the APIKey field, i.e APIKey and Rolecannot both be specified in the same rule.If omitted or empty, and if APIKey is not specified, then all keys areallowed.
- `topic` (String) Topic is the topic name contained in the message. If a Kafka requestcontains multiple topics, then all topics must be allowed or themessage will be rejected.This constraint is ignored if the matched request message typedoesn't contain any topic. Maximum size of Topic can be 249characters as per recent Kafka spec and allowed characters area-z, A-Z, 0-9, -, . and _.Older Kafka versions had longer topic lengths of 255, but in Kafka 0.10version the length was changed from 255 to 249. For compatibilityreasons we are using 255.If omitted or empty, all topics are allowed.



<a id="nestedatt--spec--egress--to_ports--terminating_tls"></a>
### Nested Schema for `spec.egress.to_ports.terminating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--spec--egress--to_ports--terminating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--spec--egress--to_ports--terminating_tls--secret"></a>
### Nested Schema for `spec.egress.to_ports.terminating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').




<a id="nestedatt--spec--egress--to_requires"></a>
### Nested Schema for `spec.egress.to_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress--to_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress--to_requires--match_expressions"></a>
### Nested Schema for `spec.egress.to_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--egress--to_services"></a>
### Nested Schema for `spec.egress.to_services`

Optional:

- `k8s_service` (Attributes) K8sService selects service by name and namespace pair (see [below for nested schema](#nestedatt--spec--egress--to_services--k8s_service))
- `k8s_service_selector` (Attributes) K8sServiceSelector selects services by k8s labels and namespace (see [below for nested schema](#nestedatt--spec--egress--to_services--k8s_service_selector))

<a id="nestedatt--spec--egress--to_services--k8s_service"></a>
### Nested Schema for `spec.egress.to_services.k8s_service`

Optional:

- `namespace` (String)
- `service_name` (String)


<a id="nestedatt--spec--egress--to_services--k8s_service_selector"></a>
### Nested Schema for `spec.egress.to_services.k8s_service_selector`

Required:

- `selector` (Attributes) ServiceSelector is a label selector for k8s services (see [below for nested schema](#nestedatt--spec--egress--to_services--k8s_service_selector--selector))

Optional:

- `namespace` (String)

<a id="nestedatt--spec--egress--to_services--k8s_service_selector--selector"></a>
### Nested Schema for `spec.egress.to_services.k8s_service_selector.selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress--to_services--k8s_service_selector--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress--to_services--k8s_service_selector--selector--match_expressions"></a>
### Nested Schema for `spec.egress.to_services.k8s_service_selector.selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.






<a id="nestedatt--spec--egress_deny"></a>
### Nested Schema for `spec.egress_deny`

Optional:

- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is not allowed to connect to.Example:Any endpoint with the label 'app=httpd' is not allowed to initiatetype 8 ICMP connections. (see [below for nested schema](#nestedatt--spec--egress_deny--icmps))
- `to_cidr` (List of String) ToCIDR is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections. Only connections destined foroutside of the cluster and not targeting the host will be subjectto CIDR rules.  This will match on the destination IP address ofoutgoing connections. Adding a prefix into ToCIDR or into ToCIDRSetwith no ExcludeCIDRs is equivalent. Overlaps are allowed betweenToCIDR and ToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24
- `to_cidr_set` (Attributes List) ToCIDRSet is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections to in addition to connectionswhich are allowed via ToEndpoints, along with a list of subnets containedwithin their corresponding IP block to which traffic should not beallowed. This will match on the destination IP address of outgoingconnections. Adding a prefix into ToCIDR or into ToCIDRSet with noExcludeCIDRs is equivalent. Overlaps are allowed between ToCIDR andToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24 except from IPs in subnet 10.2.3.0/28. (see [below for nested schema](#nestedatt--spec--egress_deny--to_cidr_set))
- `to_endpoints` (Attributes List) ToEndpoints is a list of endpoints identified by an EndpointSelector towhich the endpoints subject to the rule are allowed to communicate.Example:Any endpoint with the label 'role=frontend' can communicate with anyendpoint carrying the label 'role=backend'. (see [below for nested schema](#nestedatt--spec--egress_deny--to_endpoints))
- `to_entities` (List of String) ToEntities is a list of special entities to which the endpoint subjectto the rule is allowed to initiate connections. Supported entities are'world', 'cluster','host','remote-node','kube-apiserver', 'init','health','unmanaged' and 'all'.
- `to_groups` (Attributes List) ToGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:toGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--spec--egress_deny--to_groups))
- `to_nodes` (Attributes List) ToNodes is a list of nodes identified by anEndpointSelector to which endpoints subject to the rule is allowed to communicate. (see [below for nested schema](#nestedatt--spec--egress_deny--to_nodes))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is not allowed to connectto.Example:Any endpoint with the label 'role=frontend' is not allowed to initiateconnections to destination port 8080/tcp (see [below for nested schema](#nestedatt--spec--egress_deny--to_ports))
- `to_requires` (Attributes List) ToRequires is a list of additional constraints which must be metin order for the selected endpoints to be able to connect to otherendpoints. These additional constraints do no by itself grant accessprivileges and must always be accompanied with at least one matchingToEndpoints.Example:Any Endpoint with the label 'team=A' requires any endpoint to which itcommunicates to also carry the label 'team=A'. (see [below for nested schema](#nestedatt--spec--egress_deny--to_requires))
- `to_services` (Attributes List) ToServices is a list of services to which the endpoint subjectto the rule is allowed to initiate connections.Currently Cilium only supports toServices for K8s services withoutselectors.Example:Any endpoint with the label 'app=backend-app' is allowed toinitiate connections to all cidrs backing the 'external-service' service (see [below for nested schema](#nestedatt--spec--egress_deny--to_services))

<a id="nestedatt--spec--egress_deny--icmps"></a>
### Nested Schema for `spec.egress_deny.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--spec--egress_deny--icmps--fields))

<a id="nestedatt--spec--egress_deny--icmps--fields"></a>
### Nested Schema for `spec.egress_deny.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--spec--egress_deny--to_cidr_set"></a>
### Nested Schema for `spec.egress_deny.to_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--spec--egress_deny--to_endpoints"></a>
### Nested Schema for `spec.egress_deny.to_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress_deny--to_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress_deny--to_endpoints--match_expressions"></a>
### Nested Schema for `spec.egress_deny.to_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--egress_deny--to_groups"></a>
### Nested Schema for `spec.egress_deny.to_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--spec--egress_deny--to_groups--aws))

<a id="nestedatt--spec--egress_deny--to_groups--aws"></a>
### Nested Schema for `spec.egress_deny.to_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--spec--egress_deny--to_nodes"></a>
### Nested Schema for `spec.egress_deny.to_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress_deny--to_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress_deny--to_nodes--match_expressions"></a>
### Nested Schema for `spec.egress_deny.to_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--egress_deny--to_ports"></a>
### Nested Schema for `spec.egress_deny.to_ports`

Optional:

- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--spec--egress_deny--to_ports--ports))

<a id="nestedatt--spec--egress_deny--to_ports--ports"></a>
### Nested Schema for `spec.egress_deny.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.



<a id="nestedatt--spec--egress_deny--to_requires"></a>
### Nested Schema for `spec.egress_deny.to_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress_deny--to_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress_deny--to_requires--match_expressions"></a>
### Nested Schema for `spec.egress_deny.to_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--egress_deny--to_services"></a>
### Nested Schema for `spec.egress_deny.to_services`

Optional:

- `k8s_service` (Attributes) K8sService selects service by name and namespace pair (see [below for nested schema](#nestedatt--spec--egress_deny--to_services--k8s_service))
- `k8s_service_selector` (Attributes) K8sServiceSelector selects services by k8s labels and namespace (see [below for nested schema](#nestedatt--spec--egress_deny--to_services--k8s_service_selector))

<a id="nestedatt--spec--egress_deny--to_services--k8s_service"></a>
### Nested Schema for `spec.egress_deny.to_services.k8s_service`

Optional:

- `namespace` (String)
- `service_name` (String)


<a id="nestedatt--spec--egress_deny--to_services--k8s_service_selector"></a>
### Nested Schema for `spec.egress_deny.to_services.k8s_service_selector`

Required:

- `selector` (Attributes) ServiceSelector is a label selector for k8s services (see [below for nested schema](#nestedatt--spec--egress_deny--to_services--k8s_service_selector--selector))

Optional:

- `namespace` (String)

<a id="nestedatt--spec--egress_deny--to_services--k8s_service_selector--selector"></a>
### Nested Schema for `spec.egress_deny.to_services.k8s_service_selector.selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--egress_deny--to_services--k8s_service_selector--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--egress_deny--to_services--k8s_service_selector--selector--match_expressions"></a>
### Nested Schema for `spec.egress_deny.to_services.k8s_service_selector.selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.






<a id="nestedatt--spec--enable_default_deny"></a>
### Nested Schema for `spec.enable_default_deny`

Optional:

- `egress` (Boolean) Whether or not the endpoint should have a default-deny rule appliedto egress traffic.
- `ingress` (Boolean) Whether or not the endpoint should have a default-deny rule appliedto ingress traffic.


<a id="nestedatt--spec--endpoint_selector"></a>
### Nested Schema for `spec.endpoint_selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--endpoint_selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--endpoint_selector--match_expressions"></a>
### Nested Schema for `spec.endpoint_selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress"></a>
### Nested Schema for `spec.ingress`

Optional:

- `authentication` (Attributes) Authentication is the required authentication type for the allowed traffic, if any. (see [below for nested schema](#nestedatt--spec--ingress--authentication))
- `from_cidr` (List of String) FromCIDR is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from. Only connections whichdo *not* originate from the cluster or from the local host are subjectto CIDR rules. In order to allow in-cluster connectivity, use theFromEndpoints field.  This will match on the source IP address ofincoming connections. Adding  a prefix into FromCIDR or intoFromCIDRSet with no ExcludeCIDRs is  equivalent.  Overlaps areallowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.3.9.1
- `from_cidr_set` (Attributes List) FromCIDRSet is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from in addition to FromEndpoints,along with a list of subnets contained within their corresponding IP blockfrom which traffic should not be allowed.This will match on the source IP address of incoming connections. Addinga prefix into FromCIDR or into FromCIDRSet with no ExcludeCIDRs isequivalent. Overlaps are allowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.0.0.0/8 except from IPs in subnet 10.96.0.0/12. (see [below for nested schema](#nestedatt--spec--ingress--from_cidr_set))
- `from_endpoints` (Attributes List) FromEndpoints is a list of endpoints identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule.Example:Any endpoint with the label 'role=backend' can be consumed by anyendpoint carrying the label 'role=frontend'. (see [below for nested schema](#nestedatt--spec--ingress--from_endpoints))
- `from_entities` (List of String) FromEntities is a list of special entities which the endpoint subjectto the rule is allowed to receive connections from. Supported entities are'world', 'cluster' and 'host'
- `from_groups` (Attributes List) FromGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:FromGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--spec--ingress--from_groups))
- `from_nodes` (Attributes List) FromNodes is a list of nodes identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule. (see [below for nested schema](#nestedatt--spec--ingress--from_nodes))
- `from_requires` (Attributes List) FromRequires is a list of additional constraints which must be metin order for the selected endpoints to be reachable. Theseadditional constraints do no by itself grant access privileges andmust always be accompanied with at least one matching FromEndpoints.Example:Any Endpoint with the label 'team=A' requires consuming endpointto also carry the label 'team=A'. (see [below for nested schema](#nestedatt--spec--ingress--from_requires))
- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can only accept incomingtype 8 ICMP connections. (see [below for nested schema](#nestedatt--spec--ingress--icmps))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can only accept incomingconnections on port 80/tcp. (see [below for nested schema](#nestedatt--spec--ingress--to_ports))

<a id="nestedatt--spec--ingress--authentication"></a>
### Nested Schema for `spec.ingress.authentication`

Required:

- `mode` (String) Mode is the required authentication mode for the allowed traffic, if any.


<a id="nestedatt--spec--ingress--from_cidr_set"></a>
### Nested Schema for `spec.ingress.from_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--spec--ingress--from_endpoints"></a>
### Nested Schema for `spec.ingress.from_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--ingress--from_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--ingress--from_endpoints--match_expressions"></a>
### Nested Schema for `spec.ingress.from_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress--from_groups"></a>
### Nested Schema for `spec.ingress.from_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--spec--ingress--from_groups--aws))

<a id="nestedatt--spec--ingress--from_groups--aws"></a>
### Nested Schema for `spec.ingress.from_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--spec--ingress--from_nodes"></a>
### Nested Schema for `spec.ingress.from_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--ingress--from_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--ingress--from_nodes--match_expressions"></a>
### Nested Schema for `spec.ingress.from_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress--from_requires"></a>
### Nested Schema for `spec.ingress.from_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--ingress--from_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--ingress--from_requires--match_expressions"></a>
### Nested Schema for `spec.ingress.from_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress--icmps"></a>
### Nested Schema for `spec.ingress.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--spec--ingress--icmps--fields))

<a id="nestedatt--spec--ingress--icmps--fields"></a>
### Nested Schema for `spec.ingress.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--spec--ingress--to_ports"></a>
### Nested Schema for `spec.ingress.to_ports`

Optional:

- `listener` (Attributes) listener specifies the name of a custom Envoy listener to which this traffic should beredirected to. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--listener))
- `originating_tls` (Attributes) OriginatingTLS is the TLS context for the connections originated bythe L7 proxy.  For egress policy this specifies the client-side TLSparameters for the upstream connection originating from the L7 proxyto the remote destination. For ingress policy this specifies theclient-side TLS parameters for the connection from the L7 proxy tothe local endpoint. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--originating_tls))
- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--spec--ingress--to_ports--ports))
- `rules` (Attributes) Rules is a list of additional port level rules which must be met inorder for the PortRule to allow the traffic. If omitted or empty,no layer 7 rules are enforced. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--rules))
- `server_names` (List of String) ServerNames is a list of allowed TLS SNI values. If not empty, thenTLS must be present and one of the provided SNIs must be indicated in theTLS handshake.
- `terminating_tls` (Attributes) TerminatingTLS is the TLS context for the connection terminated bythe L7 proxy.  For egress policy this specifies the server-side TLSparameters to be applied on the connections originated from the localendpoint and terminated by the L7 proxy. For ingress policy this specifiesthe server-side TLS parameters to be applied on the connectionsoriginated from a remote source and terminated by the L7 proxy. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--terminating_tls))

<a id="nestedatt--spec--ingress--to_ports--listener"></a>
### Nested Schema for `spec.ingress.to_ports.listener`

Required:

- `envoy_config` (Attributes) EnvoyConfig is a reference to the CEC or CCEC resource in whichthe listener is defined. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--listener--envoy_config))
- `name` (String) Name is the name of the listener.

Optional:

- `priority` (Number) Priority for this Listener that is used when multiple rules would apply differentlisteners to a policy map entry. Behavior of this is implementation dependent.

<a id="nestedatt--spec--ingress--to_ports--listener--envoy_config"></a>
### Nested Schema for `spec.ingress.to_ports.listener.envoy_config`

Required:

- `name` (String) Name is the resource name of the CiliumEnvoyConfig or CiliumClusterwideEnvoyConfig wherethe listener is defined in.

Optional:

- `kind` (String) Kind is the resource type being referred to. Defaults to CiliumEnvoyConfig orCiliumClusterwideEnvoyConfig for CiliumNetworkPolicy and CiliumClusterwideNetworkPolicy,respectively. The only case this is currently explicitly needed is when referring to aCiliumClusterwideEnvoyConfig from CiliumNetworkPolicy, as using a namespaced listenerfrom a cluster scoped policy is not allowed.



<a id="nestedatt--spec--ingress--to_ports--originating_tls"></a>
### Nested Schema for `spec.ingress.to_ports.originating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--originating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--spec--ingress--to_ports--originating_tls--secret"></a>
### Nested Schema for `spec.ingress.to_ports.originating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').



<a id="nestedatt--spec--ingress--to_ports--ports"></a>
### Nested Schema for `spec.ingress.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.


<a id="nestedatt--spec--ingress--to_ports--rules"></a>
### Nested Schema for `spec.ingress.to_ports.rules`

Optional:

- `dns` (Attributes List) DNS-specific rules. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--rules--dns))
- `http` (Attributes List) HTTP specific rules. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--rules--http))
- `kafka` (Attributes List) Kafka-specific rules. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--rules--kafka))
- `l7` (List of Map of String) Key-value pair rules.
- `l7proto` (String) Name of the L7 protocol for which the Key-value pair rules apply.

<a id="nestedatt--spec--ingress--to_ports--rules--dns"></a>
### Nested Schema for `spec.ingress.to_ports.rules.dns`

Optional:

- `match_name` (String) MatchName matches literal DNS names. A trailing '.' is automatically addedwhen missing.
- `match_pattern` (String) MatchPattern allows using wildcards to match DNS names. All wildcards arecase insensitive. The wildcards are:- '*' matches 0 or more DNS valid characters, and may occur anywhere inthe pattern. As a special case a '*' as the leftmost character, without afollowing '.' matches all subdomains as well as the name to the right.A trailing '.' is automatically added when missing.Examples:'*.cilium.io' matches subomains of cilium at that level  www.cilium.io and blog.cilium.io match, cilium.io and google.com do not'*cilium.io' matches cilium.io and all subdomains ends with 'cilium.io'  except those containing '.' separator, subcilium.io and sub-cilium.io match,  www.cilium.io and blog.cilium.io does notsub*.cilium.io matches subdomains of cilium where the subdomain componentbegins with 'sub'  sub.cilium.io and subdomain.cilium.io match, www.cilium.io,  blog.cilium.io, cilium.io and google.com do not


<a id="nestedatt--spec--ingress--to_ports--rules--http"></a>
### Nested Schema for `spec.ingress.to_ports.rules.http`

Optional:

- `header_matches` (Attributes List) HeaderMatches is a list of HTTP headers which must bepresent and match against the given values. Mismatch field can be usedto specify what to do when there is no match. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--rules--http--header_matches))
- `headers` (List of String) Headers is a list of HTTP headers which must be present in therequest. If omitted or empty, requests are allowed regardless ofheaders present.
- `host` (String) Host is an extended POSIX regex matched against the host header of arequest. Examples:- foo.bar.com will match the host fooXbar.com or foo-bar.com- foo.bar.com will only match the host foo.bar.comIf omitted or empty, the value of the host header is ignored.
- `method` (String) Method is an extended POSIX regex matched against the method of arequest, e.g. 'GET', 'POST', 'PUT', 'PATCH', 'DELETE', ...If omitted or empty, all methods are allowed.
- `path` (String) Path is an extended POSIX regex matched against the path of arequest. Currently it can contain characters disallowed from theconventional 'path' part of a URL as defined by RFC 3986.If omitted or empty, all paths are all allowed.

<a id="nestedatt--spec--ingress--to_ports--rules--http--header_matches"></a>
### Nested Schema for `spec.ingress.to_ports.rules.http.header_matches`

Required:

- `name` (String) Name identifies the header.

Optional:

- `mismatch` (String) Mismatch identifies what to do in case there is no match. The default isto drop the request. Otherwise the overall rule is still considered asmatching, but the mismatches are logged in the access log.
- `secret` (Attributes) Secret refers to a secret that contains the value to be matched against.The secret must only contain one entry. If the referred secret does notexist, and there is no 'Value' specified, the match will fail. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--rules--http--header_matches--secret))
- `value` (String) Value matches the exact value of the header. Can be specified eitheralone or together with 'Secret'; will be used as the header value if thesecret can not be found in the latter case.

<a id="nestedatt--spec--ingress--to_ports--rules--http--header_matches--secret"></a>
### Nested Schema for `spec.ingress.to_ports.rules.http.header_matches.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').




<a id="nestedatt--spec--ingress--to_ports--rules--kafka"></a>
### Nested Schema for `spec.ingress.to_ports.rules.kafka`

Optional:

- `api_key` (String) APIKey is a case-insensitive string matched against the key of arequest, e.g. 'produce', 'fetch', 'createtopic', 'deletetopic', et alReference: https://kafka.apache.org/protocol#protocol_api_keysIf omitted or empty, and if Role is not specified, then all keys are allowed.
- `api_version` (String) APIVersion is the version matched against the api version of theKafka message. If set, it has to be a string representing a positiveinteger.If omitted or empty, all versions are allowed.
- `client_id` (String) ClientID is the client identifier as provided in the request.From Kafka protocol documentation:This is a user supplied identifier for the client application. Theuser can use any identifier they like and it will be used whenlogging errors, monitoring aggregates, etc. For example, one mightwant to monitor not just the requests per second overall, but thenumber coming from each client application (each of which couldreside on multiple servers). This id acts as a logical groupingacross all requests from a particular client.If omitted or empty, all client identifiers are allowed.
- `role` (String) Role is a case-insensitive string and describes a group of API keysnecessary to perform certain higher-level Kafka operations such as 'produce'or 'consume'. A Role automatically expands into all APIKeys requiredto perform the specified higher-level operation.The following values are supported: - 'produce': Allow producing to the topics specified in the rule - 'consume': Allow consuming from the topics specified in the ruleThis field is incompatible with the APIKey field, i.e APIKey and Rolecannot both be specified in the same rule.If omitted or empty, and if APIKey is not specified, then all keys areallowed.
- `topic` (String) Topic is the topic name contained in the message. If a Kafka requestcontains multiple topics, then all topics must be allowed or themessage will be rejected.This constraint is ignored if the matched request message typedoesn't contain any topic. Maximum size of Topic can be 249characters as per recent Kafka spec and allowed characters area-z, A-Z, 0-9, -, . and _.Older Kafka versions had longer topic lengths of 255, but in Kafka 0.10version the length was changed from 255 to 249. For compatibilityreasons we are using 255.If omitted or empty, all topics are allowed.



<a id="nestedatt--spec--ingress--to_ports--terminating_tls"></a>
### Nested Schema for `spec.ingress.to_ports.terminating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--spec--ingress--to_ports--terminating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--spec--ingress--to_ports--terminating_tls--secret"></a>
### Nested Schema for `spec.ingress.to_ports.terminating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').





<a id="nestedatt--spec--ingress_deny"></a>
### Nested Schema for `spec.ingress_deny`

Optional:

- `from_cidr` (List of String) FromCIDR is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from. Only connections whichdo *not* originate from the cluster or from the local host are subjectto CIDR rules. In order to allow in-cluster connectivity, use theFromEndpoints field.  This will match on the source IP address ofincoming connections. Adding  a prefix into FromCIDR or intoFromCIDRSet with no ExcludeCIDRs is  equivalent.  Overlaps areallowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.3.9.1
- `from_cidr_set` (Attributes List) FromCIDRSet is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from in addition to FromEndpoints,along with a list of subnets contained within their corresponding IP blockfrom which traffic should not be allowed.This will match on the source IP address of incoming connections. Addinga prefix into FromCIDR or into FromCIDRSet with no ExcludeCIDRs isequivalent. Overlaps are allowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.0.0.0/8 except from IPs in subnet 10.96.0.0/12. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_cidr_set))
- `from_endpoints` (Attributes List) FromEndpoints is a list of endpoints identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule.Example:Any endpoint with the label 'role=backend' can be consumed by anyendpoint carrying the label 'role=frontend'. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_endpoints))
- `from_entities` (List of String) FromEntities is a list of special entities which the endpoint subjectto the rule is allowed to receive connections from. Supported entities are'world', 'cluster' and 'host'
- `from_groups` (Attributes List) FromGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:FromGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--spec--ingress_deny--from_groups))
- `from_nodes` (Attributes List) FromNodes is a list of nodes identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_nodes))
- `from_requires` (Attributes List) FromRequires is a list of additional constraints which must be metin order for the selected endpoints to be reachable. Theseadditional constraints do no by itself grant access privileges andmust always be accompanied with at least one matching FromEndpoints.Example:Any Endpoint with the label 'team=A' requires consuming endpointto also carry the label 'team=A'. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_requires))
- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is not allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can not accept incomingtype 8 ICMP connections. (see [below for nested schema](#nestedatt--spec--ingress_deny--icmps))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is not allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can not accept incomingconnections on port 80/tcp. (see [below for nested schema](#nestedatt--spec--ingress_deny--to_ports))

<a id="nestedatt--spec--ingress_deny--from_cidr_set"></a>
### Nested Schema for `spec.ingress_deny.from_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--spec--ingress_deny--from_endpoints"></a>
### Nested Schema for `spec.ingress_deny.from_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--ingress_deny--from_endpoints--match_expressions"></a>
### Nested Schema for `spec.ingress_deny.from_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress_deny--from_groups"></a>
### Nested Schema for `spec.ingress_deny.from_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--spec--ingress_deny--from_groups--aws))

<a id="nestedatt--spec--ingress_deny--from_groups--aws"></a>
### Nested Schema for `spec.ingress_deny.from_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--spec--ingress_deny--from_nodes"></a>
### Nested Schema for `spec.ingress_deny.from_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--ingress_deny--from_nodes--match_expressions"></a>
### Nested Schema for `spec.ingress_deny.from_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress_deny--from_requires"></a>
### Nested Schema for `spec.ingress_deny.from_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--ingress_deny--from_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--ingress_deny--from_requires--match_expressions"></a>
### Nested Schema for `spec.ingress_deny.from_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--spec--ingress_deny--icmps"></a>
### Nested Schema for `spec.ingress_deny.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--spec--ingress_deny--icmps--fields))

<a id="nestedatt--spec--ingress_deny--icmps--fields"></a>
### Nested Schema for `spec.ingress_deny.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--spec--ingress_deny--to_ports"></a>
### Nested Schema for `spec.ingress_deny.to_ports`

Optional:

- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--spec--ingress_deny--to_ports--ports))

<a id="nestedatt--spec--ingress_deny--to_ports--ports"></a>
### Nested Schema for `spec.ingress_deny.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.




<a id="nestedatt--spec--labels"></a>
### Nested Schema for `spec.labels`

Required:

- `key` (String)

Optional:

- `source` (String) Source can be one of the above values (e.g.: LabelSourceContainer).
- `value` (String)


<a id="nestedatt--spec--node_selector"></a>
### Nested Schema for `spec.node_selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--node_selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--node_selector--match_expressions"></a>
### Nested Schema for `spec.node_selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.




<a id="nestedatt--specs"></a>
### Nested Schema for `specs`

Optional:

- `description` (String) Description is a free form string, it can be used by the creator ofthe rule to store human readable explanation of the purpose of thisrule. Rules cannot be identified by comment.
- `egress` (Attributes List) Egress is a list of EgressRule which are enforced at egress.If omitted or empty, this rule does not apply at egress. (see [below for nested schema](#nestedatt--specs--egress))
- `egress_deny` (Attributes List) EgressDeny is a list of EgressDenyRule which are enforced at egress.Any rule inserted here will be denied regardless of the allowed egressrules in the 'egress' field.If omitted or empty, this rule does not apply at egress. (see [below for nested schema](#nestedatt--specs--egress_deny))
- `enable_default_deny` (Attributes) EnableDefaultDeny determines whether this policy configures thesubject endpoint(s) to have a default deny mode. If enabled,this causes all traffic not explicitly allowed by a network policyto be dropped.If not specified, the default is true for each traffic directionthat has rules, and false otherwise. For example, if a policyonly has Ingress or IngressDeny rules, then the default foringress is true and egress is false.If multiple policies apply to an endpoint, that endpoint's default denywill be enabled if any policy requests it.This is useful for creating broad-based network policies that will notcause endpoints to enter default-deny mode. (see [below for nested schema](#nestedatt--specs--enable_default_deny))
- `endpoint_selector` (Attributes) EndpointSelector selects all endpoints which should be subject tothis rule. EndpointSelector and NodeSelector cannot be both empty andare mutually exclusive. (see [below for nested schema](#nestedatt--specs--endpoint_selector))
- `ingress` (Attributes List) Ingress is a list of IngressRule which are enforced at ingress.If omitted or empty, this rule does not apply at ingress. (see [below for nested schema](#nestedatt--specs--ingress))
- `ingress_deny` (Attributes List) IngressDeny is a list of IngressDenyRule which are enforced at ingress.Any rule inserted here will be denied regardless of the allowed ingressrules in the 'ingress' field.If omitted or empty, this rule does not apply at ingress. (see [below for nested schema](#nestedatt--specs--ingress_deny))
- `labels` (Attributes List) Labels is a list of optional strings which can be used tore-identify the rule or to store metadata. It is possible to lookupor delete strings based on labels. Labels are not required to beunique, multiple rules can have overlapping or identical labels. (see [below for nested schema](#nestedatt--specs--labels))
- `node_selector` (Attributes) NodeSelector selects all nodes which should be subject to this rule.EndpointSelector and NodeSelector cannot be both empty and are mutuallyexclusive. Can only be used in CiliumClusterwideNetworkPolicies. (see [below for nested schema](#nestedatt--specs--node_selector))

<a id="nestedatt--specs--egress"></a>
### Nested Schema for `specs.egress`

Optional:

- `authentication` (Attributes) Authentication is the required authentication type for the allowed traffic, if any. (see [below for nested schema](#nestedatt--specs--egress--authentication))
- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is allowed to connect to.Example:Any endpoint with the label 'app=httpd' is allowed to initiatetype 8 ICMP connections. (see [below for nested schema](#nestedatt--specs--egress--icmps))
- `to_cidr` (List of String) ToCIDR is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections. Only connections destined foroutside of the cluster and not targeting the host will be subjectto CIDR rules.  This will match on the destination IP address ofoutgoing connections. Adding a prefix into ToCIDR or into ToCIDRSetwith no ExcludeCIDRs is equivalent. Overlaps are allowed betweenToCIDR and ToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24
- `to_cidr_set` (Attributes List) ToCIDRSet is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections to in addition to connectionswhich are allowed via ToEndpoints, along with a list of subnets containedwithin their corresponding IP block to which traffic should not beallowed. This will match on the destination IP address of outgoingconnections. Adding a prefix into ToCIDR or into ToCIDRSet with noExcludeCIDRs is equivalent. Overlaps are allowed between ToCIDR andToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24 except from IPs in subnet 10.2.3.0/28. (see [below for nested schema](#nestedatt--specs--egress--to_cidr_set))
- `to_endpoints` (Attributes List) ToEndpoints is a list of endpoints identified by an EndpointSelector towhich the endpoints subject to the rule are allowed to communicate.Example:Any endpoint with the label 'role=frontend' can communicate with anyendpoint carrying the label 'role=backend'. (see [below for nested schema](#nestedatt--specs--egress--to_endpoints))
- `to_entities` (List of String) ToEntities is a list of special entities to which the endpoint subjectto the rule is allowed to initiate connections. Supported entities are'world', 'cluster','host','remote-node','kube-apiserver', 'init','health','unmanaged' and 'all'.
- `to_fqd_ns` (Attributes List) ToFQDN allows whitelisting DNS names in place of IPs. The IPs that resultfrom DNS resolution of 'ToFQDN.MatchName's are added to the sameEgressRule object as ToCIDRSet entries, and behave accordingly. Any L4 andL7 rules within this EgressRule will also apply to these IPs.The DNS -> IP mapping is re-resolved periodically from within thecilium-agent, and the IPs in the DNS response are effected in the policyfor selected pods as-is (i.e. the list of IPs is not modified in any way).Note: An explicit rule to allow for DNS traffic is needed for the pods, asToFQDN counts as an egress rule and will enforce egress policy whenPolicyEnforcment=default.Note: If the resolved IPs are IPs within the kubernetes cluster, theToFQDN rule will not apply to that IP.Note: ToFQDN cannot occur in the same policy as other To* rules. (see [below for nested schema](#nestedatt--specs--egress--to_fqd_ns))
- `to_groups` (Attributes List) ToGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:toGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--specs--egress--to_groups))
- `to_nodes` (Attributes List) ToNodes is a list of nodes identified by anEndpointSelector to which endpoints subject to the rule is allowed to communicate. (see [below for nested schema](#nestedatt--specs--egress--to_nodes))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is allowed toconnect to.Example:Any endpoint with the label 'role=frontend' is allowed to initiateconnections to destination port 8080/tcp (see [below for nested schema](#nestedatt--specs--egress--to_ports))
- `to_requires` (Attributes List) ToRequires is a list of additional constraints which must be metin order for the selected endpoints to be able to connect to otherendpoints. These additional constraints do no by itself grant accessprivileges and must always be accompanied with at least one matchingToEndpoints.Example:Any Endpoint with the label 'team=A' requires any endpoint to which itcommunicates to also carry the label 'team=A'. (see [below for nested schema](#nestedatt--specs--egress--to_requires))
- `to_services` (Attributes List) ToServices is a list of services to which the endpoint subjectto the rule is allowed to initiate connections.Currently Cilium only supports toServices for K8s services withoutselectors.Example:Any endpoint with the label 'app=backend-app' is allowed toinitiate connections to all cidrs backing the 'external-service' service (see [below for nested schema](#nestedatt--specs--egress--to_services))

<a id="nestedatt--specs--egress--authentication"></a>
### Nested Schema for `specs.egress.authentication`

Required:

- `mode` (String) Mode is the required authentication mode for the allowed traffic, if any.


<a id="nestedatt--specs--egress--icmps"></a>
### Nested Schema for `specs.egress.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--specs--egress--icmps--fields))

<a id="nestedatt--specs--egress--icmps--fields"></a>
### Nested Schema for `specs.egress.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--specs--egress--to_cidr_set"></a>
### Nested Schema for `specs.egress.to_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--specs--egress--to_endpoints"></a>
### Nested Schema for `specs.egress.to_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress--to_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress--to_endpoints--match_expressions"></a>
### Nested Schema for `specs.egress.to_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--egress--to_fqd_ns"></a>
### Nested Schema for `specs.egress.to_fqd_ns`

Optional:

- `match_name` (String) MatchName matches literal DNS names. A trailing '.' is automatically addedwhen missing.
- `match_pattern` (String) MatchPattern allows using wildcards to match DNS names. All wildcards arecase insensitive. The wildcards are:- '*' matches 0 or more DNS valid characters, and may occur anywhere inthe pattern. As a special case a '*' as the leftmost character, without afollowing '.' matches all subdomains as well as the name to the right.A trailing '.' is automatically added when missing.Examples:'*.cilium.io' matches subomains of cilium at that level  www.cilium.io and blog.cilium.io match, cilium.io and google.com do not'*cilium.io' matches cilium.io and all subdomains ends with 'cilium.io'  except those containing '.' separator, subcilium.io and sub-cilium.io match,  www.cilium.io and blog.cilium.io does notsub*.cilium.io matches subdomains of cilium where the subdomain componentbegins with 'sub'  sub.cilium.io and subdomain.cilium.io match, www.cilium.io,  blog.cilium.io, cilium.io and google.com do not


<a id="nestedatt--specs--egress--to_groups"></a>
### Nested Schema for `specs.egress.to_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--specs--egress--to_groups--aws))

<a id="nestedatt--specs--egress--to_groups--aws"></a>
### Nested Schema for `specs.egress.to_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--specs--egress--to_nodes"></a>
### Nested Schema for `specs.egress.to_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress--to_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress--to_nodes--match_expressions"></a>
### Nested Schema for `specs.egress.to_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--egress--to_ports"></a>
### Nested Schema for `specs.egress.to_ports`

Optional:

- `listener` (Attributes) listener specifies the name of a custom Envoy listener to which this traffic should beredirected to. (see [below for nested schema](#nestedatt--specs--egress--to_ports--listener))
- `originating_tls` (Attributes) OriginatingTLS is the TLS context for the connections originated bythe L7 proxy.  For egress policy this specifies the client-side TLSparameters for the upstream connection originating from the L7 proxyto the remote destination. For ingress policy this specifies theclient-side TLS parameters for the connection from the L7 proxy tothe local endpoint. (see [below for nested schema](#nestedatt--specs--egress--to_ports--originating_tls))
- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--specs--egress--to_ports--ports))
- `rules` (Attributes) Rules is a list of additional port level rules which must be met inorder for the PortRule to allow the traffic. If omitted or empty,no layer 7 rules are enforced. (see [below for nested schema](#nestedatt--specs--egress--to_ports--rules))
- `server_names` (List of String) ServerNames is a list of allowed TLS SNI values. If not empty, thenTLS must be present and one of the provided SNIs must be indicated in theTLS handshake.
- `terminating_tls` (Attributes) TerminatingTLS is the TLS context for the connection terminated bythe L7 proxy.  For egress policy this specifies the server-side TLSparameters to be applied on the connections originated from the localendpoint and terminated by the L7 proxy. For ingress policy this specifiesthe server-side TLS parameters to be applied on the connectionsoriginated from a remote source and terminated by the L7 proxy. (see [below for nested schema](#nestedatt--specs--egress--to_ports--terminating_tls))

<a id="nestedatt--specs--egress--to_ports--listener"></a>
### Nested Schema for `specs.egress.to_ports.listener`

Required:

- `envoy_config` (Attributes) EnvoyConfig is a reference to the CEC or CCEC resource in whichthe listener is defined. (see [below for nested schema](#nestedatt--specs--egress--to_ports--listener--envoy_config))
- `name` (String) Name is the name of the listener.

Optional:

- `priority` (Number) Priority for this Listener that is used when multiple rules would apply differentlisteners to a policy map entry. Behavior of this is implementation dependent.

<a id="nestedatt--specs--egress--to_ports--listener--envoy_config"></a>
### Nested Schema for `specs.egress.to_ports.listener.envoy_config`

Required:

- `name` (String) Name is the resource name of the CiliumEnvoyConfig or CiliumClusterwideEnvoyConfig wherethe listener is defined in.

Optional:

- `kind` (String) Kind is the resource type being referred to. Defaults to CiliumEnvoyConfig orCiliumClusterwideEnvoyConfig for CiliumNetworkPolicy and CiliumClusterwideNetworkPolicy,respectively. The only case this is currently explicitly needed is when referring to aCiliumClusterwideEnvoyConfig from CiliumNetworkPolicy, as using a namespaced listenerfrom a cluster scoped policy is not allowed.



<a id="nestedatt--specs--egress--to_ports--originating_tls"></a>
### Nested Schema for `specs.egress.to_ports.originating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--specs--egress--to_ports--originating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--specs--egress--to_ports--originating_tls--secret"></a>
### Nested Schema for `specs.egress.to_ports.originating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').



<a id="nestedatt--specs--egress--to_ports--ports"></a>
### Nested Schema for `specs.egress.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.


<a id="nestedatt--specs--egress--to_ports--rules"></a>
### Nested Schema for `specs.egress.to_ports.rules`

Optional:

- `dns` (Attributes List) DNS-specific rules. (see [below for nested schema](#nestedatt--specs--egress--to_ports--rules--dns))
- `http` (Attributes List) HTTP specific rules. (see [below for nested schema](#nestedatt--specs--egress--to_ports--rules--http))
- `kafka` (Attributes List) Kafka-specific rules. (see [below for nested schema](#nestedatt--specs--egress--to_ports--rules--kafka))
- `l7` (List of Map of String) Key-value pair rules.
- `l7proto` (String) Name of the L7 protocol for which the Key-value pair rules apply.

<a id="nestedatt--specs--egress--to_ports--rules--dns"></a>
### Nested Schema for `specs.egress.to_ports.rules.dns`

Optional:

- `match_name` (String) MatchName matches literal DNS names. A trailing '.' is automatically addedwhen missing.
- `match_pattern` (String) MatchPattern allows using wildcards to match DNS names. All wildcards arecase insensitive. The wildcards are:- '*' matches 0 or more DNS valid characters, and may occur anywhere inthe pattern. As a special case a '*' as the leftmost character, without afollowing '.' matches all subdomains as well as the name to the right.A trailing '.' is automatically added when missing.Examples:'*.cilium.io' matches subomains of cilium at that level  www.cilium.io and blog.cilium.io match, cilium.io and google.com do not'*cilium.io' matches cilium.io and all subdomains ends with 'cilium.io'  except those containing '.' separator, subcilium.io and sub-cilium.io match,  www.cilium.io and blog.cilium.io does notsub*.cilium.io matches subdomains of cilium where the subdomain componentbegins with 'sub'  sub.cilium.io and subdomain.cilium.io match, www.cilium.io,  blog.cilium.io, cilium.io and google.com do not


<a id="nestedatt--specs--egress--to_ports--rules--http"></a>
### Nested Schema for `specs.egress.to_ports.rules.http`

Optional:

- `header_matches` (Attributes List) HeaderMatches is a list of HTTP headers which must bepresent and match against the given values. Mismatch field can be usedto specify what to do when there is no match. (see [below for nested schema](#nestedatt--specs--egress--to_ports--rules--http--header_matches))
- `headers` (List of String) Headers is a list of HTTP headers which must be present in therequest. If omitted or empty, requests are allowed regardless ofheaders present.
- `host` (String) Host is an extended POSIX regex matched against the host header of arequest. Examples:- foo.bar.com will match the host fooXbar.com or foo-bar.com- foo.bar.com will only match the host foo.bar.comIf omitted or empty, the value of the host header is ignored.
- `method` (String) Method is an extended POSIX regex matched against the method of arequest, e.g. 'GET', 'POST', 'PUT', 'PATCH', 'DELETE', ...If omitted or empty, all methods are allowed.
- `path` (String) Path is an extended POSIX regex matched against the path of arequest. Currently it can contain characters disallowed from theconventional 'path' part of a URL as defined by RFC 3986.If omitted or empty, all paths are all allowed.

<a id="nestedatt--specs--egress--to_ports--rules--http--header_matches"></a>
### Nested Schema for `specs.egress.to_ports.rules.http.header_matches`

Required:

- `name` (String) Name identifies the header.

Optional:

- `mismatch` (String) Mismatch identifies what to do in case there is no match. The default isto drop the request. Otherwise the overall rule is still considered asmatching, but the mismatches are logged in the access log.
- `secret` (Attributes) Secret refers to a secret that contains the value to be matched against.The secret must only contain one entry. If the referred secret does notexist, and there is no 'Value' specified, the match will fail. (see [below for nested schema](#nestedatt--specs--egress--to_ports--rules--http--header_matches--secret))
- `value` (String) Value matches the exact value of the header. Can be specified eitheralone or together with 'Secret'; will be used as the header value if thesecret can not be found in the latter case.

<a id="nestedatt--specs--egress--to_ports--rules--http--header_matches--secret"></a>
### Nested Schema for `specs.egress.to_ports.rules.http.header_matches.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').




<a id="nestedatt--specs--egress--to_ports--rules--kafka"></a>
### Nested Schema for `specs.egress.to_ports.rules.kafka`

Optional:

- `api_key` (String) APIKey is a case-insensitive string matched against the key of arequest, e.g. 'produce', 'fetch', 'createtopic', 'deletetopic', et alReference: https://kafka.apache.org/protocol#protocol_api_keysIf omitted or empty, and if Role is not specified, then all keys are allowed.
- `api_version` (String) APIVersion is the version matched against the api version of theKafka message. If set, it has to be a string representing a positiveinteger.If omitted or empty, all versions are allowed.
- `client_id` (String) ClientID is the client identifier as provided in the request.From Kafka protocol documentation:This is a user supplied identifier for the client application. Theuser can use any identifier they like and it will be used whenlogging errors, monitoring aggregates, etc. For example, one mightwant to monitor not just the requests per second overall, but thenumber coming from each client application (each of which couldreside on multiple servers). This id acts as a logical groupingacross all requests from a particular client.If omitted or empty, all client identifiers are allowed.
- `role` (String) Role is a case-insensitive string and describes a group of API keysnecessary to perform certain higher-level Kafka operations such as 'produce'or 'consume'. A Role automatically expands into all APIKeys requiredto perform the specified higher-level operation.The following values are supported: - 'produce': Allow producing to the topics specified in the rule - 'consume': Allow consuming from the topics specified in the ruleThis field is incompatible with the APIKey field, i.e APIKey and Rolecannot both be specified in the same rule.If omitted or empty, and if APIKey is not specified, then all keys areallowed.
- `topic` (String) Topic is the topic name contained in the message. If a Kafka requestcontains multiple topics, then all topics must be allowed or themessage will be rejected.This constraint is ignored if the matched request message typedoesn't contain any topic. Maximum size of Topic can be 249characters as per recent Kafka spec and allowed characters area-z, A-Z, 0-9, -, . and _.Older Kafka versions had longer topic lengths of 255, but in Kafka 0.10version the length was changed from 255 to 249. For compatibilityreasons we are using 255.If omitted or empty, all topics are allowed.



<a id="nestedatt--specs--egress--to_ports--terminating_tls"></a>
### Nested Schema for `specs.egress.to_ports.terminating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--specs--egress--to_ports--terminating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--specs--egress--to_ports--terminating_tls--secret"></a>
### Nested Schema for `specs.egress.to_ports.terminating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').




<a id="nestedatt--specs--egress--to_requires"></a>
### Nested Schema for `specs.egress.to_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress--to_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress--to_requires--match_expressions"></a>
### Nested Schema for `specs.egress.to_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--egress--to_services"></a>
### Nested Schema for `specs.egress.to_services`

Optional:

- `k8s_service` (Attributes) K8sService selects service by name and namespace pair (see [below for nested schema](#nestedatt--specs--egress--to_services--k8s_service))
- `k8s_service_selector` (Attributes) K8sServiceSelector selects services by k8s labels and namespace (see [below for nested schema](#nestedatt--specs--egress--to_services--k8s_service_selector))

<a id="nestedatt--specs--egress--to_services--k8s_service"></a>
### Nested Schema for `specs.egress.to_services.k8s_service`

Optional:

- `namespace` (String)
- `service_name` (String)


<a id="nestedatt--specs--egress--to_services--k8s_service_selector"></a>
### Nested Schema for `specs.egress.to_services.k8s_service_selector`

Required:

- `selector` (Attributes) ServiceSelector is a label selector for k8s services (see [below for nested schema](#nestedatt--specs--egress--to_services--k8s_service_selector--selector))

Optional:

- `namespace` (String)

<a id="nestedatt--specs--egress--to_services--k8s_service_selector--selector"></a>
### Nested Schema for `specs.egress.to_services.k8s_service_selector.selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress--to_services--k8s_service_selector--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress--to_services--k8s_service_selector--selector--match_expressions"></a>
### Nested Schema for `specs.egress.to_services.k8s_service_selector.selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.






<a id="nestedatt--specs--egress_deny"></a>
### Nested Schema for `specs.egress_deny`

Optional:

- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is not allowed to connect to.Example:Any endpoint with the label 'app=httpd' is not allowed to initiatetype 8 ICMP connections. (see [below for nested schema](#nestedatt--specs--egress_deny--icmps))
- `to_cidr` (List of String) ToCIDR is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections. Only connections destined foroutside of the cluster and not targeting the host will be subjectto CIDR rules.  This will match on the destination IP address ofoutgoing connections. Adding a prefix into ToCIDR or into ToCIDRSetwith no ExcludeCIDRs is equivalent. Overlaps are allowed betweenToCIDR and ToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24
- `to_cidr_set` (Attributes List) ToCIDRSet is a list of IP blocks which the endpoint subject to the ruleis allowed to initiate connections to in addition to connectionswhich are allowed via ToEndpoints, along with a list of subnets containedwithin their corresponding IP block to which traffic should not beallowed. This will match on the destination IP address of outgoingconnections. Adding a prefix into ToCIDR or into ToCIDRSet with noExcludeCIDRs is equivalent. Overlaps are allowed between ToCIDR andToCIDRSet.Example:Any endpoint with the label 'app=database-proxy' is allowed toinitiate connections to 10.2.3.0/24 except from IPs in subnet 10.2.3.0/28. (see [below for nested schema](#nestedatt--specs--egress_deny--to_cidr_set))
- `to_endpoints` (Attributes List) ToEndpoints is a list of endpoints identified by an EndpointSelector towhich the endpoints subject to the rule are allowed to communicate.Example:Any endpoint with the label 'role=frontend' can communicate with anyendpoint carrying the label 'role=backend'. (see [below for nested schema](#nestedatt--specs--egress_deny--to_endpoints))
- `to_entities` (List of String) ToEntities is a list of special entities to which the endpoint subjectto the rule is allowed to initiate connections. Supported entities are'world', 'cluster','host','remote-node','kube-apiserver', 'init','health','unmanaged' and 'all'.
- `to_groups` (Attributes List) ToGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:toGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--specs--egress_deny--to_groups))
- `to_nodes` (Attributes List) ToNodes is a list of nodes identified by anEndpointSelector to which endpoints subject to the rule is allowed to communicate. (see [below for nested schema](#nestedatt--specs--egress_deny--to_nodes))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is not allowed to connectto.Example:Any endpoint with the label 'role=frontend' is not allowed to initiateconnections to destination port 8080/tcp (see [below for nested schema](#nestedatt--specs--egress_deny--to_ports))
- `to_requires` (Attributes List) ToRequires is a list of additional constraints which must be metin order for the selected endpoints to be able to connect to otherendpoints. These additional constraints do no by itself grant accessprivileges and must always be accompanied with at least one matchingToEndpoints.Example:Any Endpoint with the label 'team=A' requires any endpoint to which itcommunicates to also carry the label 'team=A'. (see [below for nested schema](#nestedatt--specs--egress_deny--to_requires))
- `to_services` (Attributes List) ToServices is a list of services to which the endpoint subjectto the rule is allowed to initiate connections.Currently Cilium only supports toServices for K8s services withoutselectors.Example:Any endpoint with the label 'app=backend-app' is allowed toinitiate connections to all cidrs backing the 'external-service' service (see [below for nested schema](#nestedatt--specs--egress_deny--to_services))

<a id="nestedatt--specs--egress_deny--icmps"></a>
### Nested Schema for `specs.egress_deny.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--specs--egress_deny--icmps--fields))

<a id="nestedatt--specs--egress_deny--icmps--fields"></a>
### Nested Schema for `specs.egress_deny.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--specs--egress_deny--to_cidr_set"></a>
### Nested Schema for `specs.egress_deny.to_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--specs--egress_deny--to_endpoints"></a>
### Nested Schema for `specs.egress_deny.to_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress_deny--to_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress_deny--to_endpoints--match_expressions"></a>
### Nested Schema for `specs.egress_deny.to_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--egress_deny--to_groups"></a>
### Nested Schema for `specs.egress_deny.to_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--specs--egress_deny--to_groups--aws))

<a id="nestedatt--specs--egress_deny--to_groups--aws"></a>
### Nested Schema for `specs.egress_deny.to_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--specs--egress_deny--to_nodes"></a>
### Nested Schema for `specs.egress_deny.to_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress_deny--to_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress_deny--to_nodes--match_expressions"></a>
### Nested Schema for `specs.egress_deny.to_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--egress_deny--to_ports"></a>
### Nested Schema for `specs.egress_deny.to_ports`

Optional:

- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--specs--egress_deny--to_ports--ports))

<a id="nestedatt--specs--egress_deny--to_ports--ports"></a>
### Nested Schema for `specs.egress_deny.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.



<a id="nestedatt--specs--egress_deny--to_requires"></a>
### Nested Schema for `specs.egress_deny.to_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress_deny--to_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress_deny--to_requires--match_expressions"></a>
### Nested Schema for `specs.egress_deny.to_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--egress_deny--to_services"></a>
### Nested Schema for `specs.egress_deny.to_services`

Optional:

- `k8s_service` (Attributes) K8sService selects service by name and namespace pair (see [below for nested schema](#nestedatt--specs--egress_deny--to_services--k8s_service))
- `k8s_service_selector` (Attributes) K8sServiceSelector selects services by k8s labels and namespace (see [below for nested schema](#nestedatt--specs--egress_deny--to_services--k8s_service_selector))

<a id="nestedatt--specs--egress_deny--to_services--k8s_service"></a>
### Nested Schema for `specs.egress_deny.to_services.k8s_service`

Optional:

- `namespace` (String)
- `service_name` (String)


<a id="nestedatt--specs--egress_deny--to_services--k8s_service_selector"></a>
### Nested Schema for `specs.egress_deny.to_services.k8s_service_selector`

Required:

- `selector` (Attributes) ServiceSelector is a label selector for k8s services (see [below for nested schema](#nestedatt--specs--egress_deny--to_services--k8s_service_selector--selector))

Optional:

- `namespace` (String)

<a id="nestedatt--specs--egress_deny--to_services--k8s_service_selector--selector"></a>
### Nested Schema for `specs.egress_deny.to_services.k8s_service_selector.selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--egress_deny--to_services--k8s_service_selector--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--egress_deny--to_services--k8s_service_selector--selector--match_expressions"></a>
### Nested Schema for `specs.egress_deny.to_services.k8s_service_selector.selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.






<a id="nestedatt--specs--enable_default_deny"></a>
### Nested Schema for `specs.enable_default_deny`

Optional:

- `egress` (Boolean) Whether or not the endpoint should have a default-deny rule appliedto egress traffic.
- `ingress` (Boolean) Whether or not the endpoint should have a default-deny rule appliedto ingress traffic.


<a id="nestedatt--specs--endpoint_selector"></a>
### Nested Schema for `specs.endpoint_selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--endpoint_selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--endpoint_selector--match_expressions"></a>
### Nested Schema for `specs.endpoint_selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress"></a>
### Nested Schema for `specs.ingress`

Optional:

- `authentication` (Attributes) Authentication is the required authentication type for the allowed traffic, if any. (see [below for nested schema](#nestedatt--specs--ingress--authentication))
- `from_cidr` (List of String) FromCIDR is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from. Only connections whichdo *not* originate from the cluster or from the local host are subjectto CIDR rules. In order to allow in-cluster connectivity, use theFromEndpoints field.  This will match on the source IP address ofincoming connections. Adding  a prefix into FromCIDR or intoFromCIDRSet with no ExcludeCIDRs is  equivalent.  Overlaps areallowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.3.9.1
- `from_cidr_set` (Attributes List) FromCIDRSet is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from in addition to FromEndpoints,along with a list of subnets contained within their corresponding IP blockfrom which traffic should not be allowed.This will match on the source IP address of incoming connections. Addinga prefix into FromCIDR or into FromCIDRSet with no ExcludeCIDRs isequivalent. Overlaps are allowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.0.0.0/8 except from IPs in subnet 10.96.0.0/12. (see [below for nested schema](#nestedatt--specs--ingress--from_cidr_set))
- `from_endpoints` (Attributes List) FromEndpoints is a list of endpoints identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule.Example:Any endpoint with the label 'role=backend' can be consumed by anyendpoint carrying the label 'role=frontend'. (see [below for nested schema](#nestedatt--specs--ingress--from_endpoints))
- `from_entities` (List of String) FromEntities is a list of special entities which the endpoint subjectto the rule is allowed to receive connections from. Supported entities are'world', 'cluster' and 'host'
- `from_groups` (Attributes List) FromGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:FromGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--specs--ingress--from_groups))
- `from_nodes` (Attributes List) FromNodes is a list of nodes identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule. (see [below for nested schema](#nestedatt--specs--ingress--from_nodes))
- `from_requires` (Attributes List) FromRequires is a list of additional constraints which must be metin order for the selected endpoints to be reachable. Theseadditional constraints do no by itself grant access privileges andmust always be accompanied with at least one matching FromEndpoints.Example:Any Endpoint with the label 'team=A' requires consuming endpointto also carry the label 'team=A'. (see [below for nested schema](#nestedatt--specs--ingress--from_requires))
- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can only accept incomingtype 8 ICMP connections. (see [below for nested schema](#nestedatt--specs--ingress--icmps))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can only accept incomingconnections on port 80/tcp. (see [below for nested schema](#nestedatt--specs--ingress--to_ports))

<a id="nestedatt--specs--ingress--authentication"></a>
### Nested Schema for `specs.ingress.authentication`

Required:

- `mode` (String) Mode is the required authentication mode for the allowed traffic, if any.


<a id="nestedatt--specs--ingress--from_cidr_set"></a>
### Nested Schema for `specs.ingress.from_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--specs--ingress--from_endpoints"></a>
### Nested Schema for `specs.ingress.from_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--ingress--from_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--ingress--from_endpoints--match_expressions"></a>
### Nested Schema for `specs.ingress.from_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress--from_groups"></a>
### Nested Schema for `specs.ingress.from_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--specs--ingress--from_groups--aws))

<a id="nestedatt--specs--ingress--from_groups--aws"></a>
### Nested Schema for `specs.ingress.from_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--specs--ingress--from_nodes"></a>
### Nested Schema for `specs.ingress.from_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--ingress--from_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--ingress--from_nodes--match_expressions"></a>
### Nested Schema for `specs.ingress.from_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress--from_requires"></a>
### Nested Schema for `specs.ingress.from_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--ingress--from_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--ingress--from_requires--match_expressions"></a>
### Nested Schema for `specs.ingress.from_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress--icmps"></a>
### Nested Schema for `specs.ingress.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--specs--ingress--icmps--fields))

<a id="nestedatt--specs--ingress--icmps--fields"></a>
### Nested Schema for `specs.ingress.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--specs--ingress--to_ports"></a>
### Nested Schema for `specs.ingress.to_ports`

Optional:

- `listener` (Attributes) listener specifies the name of a custom Envoy listener to which this traffic should beredirected to. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--listener))
- `originating_tls` (Attributes) OriginatingTLS is the TLS context for the connections originated bythe L7 proxy.  For egress policy this specifies the client-side TLSparameters for the upstream connection originating from the L7 proxyto the remote destination. For ingress policy this specifies theclient-side TLS parameters for the connection from the L7 proxy tothe local endpoint. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--originating_tls))
- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--specs--ingress--to_ports--ports))
- `rules` (Attributes) Rules is a list of additional port level rules which must be met inorder for the PortRule to allow the traffic. If omitted or empty,no layer 7 rules are enforced. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--rules))
- `server_names` (List of String) ServerNames is a list of allowed TLS SNI values. If not empty, thenTLS must be present and one of the provided SNIs must be indicated in theTLS handshake.
- `terminating_tls` (Attributes) TerminatingTLS is the TLS context for the connection terminated bythe L7 proxy.  For egress policy this specifies the server-side TLSparameters to be applied on the connections originated from the localendpoint and terminated by the L7 proxy. For ingress policy this specifiesthe server-side TLS parameters to be applied on the connectionsoriginated from a remote source and terminated by the L7 proxy. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--terminating_tls))

<a id="nestedatt--specs--ingress--to_ports--listener"></a>
### Nested Schema for `specs.ingress.to_ports.listener`

Required:

- `envoy_config` (Attributes) EnvoyConfig is a reference to the CEC or CCEC resource in whichthe listener is defined. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--listener--envoy_config))
- `name` (String) Name is the name of the listener.

Optional:

- `priority` (Number) Priority for this Listener that is used when multiple rules would apply differentlisteners to a policy map entry. Behavior of this is implementation dependent.

<a id="nestedatt--specs--ingress--to_ports--listener--envoy_config"></a>
### Nested Schema for `specs.ingress.to_ports.listener.envoy_config`

Required:

- `name` (String) Name is the resource name of the CiliumEnvoyConfig or CiliumClusterwideEnvoyConfig wherethe listener is defined in.

Optional:

- `kind` (String) Kind is the resource type being referred to. Defaults to CiliumEnvoyConfig orCiliumClusterwideEnvoyConfig for CiliumNetworkPolicy and CiliumClusterwideNetworkPolicy,respectively. The only case this is currently explicitly needed is when referring to aCiliumClusterwideEnvoyConfig from CiliumNetworkPolicy, as using a namespaced listenerfrom a cluster scoped policy is not allowed.



<a id="nestedatt--specs--ingress--to_ports--originating_tls"></a>
### Nested Schema for `specs.ingress.to_ports.originating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--originating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--specs--ingress--to_ports--originating_tls--secret"></a>
### Nested Schema for `specs.ingress.to_ports.originating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').



<a id="nestedatt--specs--ingress--to_ports--ports"></a>
### Nested Schema for `specs.ingress.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.


<a id="nestedatt--specs--ingress--to_ports--rules"></a>
### Nested Schema for `specs.ingress.to_ports.rules`

Optional:

- `dns` (Attributes List) DNS-specific rules. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--rules--dns))
- `http` (Attributes List) HTTP specific rules. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--rules--http))
- `kafka` (Attributes List) Kafka-specific rules. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--rules--kafka))
- `l7` (List of Map of String) Key-value pair rules.
- `l7proto` (String) Name of the L7 protocol for which the Key-value pair rules apply.

<a id="nestedatt--specs--ingress--to_ports--rules--dns"></a>
### Nested Schema for `specs.ingress.to_ports.rules.dns`

Optional:

- `match_name` (String) MatchName matches literal DNS names. A trailing '.' is automatically addedwhen missing.
- `match_pattern` (String) MatchPattern allows using wildcards to match DNS names. All wildcards arecase insensitive. The wildcards are:- '*' matches 0 or more DNS valid characters, and may occur anywhere inthe pattern. As a special case a '*' as the leftmost character, without afollowing '.' matches all subdomains as well as the name to the right.A trailing '.' is automatically added when missing.Examples:'*.cilium.io' matches subomains of cilium at that level  www.cilium.io and blog.cilium.io match, cilium.io and google.com do not'*cilium.io' matches cilium.io and all subdomains ends with 'cilium.io'  except those containing '.' separator, subcilium.io and sub-cilium.io match,  www.cilium.io and blog.cilium.io does notsub*.cilium.io matches subdomains of cilium where the subdomain componentbegins with 'sub'  sub.cilium.io and subdomain.cilium.io match, www.cilium.io,  blog.cilium.io, cilium.io and google.com do not


<a id="nestedatt--specs--ingress--to_ports--rules--http"></a>
### Nested Schema for `specs.ingress.to_ports.rules.http`

Optional:

- `header_matches` (Attributes List) HeaderMatches is a list of HTTP headers which must bepresent and match against the given values. Mismatch field can be usedto specify what to do when there is no match. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--rules--http--header_matches))
- `headers` (List of String) Headers is a list of HTTP headers which must be present in therequest. If omitted or empty, requests are allowed regardless ofheaders present.
- `host` (String) Host is an extended POSIX regex matched against the host header of arequest. Examples:- foo.bar.com will match the host fooXbar.com or foo-bar.com- foo.bar.com will only match the host foo.bar.comIf omitted or empty, the value of the host header is ignored.
- `method` (String) Method is an extended POSIX regex matched against the method of arequest, e.g. 'GET', 'POST', 'PUT', 'PATCH', 'DELETE', ...If omitted or empty, all methods are allowed.
- `path` (String) Path is an extended POSIX regex matched against the path of arequest. Currently it can contain characters disallowed from theconventional 'path' part of a URL as defined by RFC 3986.If omitted or empty, all paths are all allowed.

<a id="nestedatt--specs--ingress--to_ports--rules--http--header_matches"></a>
### Nested Schema for `specs.ingress.to_ports.rules.http.header_matches`

Required:

- `name` (String) Name identifies the header.

Optional:

- `mismatch` (String) Mismatch identifies what to do in case there is no match. The default isto drop the request. Otherwise the overall rule is still considered asmatching, but the mismatches are logged in the access log.
- `secret` (Attributes) Secret refers to a secret that contains the value to be matched against.The secret must only contain one entry. If the referred secret does notexist, and there is no 'Value' specified, the match will fail. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--rules--http--header_matches--secret))
- `value` (String) Value matches the exact value of the header. Can be specified eitheralone or together with 'Secret'; will be used as the header value if thesecret can not be found in the latter case.

<a id="nestedatt--specs--ingress--to_ports--rules--http--header_matches--secret"></a>
### Nested Schema for `specs.ingress.to_ports.rules.http.header_matches.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').




<a id="nestedatt--specs--ingress--to_ports--rules--kafka"></a>
### Nested Schema for `specs.ingress.to_ports.rules.kafka`

Optional:

- `api_key` (String) APIKey is a case-insensitive string matched against the key of arequest, e.g. 'produce', 'fetch', 'createtopic', 'deletetopic', et alReference: https://kafka.apache.org/protocol#protocol_api_keysIf omitted or empty, and if Role is not specified, then all keys are allowed.
- `api_version` (String) APIVersion is the version matched against the api version of theKafka message. If set, it has to be a string representing a positiveinteger.If omitted or empty, all versions are allowed.
- `client_id` (String) ClientID is the client identifier as provided in the request.From Kafka protocol documentation:This is a user supplied identifier for the client application. Theuser can use any identifier they like and it will be used whenlogging errors, monitoring aggregates, etc. For example, one mightwant to monitor not just the requests per second overall, but thenumber coming from each client application (each of which couldreside on multiple servers). This id acts as a logical groupingacross all requests from a particular client.If omitted or empty, all client identifiers are allowed.
- `role` (String) Role is a case-insensitive string and describes a group of API keysnecessary to perform certain higher-level Kafka operations such as 'produce'or 'consume'. A Role automatically expands into all APIKeys requiredto perform the specified higher-level operation.The following values are supported: - 'produce': Allow producing to the topics specified in the rule - 'consume': Allow consuming from the topics specified in the ruleThis field is incompatible with the APIKey field, i.e APIKey and Rolecannot both be specified in the same rule.If omitted or empty, and if APIKey is not specified, then all keys areallowed.
- `topic` (String) Topic is the topic name contained in the message. If a Kafka requestcontains multiple topics, then all topics must be allowed or themessage will be rejected.This constraint is ignored if the matched request message typedoesn't contain any topic. Maximum size of Topic can be 249characters as per recent Kafka spec and allowed characters area-z, A-Z, 0-9, -, . and _.Older Kafka versions had longer topic lengths of 255, but in Kafka 0.10version the length was changed from 255 to 249. For compatibilityreasons we are using 255.If omitted or empty, all topics are allowed.



<a id="nestedatt--specs--ingress--to_ports--terminating_tls"></a>
### Nested Schema for `specs.ingress.to_ports.terminating_tls`

Required:

- `secret` (Attributes) Secret is the secret that contains the certificates and private key forthe TLS context.By default, Cilium will search in this secret for the following items: - 'ca.crt'  - Which represents the trusted CA to verify remote source. - 'tls.crt' - Which represents the public key certificate. - 'tls.key' - Which represents the private key matching the public key               certificate. (see [below for nested schema](#nestedatt--specs--ingress--to_ports--terminating_tls--secret))

Optional:

- `certificate` (String) Certificate is the file name or k8s secret item name for the certificatechain. If omitted, 'tls.crt' is assumed, if it exists. If given, theitem must exist.
- `private_key` (String) PrivateKey is the file name or k8s secret item name for the private keymatching the certificate chain. If omitted, 'tls.key' is assumed, if itexists. If given, the item must exist.
- `trusted_ca` (String) TrustedCA is the file name or k8s secret item name for the trusted CA.If omitted, 'ca.crt' is assumed, if it exists. If given, the item mustexist.

<a id="nestedatt--specs--ingress--to_ports--terminating_tls--secret"></a>
### Nested Schema for `specs.ingress.to_ports.terminating_tls.secret`

Required:

- `name` (String) Name is the name of the secret.

Optional:

- `namespace` (String) Namespace is the namespace in which the secret exists. Context of usedetermines the default value if left out (e.g., 'default').





<a id="nestedatt--specs--ingress_deny"></a>
### Nested Schema for `specs.ingress_deny`

Optional:

- `from_cidr` (List of String) FromCIDR is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from. Only connections whichdo *not* originate from the cluster or from the local host are subjectto CIDR rules. In order to allow in-cluster connectivity, use theFromEndpoints field.  This will match on the source IP address ofincoming connections. Adding  a prefix into FromCIDR or intoFromCIDRSet with no ExcludeCIDRs is  equivalent.  Overlaps areallowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.3.9.1
- `from_cidr_set` (Attributes List) FromCIDRSet is a list of IP blocks which the endpoint subject to therule is allowed to receive connections from in addition to FromEndpoints,along with a list of subnets contained within their corresponding IP blockfrom which traffic should not be allowed.This will match on the source IP address of incoming connections. Addinga prefix into FromCIDR or into FromCIDRSet with no ExcludeCIDRs isequivalent. Overlaps are allowed between FromCIDR and FromCIDRSet.Example:Any endpoint with the label 'app=my-legacy-pet' is allowed to receiveconnections from 10.0.0.0/8 except from IPs in subnet 10.96.0.0/12. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_cidr_set))
- `from_endpoints` (Attributes List) FromEndpoints is a list of endpoints identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule.Example:Any endpoint with the label 'role=backend' can be consumed by anyendpoint carrying the label 'role=frontend'. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_endpoints))
- `from_entities` (List of String) FromEntities is a list of special entities which the endpoint subjectto the rule is allowed to receive connections from. Supported entities are'world', 'cluster' and 'host'
- `from_groups` (Attributes List) FromGroups is a directive that allows the integration with multiple outsideproviders. Currently, only AWS is supported, and the rule can select bymultiple sub directives:Example:FromGroups:- aws:    securityGroupsIds:    - 'sg-XXXXXXXXXXXXX' (see [below for nested schema](#nestedatt--specs--ingress_deny--from_groups))
- `from_nodes` (Attributes List) FromNodes is a list of nodes identified by anEndpointSelector which are allowed to communicate with the endpointsubject to the rule. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_nodes))
- `from_requires` (Attributes List) FromRequires is a list of additional constraints which must be metin order for the selected endpoints to be reachable. Theseadditional constraints do no by itself grant access privileges andmust always be accompanied with at least one matching FromEndpoints.Example:Any Endpoint with the label 'team=A' requires consuming endpointto also carry the label 'team=A'. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_requires))
- `icmps` (Attributes List) ICMPs is a list of ICMP rule identified by type numberwhich the endpoint subject to the rule is not allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can not accept incomingtype 8 ICMP connections. (see [below for nested schema](#nestedatt--specs--ingress_deny--icmps))
- `to_ports` (Attributes List) ToPorts is a list of destination ports identified by port number andprotocol which the endpoint subject to the rule is not allowed toreceive connections on.Example:Any endpoint with the label 'app=httpd' can not accept incomingconnections on port 80/tcp. (see [below for nested schema](#nestedatt--specs--ingress_deny--to_ports))

<a id="nestedatt--specs--ingress_deny--from_cidr_set"></a>
### Nested Schema for `specs.ingress_deny.from_cidr_set`

Optional:

- `cidr` (String) CIDR is a CIDR prefix / IP Block.
- `cidr_group_ref` (String) CIDRGroupRef is a reference to a CiliumCIDRGroup object.A CiliumCIDRGroup contains a list of CIDRs that the endpoint, subject tothe rule, can (Ingress/Egress) or cannot (IngressDeny/EgressDeny) receiveconnections from.
- `except` (List of String) ExceptCIDRs is a list of IP blocks which the endpoint subject to the ruleis not allowed to initiate connections to. These CIDR prefixes should becontained within Cidr, using ExceptCIDRs together with CIDRGroupRef is notsupported yet.These exceptions are only applied to the Cidr in this CIDRRule, and do notapply to any other CIDR prefixes in any other CIDRRules.


<a id="nestedatt--specs--ingress_deny--from_endpoints"></a>
### Nested Schema for `specs.ingress_deny.from_endpoints`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_endpoints--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--ingress_deny--from_endpoints--match_expressions"></a>
### Nested Schema for `specs.ingress_deny.from_endpoints.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress_deny--from_groups"></a>
### Nested Schema for `specs.ingress_deny.from_groups`

Optional:

- `aws` (Attributes) AWSGroup is an structure that can be used to whitelisting information from AWS integration (see [below for nested schema](#nestedatt--specs--ingress_deny--from_groups--aws))

<a id="nestedatt--specs--ingress_deny--from_groups--aws"></a>
### Nested Schema for `specs.ingress_deny.from_groups.aws`

Optional:

- `labels` (Map of String)
- `region` (String)
- `security_groups_ids` (List of String)
- `security_groups_names` (List of String)



<a id="nestedatt--specs--ingress_deny--from_nodes"></a>
### Nested Schema for `specs.ingress_deny.from_nodes`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_nodes--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--ingress_deny--from_nodes--match_expressions"></a>
### Nested Schema for `specs.ingress_deny.from_nodes.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress_deny--from_requires"></a>
### Nested Schema for `specs.ingress_deny.from_requires`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--ingress_deny--from_requires--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--ingress_deny--from_requires--match_expressions"></a>
### Nested Schema for `specs.ingress_deny.from_requires.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.



<a id="nestedatt--specs--ingress_deny--icmps"></a>
### Nested Schema for `specs.ingress_deny.icmps`

Optional:

- `fields` (Attributes List) Fields is a list of ICMP fields. (see [below for nested schema](#nestedatt--specs--ingress_deny--icmps--fields))

<a id="nestedatt--specs--ingress_deny--icmps--fields"></a>
### Nested Schema for `specs.ingress_deny.icmps.fields`

Required:

- `type` (String) Type is a ICMP-type.It should be an 8bit code (0-255), or it's CamelCase name (for example, 'EchoReply').Allowed ICMP types are:    Ipv4: EchoReply | DestinationUnreachable | Redirect | Echo | EchoRequest |		     RouterAdvertisement | RouterSelection | TimeExceeded | ParameterProblem |			 Timestamp | TimestampReply | Photuris | ExtendedEcho Request | ExtendedEcho Reply    Ipv6: DestinationUnreachable | PacketTooBig | TimeExceeded | ParameterProblem |			 EchoRequest | EchoReply | MulticastListenerQuery| MulticastListenerReport |			 MulticastListenerDone | RouterSolicitation | RouterAdvertisement | NeighborSolicitation |			 NeighborAdvertisement | RedirectMessage | RouterRenumbering | ICMPNodeInformationQuery |			 ICMPNodeInformationResponse | InverseNeighborDiscoverySolicitation | InverseNeighborDiscoveryAdvertisement |			 HomeAgentAddressDiscoveryRequest | HomeAgentAddressDiscoveryReply | MobilePrefixSolicitation |			 MobilePrefixAdvertisement | DuplicateAddressRequestCodeSuffix | DuplicateAddressConfirmationCodeSuffix |			 ExtendedEchoRequest | ExtendedEchoReply

Optional:

- `family` (String) Family is a IP address version.Currently, we support 'IPv4' and 'IPv6'.'IPv4' is set as default.



<a id="nestedatt--specs--ingress_deny--to_ports"></a>
### Nested Schema for `specs.ingress_deny.to_ports`

Optional:

- `ports` (Attributes List) Ports is a list of L4 port/protocol (see [below for nested schema](#nestedatt--specs--ingress_deny--to_ports--ports))

<a id="nestedatt--specs--ingress_deny--to_ports--ports"></a>
### Nested Schema for `specs.ingress_deny.to_ports.ports`

Required:

- `port` (String) Port can be an L4 port number, or a name in the form of 'http'or 'http-8080'.

Optional:

- `end_port` (Number) EndPort can only be an L4 port number.
- `protocol` (String) Protocol is the L4 protocol. If omitted or empty, any protocolmatches. Accepted values: 'TCP', 'UDP', 'SCTP', 'ANY'Matching on ICMP is not supported.Named port specified for a container may narrow this down, but may notcontradict this.




<a id="nestedatt--specs--labels"></a>
### Nested Schema for `specs.labels`

Required:

- `key` (String)

Optional:

- `source` (String) Source can be one of the above values (e.g.: LabelSourceContainer).
- `value` (String)


<a id="nestedatt--specs--node_selector"></a>
### Nested Schema for `specs.node_selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--specs--node_selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabelsmap is equivalent to an element of matchExpressions, whose key field is 'key', theoperator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--specs--node_selector--match_expressions"></a>
### Nested Schema for `specs.node_selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values.Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn,the values array must be non-empty. If the operator is Exists or DoesNotExist,the values array must be empty. This array is replaced during a strategicmerge patch.
