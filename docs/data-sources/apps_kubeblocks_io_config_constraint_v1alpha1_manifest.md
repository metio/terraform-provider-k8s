---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_apps_kubeblocks_io_config_constraint_v1alpha1_manifest Data Source - terraform-provider-k8s"
subcategory: "apps.kubeblocks.io"
description: |-
  ConfigConstraint is the Schema for the configconstraint API
---

# k8s_apps_kubeblocks_io_config_constraint_v1alpha1_manifest (Data Source)

ConfigConstraint is the Schema for the configconstraint API

## Example Usage

```terraform
data "k8s_apps_kubeblocks_io_config_constraint_v1alpha1_manifest" "example" {
  metadata = {
    name = "some-name"

  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) ConfigConstraintSpec defines the desired state of ConfigConstraint (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `formatter_config` (Attributes) Describes the format of the config file. The controller works as follows: 1. Parse the config file 2. Get the modified parameters 3. Trigger the corresponding action (see [below for nested schema](#nestedatt--spec--formatter_config))

Optional:

- `cfg_schema_top_level_name` (String) Top level key used to get the cue rules to validate the config file. It must exist in 'ConfigSchema' TODO (refactored to ConfigSchemaTopLevelKey)
- `configuration_schema` (Attributes) List constraints rules for each config parameters. TODO (refactored to ConfigSchema) (see [below for nested schema](#nestedatt--spec--configuration_schema))
- `downward_api_options` (Attributes List) A set of actions for regenerating local configs.  It works when: - different engine roles have different config, such as redis primary & secondary - after a role switch, the local config will be regenerated with the help of DownwardActions TODO (refactored to DownwardActions) (see [below for nested schema](#nestedatt--spec--downward_api_options))
- `dynamic_action_can_be_merged` (Boolean) Indicates the dynamic reload action and restart action can be merged to a restart action.  When a batch of parameters updates incur both restart & dynamic reload, it works as: - set to true, the two actions merged to only one restart action - set to false, the two actions cannot be merged, the actions executed in order [dynamic reload, restart]
- `dynamic_parameter_selected_policy` (String) Specifies the policy for selecting the parameters of dynamic reload actions.
- `dynamic_parameters` (List of String) A list of DynamicParameter. Modifications of dynamic parameters trigger a reload action without process restart.
- `immutable_parameters` (List of String) Describes parameters that are prohibited to do any modifications.
- `reload_options` (Attributes) Specifies the dynamic reload actions supported by the engine. If set, the controller call the scripts defined in the actions for a dynamic parameter upgrade. The actions are called only when the modified parameter is defined in dynamicParameters part && DynamicReloadActions != nil TODO (refactored to DynamicReloadActions) (see [below for nested schema](#nestedatt--spec--reload_options))
- `script_configs` (Attributes List) A list of ScriptConfig used by the actions defined in dynamic reload and downward actions. (see [below for nested schema](#nestedatt--spec--script_configs))
- `selector` (Attributes) Used to match labels on the pod to do a dynamic reload TODO (refactored to DynamicReloadSelector) (see [below for nested schema](#nestedatt--spec--selector))
- `static_parameters` (List of String) A list of StaticParameter. Modifications of static parameters trigger a process restart.
- `tools_image_spec` (Attributes) Tools used by the dynamic reload actions. Usually it is referenced by the 'init container' for 'cp' it to a binary volume. TODO (refactored to ReloadToolsImage) (see [below for nested schema](#nestedatt--spec--tools_image_spec))

<a id="nestedatt--spec--formatter_config"></a>
### Nested Schema for `spec.formatter_config`

Required:

- `format` (String) The config file format. Valid values are 'ini', 'xml', 'yaml', 'json', 'hcl', 'dotenv', 'properties' and 'toml'. Each format has its own characteristics and use cases.  - ini: is a text-based content with a structure and syntax comprising key–value pairs for properties, reference wiki: https://en.wikipedia.org/wiki/INI_file - xml: refers to wiki: https://en.wikipedia.org/wiki/XML - yaml: supports for complex data types and structures. - json: refers to wiki: https://en.wikipedia.org/wiki/JSON - hcl: The HashiCorp Configuration Language (HCL) is a configuration language authored by HashiCorp, reference url: https://www.linode.com/docs/guides/introduction-to-hcl/ - dotenv: is a plain text file with simple key–value pairs, reference wiki: https://en.wikipedia.org/wiki/Configuration_file#MS-DOS - properties: a file extension mainly used in Java, reference wiki: https://en.wikipedia.org/wiki/.properties - toml: refers to wiki: https://en.wikipedia.org/wiki/TOML - props-plus: a file extension mainly used in Java, supports CamelCase(e.g: brokerMaxConnectionsPerIp)

Optional:

- `ini_config` (Attributes) A pointer to an IniConfig struct that holds the ini options. (see [below for nested schema](#nestedatt--spec--formatter_config--ini_config))

<a id="nestedatt--spec--formatter_config--ini_config"></a>
### Nested Schema for `spec.formatter_config.ini_config`

Optional:

- `section_name` (String) A string that describes the name of the ini section.



<a id="nestedatt--spec--configuration_schema"></a>
### Nested Schema for `spec.configuration_schema`

Optional:

- `cue` (String) Enables providers to verify user configurations using the CUE language.
- `schema` (Map of String) Transforms the schema from CUE to json for further OpenAPI validation TODO (refactored to SchemaInJson)


<a id="nestedatt--spec--downward_api_options"></a>
### Nested Schema for `spec.downward_api_options`

Required:

- `items` (Attributes List) Represents a list of downward API volume files. (see [below for nested schema](#nestedatt--spec--downward_api_options--items))
- `mount_point` (String) Specifies the mount point of the scripts file.
- `name` (String) Specifies the name of the field. It must be a string of maximum length 63. The name should match the regex pattern '^[a-z0-9]([a-z0-9.-]*[a-z0-9])?$'.

Optional:

- `command` (List of String) The command used to execute for the downward API.

<a id="nestedatt--spec--downward_api_options--items"></a>
### Nested Schema for `spec.downward_api_options.items`

Required:

- `path` (String) Required: Path is  the relative path name of the file to be created. Must not be absolute or contain the '..' path. Must be utf-8 encoded. The first item of the relative path must not start with '..'

Optional:

- `field_ref` (Attributes) Required: Selects a field of the pod: only annotations, labels, name and namespace are supported. (see [below for nested schema](#nestedatt--spec--downward_api_options--items--field_ref))
- `mode` (Number) Optional: mode bits used to set permissions on this file, must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. If not specified, the volume defaultMode will be used. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.
- `resource_field_ref` (Attributes) Selects a resource of the container: only resources limits and requests (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported. (see [below for nested schema](#nestedatt--spec--downward_api_options--items--resource_field_ref))

<a id="nestedatt--spec--downward_api_options--items--field_ref"></a>
### Nested Schema for `spec.downward_api_options.items.field_ref`

Required:

- `field_path` (String) Path of the field to select in the specified API version.

Optional:

- `api_version` (String) Version of the schema the FieldPath is written in terms of, defaults to 'v1'.


<a id="nestedatt--spec--downward_api_options--items--resource_field_ref"></a>
### Nested Schema for `spec.downward_api_options.items.resource_field_ref`

Required:

- `resource` (String) Required: resource to select

Optional:

- `container_name` (String) Container name: required for volumes, optional for env vars
- `divisor` (String) Specifies the output format of the exposed resources, defaults to '1'




<a id="nestedatt--spec--reload_options"></a>
### Nested Schema for `spec.reload_options`

Optional:

- `auto_trigger` (Attributes) Used to automatically perform the reload command when conditions are met. (see [below for nested schema](#nestedatt--spec--reload_options--auto_trigger))
- `shell_trigger` (Attributes) Used to perform the reload command in shell script. (see [below for nested schema](#nestedatt--spec--reload_options--shell_trigger))
- `tpl_script_trigger` (Attributes) Used to perform the reload command by Go template script. (see [below for nested schema](#nestedatt--spec--reload_options--tpl_script_trigger))
- `unix_signal_trigger` (Attributes) Used to trigger a reload by sending a Unix signal to the process. (see [below for nested schema](#nestedatt--spec--reload_options--unix_signal_trigger))

<a id="nestedatt--spec--reload_options--auto_trigger"></a>
### Nested Schema for `spec.reload_options.auto_trigger`

Optional:

- `process_name` (String) The name of the process.


<a id="nestedatt--spec--reload_options--shell_trigger"></a>
### Nested Schema for `spec.reload_options.shell_trigger`

Required:

- `command` (List of String) Specifies the list of commands for reload.

Optional:

- `sync` (Boolean) Specifies whether to synchronize updates parameters to the config manager. Specifies two ways of controller to reload the parameter: - set to 'True', execute the reload action in sync mode, wait for the completion of reload - set to 'False', execute the reload action in async mode, just update the 'Configmap', no need to wait


<a id="nestedatt--spec--reload_options--tpl_script_trigger"></a>
### Nested Schema for `spec.reload_options.tpl_script_trigger`

Required:

- `script_config_map_ref` (String) Specifies the reference to the ConfigMap that contains the script to be executed for reload.

Optional:

- `namespace` (String) Specifies the namespace where the referenced tpl script ConfigMap in. If left empty, by default in the 'default' namespace.
- `sync` (Boolean) Specifies whether to synchronize updates parameters to the config manager. Specifies two ways of controller to reload the parameter: - set to 'True', execute the reload action in sync mode, wait for the completion of reload - set to 'False', execute the reload action in async mode, just update the 'Configmap', no need to wait


<a id="nestedatt--spec--reload_options--unix_signal_trigger"></a>
### Nested Schema for `spec.reload_options.unix_signal_trigger`

Required:

- `process_name` (String) Represents the name of the process that the Unix signal sent to.
- `signal` (String) Represents a valid Unix signal. Refer to the following URL for a list of all Unix signals: ../../pkg/configuration/configmap/handler.go:allUnixSignals



<a id="nestedatt--spec--script_configs"></a>
### Nested Schema for `spec.script_configs`

Required:

- `script_config_map_ref` (String) Specifies the reference to the ConfigMap that contains the script to be executed for reload.

Optional:

- `namespace` (String) Specifies the namespace where the referenced tpl script ConfigMap in. If left empty, by default in the 'default' namespace.


<a id="nestedatt--spec--selector"></a>
### Nested Schema for `spec.selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is 'key', the operator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--selector--match_expressions"></a>
### Nested Schema for `spec.selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.



<a id="nestedatt--spec--tools_image_spec"></a>
### Nested Schema for `spec.tools_image_spec`

Required:

- `mount_point` (String) Represents the point where the scripts file will be mounted.

Optional:

- `tool_configs` (Attributes List) Used to configure the initialization container. (see [below for nested schema](#nestedatt--spec--tools_image_spec--tool_configs))

<a id="nestedatt--spec--tools_image_spec--tool_configs"></a>
### Nested Schema for `spec.tools_image_spec.tool_configs`

Required:

- `command` (List of String) Commands to be executed when init containers.

Optional:

- `image` (String) Represents the url of the tool container image.
- `name` (String) Specifies the name of the initContainer.
