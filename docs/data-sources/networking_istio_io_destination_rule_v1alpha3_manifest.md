---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_networking_istio_io_destination_rule_v1alpha3_manifest Data Source - terraform-provider-k8s"
subcategory: "networking.istio.io"
description: |-
  
---

# k8s_networking_istio_io_destination_rule_v1alpha3_manifest (Data Source)



## Example Usage

```terraform
data "k8s_networking_istio_io_destination_rule_v1alpha3_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) Configuration affecting load balancing, outlier detection, etc. See more details at: https://istio.io/docs/reference/config/networking/destination-rule.html (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `host` (String) The name of a service from the service registry.

Optional:

- `export_to` (List of String) A list of namespaces to which this destination rule is exported.
- `subsets` (Attributes List) One or more named sets that represent individual versions of a service. (see [below for nested schema](#nestedatt--spec--subsets))
- `traffic_policy` (Attributes) Traffic policies to apply (load balancing policy, connection pool sizes, outlier detection). (see [below for nested schema](#nestedatt--spec--traffic_policy))
- `workload_selector` (Attributes) Criteria used to select the specific set of pods/VMs on which this 'DestinationRule' configuration should be applied. (see [below for nested schema](#nestedatt--spec--workload_selector))

<a id="nestedatt--spec--subsets"></a>
### Nested Schema for `spec.subsets`

Required:

- `name` (String) Name of the subset.

Optional:

- `labels` (Map of String) Labels apply a filter over the endpoints of a service in the service registry.
- `traffic_policy` (Attributes) Traffic policies that apply to this subset. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy))

<a id="nestedatt--spec--subsets--traffic_policy"></a>
### Nested Schema for `spec.subsets.traffic_policy`

Optional:

- `connection_pool` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--connection_pool))
- `load_balancer` (Attributes) Settings controlling the load balancer algorithms. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--load_balancer))
- `outlier_detection` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--outlier_detection))
- `port_level_settings` (Attributes List) Traffic policies specific to individual ports. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--port_level_settings))
- `proxy_protocol` (Attributes) The upstream PROXY protocol settings. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--proxy_protocol))
- `tls` (Attributes) TLS related settings for connections to the upstream service. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tls))
- `tunnel` (Attributes) Configuration of tunneling TCP over other transport or application layers for the host configured in the DestinationRule. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel))

<a id="nestedatt--spec--subsets--traffic_policy--connection_pool"></a>
### Nested Schema for `spec.subsets.traffic_policy.connection_pool`

Optional:

- `http` (Attributes) HTTP connection pool settings. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--http))
- `tcp` (Attributes) Settings common to both HTTP and TCP upstream connections. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--tcp))

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--http"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.http`

Optional:

- `h2_upgrade_policy` (String) Specify if http1.1 connection should be upgraded to http2 for the associated destination.Valid Options: DEFAULT, DO_NOT_UPGRADE, UPGRADE
- `http1_max_pending_requests` (Number) Maximum number of requests that will be queued while waiting for a ready connection pool connection.
- `http2_max_requests` (Number) Maximum number of active requests to a destination.
- `idle_timeout` (String) The idle timeout for upstream connection pool connections.
- `max_concurrent_streams` (Number) The maximum number of concurrent streams allowed for a peer on one HTTP/2 connection.
- `max_requests_per_connection` (Number) Maximum number of requests per connection to a backend.
- `max_retries` (Number) Maximum number of retries that can be outstanding to all hosts in a cluster at a given time.
- `use_client_protocol` (Boolean) If set to true, client protocol will be preserved while initiating connection to backend.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--tcp"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.tcp`

Optional:

- `connect_timeout` (String) TCP connection timeout.
- `idle_timeout` (String) The idle timeout for TCP connections.
- `max_connection_duration` (String) The maximum duration of a connection.
- `max_connections` (Number) Maximum number of HTTP1 /TCP connections to a destination host.
- `tcp_keepalive` (Attributes) If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--tcp--tcp_keepalive))

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--tcp--tcp_keepalive"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.tcp.tcp_keepalive`

Optional:

- `interval` (String) The time duration between keep-alive probes.
- `probes` (Number) Maximum number of keepalive probes to send without response before deciding the connection is dead.
- `time` (String) The time duration a connection needs to be idle before keep-alive probes start being sent.




<a id="nestedatt--spec--subsets--traffic_policy--load_balancer"></a>
### Nested Schema for `spec.subsets.traffic_policy.load_balancer`

Optional:

- `consistent_hash` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash))
- `locality_lb_setting` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--locality_lb_setting))
- `simple` (String) Valid Options: LEAST_CONN, RANDOM, PASSTHROUGH, ROUND_ROBIN, LEAST_REQUEST
- `warmup_duration_secs` (String) Represents the warmup duration of Service.

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.consistent_hash`

Optional:

- `http_cookie` (Attributes) Hash based on HTTP cookie. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash--http_cookie))
- `http_header_name` (String) Hash based on a specific HTTP header.
- `http_query_parameter_name` (String) Hash based on a specific HTTP query parameter.
- `maglev` (Attributes) The Maglev load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash--maglev))
- `minimum_ring_size` (Number) Deprecated.
- `ring_hash` (Attributes) The ring/modulo hash load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash--ring_hash))
- `use_source_ip` (Boolean) Hash based on the source IP address.

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash--http_cookie"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.consistent_hash.http_cookie`

Required:

- `name` (String) Name of the cookie.

Optional:

- `path` (String) Path to set for the cookie.
- `ttl` (String) Lifetime of the cookie.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash--maglev"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.consistent_hash.maglev`

Optional:

- `table_size` (Number) The table size for Maglev hashing.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--consistent_hash--ring_hash"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.consistent_hash.ring_hash`

Optional:

- `minimum_ring_size` (Number) The minimum number of virtual nodes to use for the hash ring.



<a id="nestedatt--spec--subsets--traffic_policy--tunnel--locality_lb_setting"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.locality_lb_setting`

Optional:

- `distribute` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--locality_lb_setting--distribute))
- `enabled` (Boolean) enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
- `failover` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--locality_lb_setting--failover))
- `failover_priority` (List of String) failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--locality_lb_setting--distribute"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.locality_lb_setting.distribute`

Optional:

- `from` (String) Originating locality, '/' separated, e.g.
- `to` (Map of String) Map of upstream localities to traffic distribution weights.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--locality_lb_setting--failover"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.locality_lb_setting.failover`

Optional:

- `from` (String) Originating region.
- `to` (String) Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.




<a id="nestedatt--spec--subsets--traffic_policy--outlier_detection"></a>
### Nested Schema for `spec.subsets.traffic_policy.outlier_detection`

Optional:

- `base_ejection_time` (String) Minimum ejection duration.
- `consecutive5xx_errors` (Number) Number of 5xx errors before a host is ejected from the connection pool.
- `consecutive_errors` (Number)
- `consecutive_gateway_errors` (Number) Number of gateway errors before a host is ejected from the connection pool.
- `consecutive_local_origin_failures` (Number) The number of consecutive locally originated failures before ejection occurs.
- `interval` (String) Time interval between ejection sweep analysis.
- `max_ejection_percent` (Number) Maximum % of hosts in the load balancing pool for the upstream service that can be ejected.
- `min_health_percent` (Number) Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode.
- `split_external_local_origin_errors` (Boolean) Determines whether to distinguish local origin failures from external errors.


<a id="nestedatt--spec--subsets--traffic_policy--port_level_settings"></a>
### Nested Schema for `spec.subsets.traffic_policy.port_level_settings`

Optional:

- `connection_pool` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool))
- `load_balancer` (Attributes) Settings controlling the load balancer algorithms. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer))
- `outlier_detection` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--outlier_detection))
- `port` (Attributes) Specifies the number of a port on the destination service on which this policy is being applied. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--port))
- `tls` (Attributes) TLS related settings for connections to the upstream service. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--tls))

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.connection_pool`

Optional:

- `http` (Attributes) HTTP connection pool settings. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool--http))
- `tcp` (Attributes) Settings common to both HTTP and TCP upstream connections. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool--tcp))

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool--http"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.connection_pool.http`

Optional:

- `h2_upgrade_policy` (String) Specify if http1.1 connection should be upgraded to http2 for the associated destination.Valid Options: DEFAULT, DO_NOT_UPGRADE, UPGRADE
- `http1_max_pending_requests` (Number) Maximum number of requests that will be queued while waiting for a ready connection pool connection.
- `http2_max_requests` (Number) Maximum number of active requests to a destination.
- `idle_timeout` (String) The idle timeout for upstream connection pool connections.
- `max_concurrent_streams` (Number) The maximum number of concurrent streams allowed for a peer on one HTTP/2 connection.
- `max_requests_per_connection` (Number) Maximum number of requests per connection to a backend.
- `max_retries` (Number) Maximum number of retries that can be outstanding to all hosts in a cluster at a given time.
- `use_client_protocol` (Boolean) If set to true, client protocol will be preserved while initiating connection to backend.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool--tcp"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.connection_pool.tcp`

Optional:

- `connect_timeout` (String) TCP connection timeout.
- `idle_timeout` (String) The idle timeout for TCP connections.
- `max_connection_duration` (String) The maximum duration of a connection.
- `max_connections` (Number) Maximum number of HTTP1 /TCP connections to a destination host.
- `tcp_keepalive` (Attributes) If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool--tcp--tcp_keepalive))

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--connection_pool--tcp--tcp_keepalive"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.connection_pool.tcp.tcp_keepalive`

Optional:

- `interval` (String) The time duration between keep-alive probes.
- `probes` (Number) Maximum number of keepalive probes to send without response before deciding the connection is dead.
- `time` (String) The time duration a connection needs to be idle before keep-alive probes start being sent.




<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer`

Optional:

- `consistent_hash` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--consistent_hash))
- `locality_lb_setting` (Attributes) (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--locality_lb_setting))
- `simple` (String) Valid Options: LEAST_CONN, RANDOM, PASSTHROUGH, ROUND_ROBIN, LEAST_REQUEST
- `warmup_duration_secs` (String) Represents the warmup duration of Service.

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--consistent_hash"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.consistent_hash`

Optional:

- `http_cookie` (Attributes) Hash based on HTTP cookie. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--http_cookie))
- `http_header_name` (String) Hash based on a specific HTTP header.
- `http_query_parameter_name` (String) Hash based on a specific HTTP query parameter.
- `maglev` (Attributes) The Maglev load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--maglev))
- `minimum_ring_size` (Number) Deprecated.
- `ring_hash` (Attributes) The ring/modulo hash load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--ring_hash))
- `use_source_ip` (Boolean) Hash based on the source IP address.

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--http_cookie"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.warmup_duration_secs.http_cookie`

Required:

- `name` (String) Name of the cookie.

Optional:

- `path` (String) Path to set for the cookie.
- `ttl` (String) Lifetime of the cookie.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--maglev"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.warmup_duration_secs.maglev`

Optional:

- `table_size` (Number) The table size for Maglev hashing.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--ring_hash"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.warmup_duration_secs.ring_hash`

Optional:

- `minimum_ring_size` (Number) The minimum number of virtual nodes to use for the hash ring.



<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--locality_lb_setting"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.locality_lb_setting`

Optional:

- `distribute` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--distribute))
- `enabled` (Boolean) enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
- `failover` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--failover))
- `failover_priority` (List of String) failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.

<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--distribute"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.warmup_duration_secs.distribute`

Optional:

- `from` (String) Originating locality, '/' separated, e.g.
- `to` (Map of String) Map of upstream localities to traffic distribution weights.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--load_balancer--warmup_duration_secs--failover"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.load_balancer.warmup_duration_secs.failover`

Optional:

- `from` (String) Originating region.
- `to` (String) Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.




<a id="nestedatt--spec--subsets--traffic_policy--tunnel--outlier_detection"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.outlier_detection`

Optional:

- `base_ejection_time` (String) Minimum ejection duration.
- `consecutive5xx_errors` (Number) Number of 5xx errors before a host is ejected from the connection pool.
- `consecutive_errors` (Number)
- `consecutive_gateway_errors` (Number) Number of gateway errors before a host is ejected from the connection pool.
- `consecutive_local_origin_failures` (Number) The number of consecutive locally originated failures before ejection occurs.
- `interval` (String) Time interval between ejection sweep analysis.
- `max_ejection_percent` (Number) Maximum % of hosts in the load balancing pool for the upstream service that can be ejected.
- `min_health_percent` (Number) Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode.
- `split_external_local_origin_errors` (Boolean) Determines whether to distinguish local origin failures from external errors.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--port"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.port`

Optional:

- `number` (Number)


<a id="nestedatt--spec--subsets--traffic_policy--tunnel--tls"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel.tls`

Optional:

- `ca_certificates` (String) OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate.
- `ca_crl` (String) OPTIONAL: The path to the file containing the certificate revocation list (CRL) to use in verifying a presented server certificate.
- `client_certificate` (String) REQUIRED if mode is 'MUTUAL'.
- `credential_name` (String) The name of the secret that holds the TLS certs for the client including the CA certificates.
- `insecure_skip_verify` (Boolean) 'insecureSkipVerify' specifies whether the proxy should skip verifying the CA signature and SAN for the server certificate corresponding to the host.
- `mode` (String) Indicates whether connections to this port should be secured using TLS.Valid Options: DISABLE, SIMPLE, MUTUAL, ISTIO_MUTUAL
- `private_key` (String) REQUIRED if mode is 'MUTUAL'.
- `sni` (String) SNI string to present to the server during TLS handshake.
- `subject_alt_names` (List of String) A list of alternate names to verify the subject identity in the certificate.



<a id="nestedatt--spec--subsets--traffic_policy--proxy_protocol"></a>
### Nested Schema for `spec.subsets.traffic_policy.proxy_protocol`

Optional:

- `version` (String) The PROXY protocol version to use.Valid Options: V1, V2


<a id="nestedatt--spec--subsets--traffic_policy--tls"></a>
### Nested Schema for `spec.subsets.traffic_policy.tls`

Optional:

- `ca_certificates` (String) OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate.
- `ca_crl` (String) OPTIONAL: The path to the file containing the certificate revocation list (CRL) to use in verifying a presented server certificate.
- `client_certificate` (String) REQUIRED if mode is 'MUTUAL'.
- `credential_name` (String) The name of the secret that holds the TLS certs for the client including the CA certificates.
- `insecure_skip_verify` (Boolean) 'insecureSkipVerify' specifies whether the proxy should skip verifying the CA signature and SAN for the server certificate corresponding to the host.
- `mode` (String) Indicates whether connections to this port should be secured using TLS.Valid Options: DISABLE, SIMPLE, MUTUAL, ISTIO_MUTUAL
- `private_key` (String) REQUIRED if mode is 'MUTUAL'.
- `sni` (String) SNI string to present to the server during TLS handshake.
- `subject_alt_names` (List of String) A list of alternate names to verify the subject identity in the certificate.


<a id="nestedatt--spec--subsets--traffic_policy--tunnel"></a>
### Nested Schema for `spec.subsets.traffic_policy.tunnel`

Required:

- `target_host` (String) Specifies a host to which the downstream connection is tunneled.
- `target_port` (Number) Specifies a port to which the downstream connection is tunneled.

Optional:

- `protocol` (String) Specifies which protocol to use for tunneling the downstream connection.




<a id="nestedatt--spec--traffic_policy"></a>
### Nested Schema for `spec.traffic_policy`

Optional:

- `connection_pool` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--connection_pool))
- `load_balancer` (Attributes) Settings controlling the load balancer algorithms. (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer))
- `outlier_detection` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--outlier_detection))
- `port_level_settings` (Attributes List) Traffic policies specific to individual ports. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings))
- `proxy_protocol` (Attributes) The upstream PROXY protocol settings. (see [below for nested schema](#nestedatt--spec--traffic_policy--proxy_protocol))
- `tls` (Attributes) TLS related settings for connections to the upstream service. (see [below for nested schema](#nestedatt--spec--traffic_policy--tls))
- `tunnel` (Attributes) Configuration of tunneling TCP over other transport or application layers for the host configured in the DestinationRule. (see [below for nested schema](#nestedatt--spec--traffic_policy--tunnel))

<a id="nestedatt--spec--traffic_policy--connection_pool"></a>
### Nested Schema for `spec.traffic_policy.connection_pool`

Optional:

- `http` (Attributes) HTTP connection pool settings. (see [below for nested schema](#nestedatt--spec--traffic_policy--connection_pool--http))
- `tcp` (Attributes) Settings common to both HTTP and TCP upstream connections. (see [below for nested schema](#nestedatt--spec--traffic_policy--connection_pool--tcp))

<a id="nestedatt--spec--traffic_policy--connection_pool--http"></a>
### Nested Schema for `spec.traffic_policy.connection_pool.http`

Optional:

- `h2_upgrade_policy` (String) Specify if http1.1 connection should be upgraded to http2 for the associated destination.Valid Options: DEFAULT, DO_NOT_UPGRADE, UPGRADE
- `http1_max_pending_requests` (Number) Maximum number of requests that will be queued while waiting for a ready connection pool connection.
- `http2_max_requests` (Number) Maximum number of active requests to a destination.
- `idle_timeout` (String) The idle timeout for upstream connection pool connections.
- `max_concurrent_streams` (Number) The maximum number of concurrent streams allowed for a peer on one HTTP/2 connection.
- `max_requests_per_connection` (Number) Maximum number of requests per connection to a backend.
- `max_retries` (Number) Maximum number of retries that can be outstanding to all hosts in a cluster at a given time.
- `use_client_protocol` (Boolean) If set to true, client protocol will be preserved while initiating connection to backend.


<a id="nestedatt--spec--traffic_policy--connection_pool--tcp"></a>
### Nested Schema for `spec.traffic_policy.connection_pool.tcp`

Optional:

- `connect_timeout` (String) TCP connection timeout.
- `idle_timeout` (String) The idle timeout for TCP connections.
- `max_connection_duration` (String) The maximum duration of a connection.
- `max_connections` (Number) Maximum number of HTTP1 /TCP connections to a destination host.
- `tcp_keepalive` (Attributes) If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives. (see [below for nested schema](#nestedatt--spec--traffic_policy--connection_pool--tcp--tcp_keepalive))

<a id="nestedatt--spec--traffic_policy--connection_pool--tcp--tcp_keepalive"></a>
### Nested Schema for `spec.traffic_policy.connection_pool.tcp.tcp_keepalive`

Optional:

- `interval` (String) The time duration between keep-alive probes.
- `probes` (Number) Maximum number of keepalive probes to send without response before deciding the connection is dead.
- `time` (String) The time duration a connection needs to be idle before keep-alive probes start being sent.




<a id="nestedatt--spec--traffic_policy--load_balancer"></a>
### Nested Schema for `spec.traffic_policy.load_balancer`

Optional:

- `consistent_hash` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--consistent_hash))
- `locality_lb_setting` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--locality_lb_setting))
- `simple` (String) Valid Options: LEAST_CONN, RANDOM, PASSTHROUGH, ROUND_ROBIN, LEAST_REQUEST
- `warmup_duration_secs` (String) Represents the warmup duration of Service.

<a id="nestedatt--spec--traffic_policy--load_balancer--consistent_hash"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.consistent_hash`

Optional:

- `http_cookie` (Attributes) Hash based on HTTP cookie. (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--http_cookie))
- `http_header_name` (String) Hash based on a specific HTTP header.
- `http_query_parameter_name` (String) Hash based on a specific HTTP query parameter.
- `maglev` (Attributes) The Maglev load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--maglev))
- `minimum_ring_size` (Number) Deprecated.
- `ring_hash` (Attributes) The ring/modulo hash load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--ring_hash))
- `use_source_ip` (Boolean) Hash based on the source IP address.

<a id="nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--http_cookie"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.warmup_duration_secs.http_cookie`

Required:

- `name` (String) Name of the cookie.

Optional:

- `path` (String) Path to set for the cookie.
- `ttl` (String) Lifetime of the cookie.


<a id="nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--maglev"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.warmup_duration_secs.maglev`

Optional:

- `table_size` (Number) The table size for Maglev hashing.


<a id="nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--ring_hash"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.warmup_duration_secs.ring_hash`

Optional:

- `minimum_ring_size` (Number) The minimum number of virtual nodes to use for the hash ring.



<a id="nestedatt--spec--traffic_policy--load_balancer--locality_lb_setting"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.locality_lb_setting`

Optional:

- `distribute` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--distribute))
- `enabled` (Boolean) enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
- `failover` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--failover))
- `failover_priority` (List of String) failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.

<a id="nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--distribute"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.warmup_duration_secs.distribute`

Optional:

- `from` (String) Originating locality, '/' separated, e.g.
- `to` (Map of String) Map of upstream localities to traffic distribution weights.


<a id="nestedatt--spec--traffic_policy--load_balancer--warmup_duration_secs--failover"></a>
### Nested Schema for `spec.traffic_policy.load_balancer.warmup_duration_secs.failover`

Optional:

- `from` (String) Originating region.
- `to` (String) Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.




<a id="nestedatt--spec--traffic_policy--outlier_detection"></a>
### Nested Schema for `spec.traffic_policy.outlier_detection`

Optional:

- `base_ejection_time` (String) Minimum ejection duration.
- `consecutive5xx_errors` (Number) Number of 5xx errors before a host is ejected from the connection pool.
- `consecutive_errors` (Number)
- `consecutive_gateway_errors` (Number) Number of gateway errors before a host is ejected from the connection pool.
- `consecutive_local_origin_failures` (Number) The number of consecutive locally originated failures before ejection occurs.
- `interval` (String) Time interval between ejection sweep analysis.
- `max_ejection_percent` (Number) Maximum % of hosts in the load balancing pool for the upstream service that can be ejected.
- `min_health_percent` (Number) Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode.
- `split_external_local_origin_errors` (Boolean) Determines whether to distinguish local origin failures from external errors.


<a id="nestedatt--spec--traffic_policy--port_level_settings"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings`

Optional:

- `connection_pool` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--connection_pool))
- `load_balancer` (Attributes) Settings controlling the load balancer algorithms. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--load_balancer))
- `outlier_detection` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--outlier_detection))
- `port` (Attributes) Specifies the number of a port on the destination service on which this policy is being applied. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--port))
- `tls` (Attributes) TLS related settings for connections to the upstream service. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls))

<a id="nestedatt--spec--traffic_policy--port_level_settings--connection_pool"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.connection_pool`

Optional:

- `http` (Attributes) HTTP connection pool settings. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--http))
- `tcp` (Attributes) Settings common to both HTTP and TCP upstream connections. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--tcp))

<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--http"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.http`

Optional:

- `h2_upgrade_policy` (String) Specify if http1.1 connection should be upgraded to http2 for the associated destination.Valid Options: DEFAULT, DO_NOT_UPGRADE, UPGRADE
- `http1_max_pending_requests` (Number) Maximum number of requests that will be queued while waiting for a ready connection pool connection.
- `http2_max_requests` (Number) Maximum number of active requests to a destination.
- `idle_timeout` (String) The idle timeout for upstream connection pool connections.
- `max_concurrent_streams` (Number) The maximum number of concurrent streams allowed for a peer on one HTTP/2 connection.
- `max_requests_per_connection` (Number) Maximum number of requests per connection to a backend.
- `max_retries` (Number) Maximum number of retries that can be outstanding to all hosts in a cluster at a given time.
- `use_client_protocol` (Boolean) If set to true, client protocol will be preserved while initiating connection to backend.


<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--tcp"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.tcp`

Optional:

- `connect_timeout` (String) TCP connection timeout.
- `idle_timeout` (String) The idle timeout for TCP connections.
- `max_connection_duration` (String) The maximum duration of a connection.
- `max_connections` (Number) Maximum number of HTTP1 /TCP connections to a destination host.
- `tcp_keepalive` (Attributes) If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--tcp--tcp_keepalive))

<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--tcp--tcp_keepalive"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.tcp.tcp_keepalive`

Optional:

- `interval` (String) The time duration between keep-alive probes.
- `probes` (Number) Maximum number of keepalive probes to send without response before deciding the connection is dead.
- `time` (String) The time duration a connection needs to be idle before keep-alive probes start being sent.




<a id="nestedatt--spec--traffic_policy--port_level_settings--load_balancer"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.load_balancer`

Optional:

- `consistent_hash` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash))
- `locality_lb_setting` (Attributes) (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--locality_lb_setting))
- `simple` (String) Valid Options: LEAST_CONN, RANDOM, PASSTHROUGH, ROUND_ROBIN, LEAST_REQUEST
- `warmup_duration_secs` (String) Represents the warmup duration of Service.

<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.consistent_hash`

Optional:

- `http_cookie` (Attributes) Hash based on HTTP cookie. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash--http_cookie))
- `http_header_name` (String) Hash based on a specific HTTP header.
- `http_query_parameter_name` (String) Hash based on a specific HTTP query parameter.
- `maglev` (Attributes) The Maglev load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash--maglev))
- `minimum_ring_size` (Number) Deprecated.
- `ring_hash` (Attributes) The ring/modulo hash load balancer implements consistent hashing to backend hosts. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash--ring_hash))
- `use_source_ip` (Boolean) Hash based on the source IP address.

<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash--http_cookie"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.consistent_hash.http_cookie`

Required:

- `name` (String) Name of the cookie.

Optional:

- `path` (String) Path to set for the cookie.
- `ttl` (String) Lifetime of the cookie.


<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash--maglev"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.consistent_hash.maglev`

Optional:

- `table_size` (Number) The table size for Maglev hashing.


<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--consistent_hash--ring_hash"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.consistent_hash.ring_hash`

Optional:

- `minimum_ring_size` (Number) The minimum number of virtual nodes to use for the hash ring.



<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--locality_lb_setting"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.locality_lb_setting`

Optional:

- `distribute` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--locality_lb_setting--distribute))
- `enabled` (Boolean) enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
- `failover` (Attributes List) Optional: only one of distribute, failover or failoverPriority can be set. (see [below for nested schema](#nestedatt--spec--traffic_policy--port_level_settings--tls--locality_lb_setting--failover))
- `failover_priority` (List of String) failoverPriority is an ordered list of labels used to sort endpoints to do priority based load balancing.

<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--locality_lb_setting--distribute"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.locality_lb_setting.distribute`

Optional:

- `from` (String) Originating locality, '/' separated, e.g.
- `to` (Map of String) Map of upstream localities to traffic distribution weights.


<a id="nestedatt--spec--traffic_policy--port_level_settings--tls--locality_lb_setting--failover"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls.locality_lb_setting.failover`

Optional:

- `from` (String) Originating region.
- `to` (String) Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.




<a id="nestedatt--spec--traffic_policy--port_level_settings--outlier_detection"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.outlier_detection`

Optional:

- `base_ejection_time` (String) Minimum ejection duration.
- `consecutive5xx_errors` (Number) Number of 5xx errors before a host is ejected from the connection pool.
- `consecutive_errors` (Number)
- `consecutive_gateway_errors` (Number) Number of gateway errors before a host is ejected from the connection pool.
- `consecutive_local_origin_failures` (Number) The number of consecutive locally originated failures before ejection occurs.
- `interval` (String) Time interval between ejection sweep analysis.
- `max_ejection_percent` (Number) Maximum % of hosts in the load balancing pool for the upstream service that can be ejected.
- `min_health_percent` (Number) Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode.
- `split_external_local_origin_errors` (Boolean) Determines whether to distinguish local origin failures from external errors.


<a id="nestedatt--spec--traffic_policy--port_level_settings--port"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.port`

Optional:

- `number` (Number)


<a id="nestedatt--spec--traffic_policy--port_level_settings--tls"></a>
### Nested Schema for `spec.traffic_policy.port_level_settings.tls`

Optional:

- `ca_certificates` (String) OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate.
- `ca_crl` (String) OPTIONAL: The path to the file containing the certificate revocation list (CRL) to use in verifying a presented server certificate.
- `client_certificate` (String) REQUIRED if mode is 'MUTUAL'.
- `credential_name` (String) The name of the secret that holds the TLS certs for the client including the CA certificates.
- `insecure_skip_verify` (Boolean) 'insecureSkipVerify' specifies whether the proxy should skip verifying the CA signature and SAN for the server certificate corresponding to the host.
- `mode` (String) Indicates whether connections to this port should be secured using TLS.Valid Options: DISABLE, SIMPLE, MUTUAL, ISTIO_MUTUAL
- `private_key` (String) REQUIRED if mode is 'MUTUAL'.
- `sni` (String) SNI string to present to the server during TLS handshake.
- `subject_alt_names` (List of String) A list of alternate names to verify the subject identity in the certificate.



<a id="nestedatt--spec--traffic_policy--proxy_protocol"></a>
### Nested Schema for `spec.traffic_policy.proxy_protocol`

Optional:

- `version` (String) The PROXY protocol version to use.Valid Options: V1, V2


<a id="nestedatt--spec--traffic_policy--tls"></a>
### Nested Schema for `spec.traffic_policy.tls`

Optional:

- `ca_certificates` (String) OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate.
- `ca_crl` (String) OPTIONAL: The path to the file containing the certificate revocation list (CRL) to use in verifying a presented server certificate.
- `client_certificate` (String) REQUIRED if mode is 'MUTUAL'.
- `credential_name` (String) The name of the secret that holds the TLS certs for the client including the CA certificates.
- `insecure_skip_verify` (Boolean) 'insecureSkipVerify' specifies whether the proxy should skip verifying the CA signature and SAN for the server certificate corresponding to the host.
- `mode` (String) Indicates whether connections to this port should be secured using TLS.Valid Options: DISABLE, SIMPLE, MUTUAL, ISTIO_MUTUAL
- `private_key` (String) REQUIRED if mode is 'MUTUAL'.
- `sni` (String) SNI string to present to the server during TLS handshake.
- `subject_alt_names` (List of String) A list of alternate names to verify the subject identity in the certificate.


<a id="nestedatt--spec--traffic_policy--tunnel"></a>
### Nested Schema for `spec.traffic_policy.tunnel`

Required:

- `target_host` (String) Specifies a host to which the downstream connection is tunneled.
- `target_port` (Number) Specifies a port to which the downstream connection is tunneled.

Optional:

- `protocol` (String) Specifies which protocol to use for tunneling the downstream connection.



<a id="nestedatt--spec--workload_selector"></a>
### Nested Schema for `spec.workload_selector`

Optional:

- `match_labels` (Map of String) One or more labels that indicate a specific set of pods/VMs on which a policy should be applied.
