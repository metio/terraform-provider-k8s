---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_core_kubeadmiral_io_cluster_propagation_policy_v1alpha1_manifest Data Source - terraform-provider-k8s"
subcategory: "core.kubeadmiral.io"
description: |-
  ClusterPropagationPolicy describes the scheduling rules for a resource.
---

# k8s_core_kubeadmiral_io_cluster_propagation_policy_v1alpha1_manifest (Data Source)

ClusterPropagationPolicy describes the scheduling rules for a resource.

## Example Usage

```terraform
data "k8s_core_kubeadmiral_io_cluster_propagation_policy_v1alpha1_manifest" "example" {
  metadata = {
    name = "some-name"

  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))
- `spec` (Attributes) (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `scheduling_mode` (String) SchedulingMode determines the mode used for scheduling.

Optional:

- `auto_migration` (Attributes) Configures behaviors related to auto migration. If absent, auto migration will be disabled. (see [below for nested schema](#nestedatt--spec--auto_migration))
- `cluster_affinity` (Attributes List) ClusterAffinity is a list of cluster selector terms, the terms are ORed. A empty or nil ClusterAffinity selects everything. (see [below for nested schema](#nestedatt--spec--cluster_affinity))
- `cluster_selector` (Map of String) ClusterSelector is a label query over clusters to consider for scheduling. An empty or nil ClusterSelector selects everything.
- `disable_follower_scheduling` (Boolean) DisableFollowerScheduling is a boolean that determines if follower scheduling is disabled. Resources that depend on other resources (e.g. deployments) are called leaders, and resources that are depended on (e.g. configmaps and secrets) are called followers. If a leader enables follower scheduling, its followers will additionally be scheduled to clusters where the leader is scheduled.
- `max_clusters` (Number) MaxClusters is the maximum number of replicas that the federated object can be propagated to. The maximum number of clusters is unbounded if no value is provided.
- `placement` (Attributes List) Placement is an explicit list of clusters used to select member clusters to propagate resources to. (see [below for nested schema](#nestedatt--spec--placement))
- `replicas_strategy` (String) ReplicasStrategy is the strategy used for scheduling replicas.
- `reschedule_policy` (Attributes) Configures behaviors related to rescheduling. (see [below for nested schema](#nestedatt--spec--reschedule_policy))
- `scheduling_profile` (String) Profile determines the scheduling profile to be used for scheduling
- `tolerations` (Attributes List) Tolerations describe a set of cluster taints that the policy tolerates. (see [below for nested schema](#nestedatt--spec--tolerations))

<a id="nestedatt--spec--auto_migration"></a>
### Nested Schema for `spec.auto_migration`

Optional:

- `keep_unschedulable_replicas` (Boolean) Besides starting new replicas in other cluster(s), whether to keep the unschedulable replicas in the original cluster so we can go back to the desired state when the cluster recovers.
- `when` (Attributes) When a replica should be subject to auto migration. (see [below for nested schema](#nestedatt--spec--auto_migration--when))

<a id="nestedatt--spec--auto_migration--when"></a>
### Nested Schema for `spec.auto_migration.when`

Optional:

- `pod_unschedulable_for` (String) A pod will be subject to auto migration if it remains unschedulable beyond this duration. Duration should be specified in a format that can be parsed by Go's time.ParseDuration.



<a id="nestedatt--spec--cluster_affinity"></a>
### Nested Schema for `spec.cluster_affinity`

Optional:

- `match_expressions` (Attributes List) A list of cluster selector requirements by cluster labels. (see [below for nested schema](#nestedatt--spec--cluster_affinity--match_expressions))
- `match_fields` (Attributes List) A list of cluster selector requirements by cluster fields. (see [below for nested schema](#nestedatt--spec--cluster_affinity--match_fields))

<a id="nestedatt--spec--cluster_affinity--match_expressions"></a>
### Nested Schema for `spec.cluster_affinity.match_expressions`

Required:

- `key` (String)
- `operator` (String) ClusterSelectorOperator is the set of operators that can be used in a cluster selector requirement.
- `values` (List of String)


<a id="nestedatt--spec--cluster_affinity--match_fields"></a>
### Nested Schema for `spec.cluster_affinity.match_fields`

Required:

- `key` (String)
- `operator` (String) ClusterSelectorOperator is the set of operators that can be used in a cluster selector requirement.
- `values` (List of String)



<a id="nestedatt--spec--placement"></a>
### Nested Schema for `spec.placement`

Required:

- `cluster` (String) Cluster is the name of the FederatedCluster to propagate to.

Optional:

- `preferences` (Attributes) Preferences contains the cluster's propagation preferences. (see [below for nested schema](#nestedatt--spec--placement--preferences))

<a id="nestedatt--spec--placement--preferences"></a>
### Nested Schema for `spec.placement.preferences`

Optional:

- `max_replicas` (Number) Maximum number of replicas that should be assigned to this cluster workload object. Unbounded if no value provided (default).
- `min_replicas` (Number) Minimum number of replicas that should be assigned to this cluster workload object. 0 by default.
- `priority` (Number) A number expressing the priority of the cluster. The higher the value, the higher the priority. When selecting clusters for propagation, clusters with higher priority are preferred. When the Binpack ReplicasStrategy is selected, replicas will be scheduled to clusters with higher priority first.
- `weight` (Number) A number expressing the preference to put an additional replica to this cluster workload object. It will not take effect when ReplicasStrategy is Binpack.



<a id="nestedatt--spec--reschedule_policy"></a>
### Nested Schema for `spec.reschedule_policy`

Optional:

- `disable_rescheduling` (Boolean) DisableRescheduling determines if a federated object can be rescheduled.
- `replica_rescheduling` (Attributes) Configures behaviors related to replica rescheduling. Default set via a post-generation patch. See patch file for details. (see [below for nested schema](#nestedatt--spec--reschedule_policy--replica_rescheduling))
- `reschedule_when` (Attributes) When the related objects should be subject to reschedule. (see [below for nested schema](#nestedatt--spec--reschedule_policy--reschedule_when))

<a id="nestedatt--spec--reschedule_policy--replica_rescheduling"></a>
### Nested Schema for `spec.reschedule_policy.replica_rescheduling`

Optional:

- `avoid_disruption` (Boolean) If set to true, the scheduler will attempt to prevent migrating existing replicas during rescheduling. In order to do so, replica scheduling preferences might not be fully respected. If set to false, the scheduler will always rebalance the replicas based on the specified preferences, which might cause temporary service disruption.


<a id="nestedatt--spec--reschedule_policy--reschedule_when"></a>
### Nested Schema for `spec.reschedule_policy.reschedule_when`

Optional:

- `cluster_api_resources_changed` (Boolean) If set to true, changes to clusters' enabled list of api resources will trigger rescheduling. It set to false, the scheduler will reschedule only when other options are triggered or the replicas or the requested resources of the template changed.
- `cluster_joined` (Boolean) If set to true, clusters joining the federation will trigger rescheduling. It set to false, the scheduler will reschedule only when other options are triggered or the replicas or the requested resources of the template changed.
- `cluster_labels_changed` (Boolean) If set to true, changes to cluster labels will trigger rescheduling. It set to false, the scheduler will reschedule only when other options are triggered or the replicas or the requested resources of the template changed.
- `policy_content_changed` (Boolean) If set to true, the scheduler will trigger rescheduling when the semantics of the policy changes. For example, modifying placement, schedulingMode, maxClusters, clusterSelector, and other configurations related to scheduling (includes reschedulePolicy itself) will immediately trigger rescheduling. Modifying the labels, annotations, autoMigration configuration will not trigger rescheduling. It set to false, the scheduler will not reschedule when the policy content changes.



<a id="nestedatt--spec--tolerations"></a>
### Nested Schema for `spec.tolerations`

Optional:

- `effect` (String) Effect indicates the taint effect to match. Empty means match all taint effects. When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
- `key` (String) Key is the taint key that the toleration applies to. Empty means match all taint keys. If the key is empty, operator must be Exists; this combination means to match all values and all keys.
- `operator` (String) Operator represents a key's relationship to the value. Valid operators are Exists and Equal. Defaults to Equal. Exists is equivalent to wildcard for value, so that a pod can tolerate all taints of a particular category.
- `toleration_seconds` (Number) TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.
- `value` (String) Value is the taint value the toleration matches to. If the operator is Exists, the value should be empty, otherwise just a regular string.
