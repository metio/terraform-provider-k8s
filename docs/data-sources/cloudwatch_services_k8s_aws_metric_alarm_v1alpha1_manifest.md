---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_cloudwatch_services_k8s_aws_metric_alarm_v1alpha1_manifest Data Source - terraform-provider-k8s"
subcategory: "cloudwatch.services.k8s.aws"
description: |-
  MetricAlarm is the Schema for the MetricAlarms API
---

# k8s_cloudwatch_services_k8s_aws_metric_alarm_v1alpha1_manifest (Data Source)

MetricAlarm is the Schema for the MetricAlarms API

## Example Usage

```terraform
data "k8s_cloudwatch_services_k8s_aws_metric_alarm_v1alpha1_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) MetricAlarmSpec defines the desired state of MetricAlarm.The details about a metric alarm. (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `comparison_operator` (String) The arithmetic operation to use when comparing the specified statistic andthreshold. The specified statistic value is used as the first operand.The values LessThanLowerOrGreaterThanUpperThreshold, LessThanLowerThreshold,and GreaterThanUpperThreshold are used only for alarms based on anomaly detectionmodels.
- `evaluation_periods` (Number) The number of periods over which data is compared to the specified threshold.If you are setting an alarm that requires that a number of consecutive datapoints be breaching to trigger the alarm, this value specifies that number.If you are setting an 'M out of N' alarm, this value is the N.An alarm's total current evaluation period can be no longer than one day,so this number multiplied by Period cannot be more than 86,400 seconds.
- `name` (String) The name for the alarm. This name must be unique within the Region.The name must contain only UTF-8 characters, and can't contain ASCII controlcharacters

Optional:

- `actions_enabled` (Boolean) Indicates whether actions should be executed during any changes to the alarmstate. The default is TRUE.
- `alarm_actions` (List of String) The actions to execute when this alarm transitions to the ALARM state fromany other state. Each action is specified as an Amazon Resource Name (ARN).Valid values:EC2 actions:   * arn:aws:automate:region:ec2:stop   * arn:aws:automate:region:ec2:terminate   * arn:aws:automate:region:ec2:reboot   * arn:aws:automate:region:ec2:recover   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Stop/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Terminate/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Reboot/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Recover/1.0Autoscaling action:   * arn:aws:autoscaling:region:account-id:scalingPolicy:policy-id:autoScalingGroupName/group-friendly-name:policyName/policy-friendly-nameSNS notification action:   * arn:aws:sns:region:account-id:sns-topic-name:autoScalingGroupName/group-friendly-name:policyName/policy-friendly-nameSSM integration actions:   * arn:aws:ssm:region:account-id:opsitem:severity#CATEGORY=category-name   * arn:aws:ssm-incidents::account-id:responseplan/response-plan-name
- `alarm_description` (String) The description for the alarm.
- `datapoints_to_alarm` (Number) The number of data points that must be breaching to trigger the alarm. Thisis used only if you are setting an 'M out of N' alarm. In that case, thisvalue is the M. For more information, see Evaluating an Alarm (https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#alarm-evaluation)in the Amazon CloudWatch User Guide.
- `dimensions` (Attributes List) The dimensions for the metric specified in MetricName. (see [below for nested schema](#nestedatt--spec--dimensions))
- `evaluate_low_sample_count_percentile` (String) Used only for alarms based on percentiles. If you specify ignore, the alarmstate does not change during periods with too few data points to be statisticallysignificant. If you specify evaluate or omit this parameter, the alarm isalways evaluated and possibly changes state no matter how many data pointsare available. For more information, see Percentile-Based CloudWatch Alarmsand Low Data Samples (https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#percentiles-with-low-samples).Valid Values: evaluate | ignore
- `extended_statistic` (String) The extended statistic for the metric specified in MetricName. When you callPutMetricAlarm and specify a MetricName, you must specify either Statisticor ExtendedStatistic but not both.If you specify ExtendedStatistic, the following are valid values:   * p90   * tm90   * tc90   * ts90   * wm90   * IQM   * PR(n:m) where n and m are values of the metric   * TC(X%:X%) where X is between 10 and 90 inclusive.   * TM(X%:X%) where X is between 10 and 90 inclusive.   * TS(X%:X%) where X is between 10 and 90 inclusive.   * WM(X%:X%) where X is between 10 and 90 inclusive.For more information about these extended statistics, see CloudWatch statisticsdefinitions (https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Statistics-definitions.html).
- `insufficient_data_actions` (List of String) The actions to execute when this alarm transitions to the INSUFFICIENT_DATAstate from any other state. Each action is specified as an Amazon ResourceName (ARN). Valid values:EC2 actions:   * arn:aws:automate:region:ec2:stop   * arn:aws:automate:region:ec2:terminate   * arn:aws:automate:region:ec2:reboot   * arn:aws:automate:region:ec2:recover   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Stop/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Terminate/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Reboot/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Recover/1.0Autoscaling action:   * arn:aws:autoscaling:region:account-id:scalingPolicy:policy-id:autoScalingGroupName/group-friendly-name:policyName/policy-friendly-nameSNS notification action:   * arn:aws:sns:region:account-id:sns-topic-name:autoScalingGroupName/group-friendly-name:policyName/policy-friendly-nameSSM integration actions:   * arn:aws:ssm:region:account-id:opsitem:severity#CATEGORY=category-name   * arn:aws:ssm-incidents::account-id:responseplan/response-plan-name
- `metric_name` (String) The name for the metric associated with the alarm. For each PutMetricAlarmoperation, you must specify either MetricName or a Metrics array.If you are creating an alarm based on a math expression, you cannot specifythis parameter, or any of the Namespace, Dimensions, Period, Unit, Statistic,or ExtendedStatistic parameters. Instead, you specify all this informationin the Metrics array.
- `metrics` (Attributes List) An array of MetricDataQuery structures that enable you to create an alarmbased on the result of a metric math expression. For each PutMetricAlarmoperation, you must specify either MetricName or a Metrics array.Each item in the Metrics array either retrieves a metric or performs a mathexpression.One item in the Metrics array is the expression that the alarm watches. Youdesignate this expression by setting ReturnData to true for this object inthe array. For more information, see MetricDataQuery (https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_MetricDataQuery.html).If you use the Metrics parameter, you cannot include the Namespace, MetricName,Dimensions, Period, Unit, Statistic, or ExtendedStatistic parameters of PutMetricAlarmin the same operation. Instead, you retrieve the metrics you are using inyour math expression as part of the Metrics array. (see [below for nested schema](#nestedatt--spec--metrics))
- `namespace` (String) The namespace for the metric associated specified in MetricName.
- `o_k_actions` (List of String) The actions to execute when this alarm transitions to an OK state from anyother state. Each action is specified as an Amazon Resource Name (ARN). Validvalues:EC2 actions:   * arn:aws:automate:region:ec2:stop   * arn:aws:automate:region:ec2:terminate   * arn:aws:automate:region:ec2:reboot   * arn:aws:automate:region:ec2:recover   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Stop/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Terminate/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Reboot/1.0   * arn:aws:swf:region:account-id:action/actions/AWS_EC2.InstanceId.Recover/1.0Autoscaling action:   * arn:aws:autoscaling:region:account-id:scalingPolicy:policy-id:autoScalingGroupName/group-friendly-name:policyName/policy-friendly-nameSNS notification action:   * arn:aws:sns:region:account-id:sns-topic-name:autoScalingGroupName/group-friendly-name:policyName/policy-friendly-nameSSM integration actions:   * arn:aws:ssm:region:account-id:opsitem:severity#CATEGORY=category-name   * arn:aws:ssm-incidents::account-id:responseplan/response-plan-name
- `period` (Number) The length, in seconds, used each time the metric specified in MetricNameis evaluated. Valid values are 10, 30, and any multiple of 60.Period is required for alarms based on static thresholds. If you are creatingan alarm based on a metric math expression, you specify the period for eachmetric within the objects in the Metrics array.Be sure to specify 10 or 30 only for metrics that are stored by a PutMetricDatacall with a StorageResolution of 1. If you specify a period of 10 or 30 fora metric that does not have sub-minute resolution, the alarm still attemptsto gather data at the period rate that you specify. In this case, it doesnot receive data for the attempts that do not correspond to a one-minutedata resolution, and the alarm might often lapse into INSUFFICENT_DATA status.Specifying 10 or 30 also sets this alarm as a high-resolution alarm, whichhas a higher charge than other alarms. For more information about pricing,see Amazon CloudWatch Pricing (https://aws.amazon.com/cloudwatch/pricing/).An alarm's total current evaluation period can be no longer than one day,so Period multiplied by EvaluationPeriods cannot be more than 86,400 seconds.
- `statistic` (String) The statistic for the metric specified in MetricName, other than percentile.For percentile statistics, use ExtendedStatistic. When you call PutMetricAlarmand specify a MetricName, you must specify either Statistic or ExtendedStatistic,but not both.
- `tags` (Attributes List) A list of key-value pairs to associate with the alarm. You can associateas many as 50 tags with an alarm. To be able to associate tags with the alarmwhen you create the alarm, you must have the cloudwatch:TagResource permission.Tags can help you organize and categorize your resources. You can also usethem to scope user permissions by granting a user permission to access orchange only resources with certain tag values.If you are using this operation to update an existing alarm, any tags youspecify in this parameter are ignored. To change the tags of an existingalarm, use TagResource (https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_TagResource.html)or UntagResource (https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_UntagResource.html). (see [below for nested schema](#nestedatt--spec--tags))
- `threshold` (Number) The value against which the specified statistic is compared.This parameter is required for alarms based on static thresholds, but shouldnot be used for alarms based on anomaly detection models.
- `threshold_metric_id` (String) If this is an alarm based on an anomaly detection model, make this valuematch the ID of the ANOMALY_DETECTION_BAND function.For an example of how to use this parameter, see the Anomaly Detection ModelAlarm example on this page.If your alarm uses this parameter, it cannot have Auto Scaling actions.
- `treat_missing_data` (String) Sets how this alarm is to handle missing data points. If TreatMissingDatais omitted, the default behavior of missing is used. For more information,see Configuring How CloudWatch Alarms Treats Missing Data (https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html#alarms-and-missing-data).Valid Values: breaching | notBreaching | ignore | missingAlarms that evaluate metrics in the AWS/DynamoDB namespace always ignoremissing data even if you choose a different option for TreatMissingData.When an AWS/DynamoDB metric has missing data, alarms that evaluate that metricremain in their current state.
- `unit` (String) The unit of measure for the statistic. For example, the units for the AmazonEC2 NetworkIn metric are Bytes because NetworkIn tracks the number of bytesthat an instance receives on all network interfaces. You can also specifya unit when you create a custom metric. Units help provide conceptual meaningto your data. Metric data points that specify a unit of measure, such asPercent, are aggregated separately. If you are creating an alarm based ona metric math expression, you can specify the unit for each metric (if needed)within the objects in the Metrics array.If you don't specify Unit, CloudWatch retrieves all unit types that havebeen published for the metric and attempts to evaluate the alarm. Usually,metrics are published with only one unit, so the alarm works as intended.However, if the metric is published with multiple types of units and youdon't specify a unit, the alarm's behavior is not defined and it behavesunpredictably.We recommend omitting Unit so that you don't inadvertently specify an incorrectunit that is not published for this metric. Doing so causes the alarm tobe stuck in the INSUFFICIENT DATA state.

<a id="nestedatt--spec--dimensions"></a>
### Nested Schema for `spec.dimensions`

Optional:

- `name` (String)
- `value` (String)


<a id="nestedatt--spec--metrics"></a>
### Nested Schema for `spec.metrics`

Optional:

- `account_id` (String)
- `expression` (String)
- `id` (String)
- `label` (String)
- `metric_stat` (Attributes) This structure defines the metric to be returned, along with the statistics,period, and units. (see [below for nested schema](#nestedatt--spec--metrics--metric_stat))
- `period` (Number)
- `return_data` (Boolean)

<a id="nestedatt--spec--metrics--metric_stat"></a>
### Nested Schema for `spec.metrics.metric_stat`

Optional:

- `metric` (Attributes) Represents a specific metric. (see [below for nested schema](#nestedatt--spec--metrics--metric_stat--metric))
- `period` (Number)
- `stat` (String)
- `unit` (String)

<a id="nestedatt--spec--metrics--metric_stat--metric"></a>
### Nested Schema for `spec.metrics.metric_stat.unit`

Optional:

- `dimensions` (Attributes List) (see [below for nested schema](#nestedatt--spec--metrics--metric_stat--unit--dimensions))
- `metric_name` (String)
- `namespace` (String)

<a id="nestedatt--spec--metrics--metric_stat--unit--dimensions"></a>
### Nested Schema for `spec.metrics.metric_stat.unit.dimensions`

Optional:

- `name` (String)
- `value` (String)





<a id="nestedatt--spec--tags"></a>
### Nested Schema for `spec.tags`

Optional:

- `key` (String)
- `value` (String)
