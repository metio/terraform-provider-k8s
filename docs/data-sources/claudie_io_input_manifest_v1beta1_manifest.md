---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_claudie_io_input_manifest_v1beta1_manifest Data Source - terraform-provider-k8s"
subcategory: "claudie.io"
description: |-
  InputManifest is a definition of the user's infrastructure. It contains cloud provider specification, nodepool specification, Kubernetes and loadbalancer clusters.
---

# k8s_claudie_io_input_manifest_v1beta1_manifest (Data Source)

InputManifest is a definition of the user's infrastructure. It contains cloud provider specification, nodepool specification, Kubernetes and loadbalancer clusters.

## Example Usage

```terraform
data "k8s_claudie_io_input_manifest_v1beta1_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) Specification of the desired behaviour of the InputManifest (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `id` (String) Contains the value `metadata.namespace/metadata.name`.
- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `kubernetes` (Attributes) Kubernetes list of Kubernetes cluster this manifest will manage. (see [below for nested schema](#nestedatt--spec--kubernetes))
- `load_balancers` (Attributes) LoadBalancers list of loadbalancer clusters the Kubernetes clusters may use. (see [below for nested schema](#nestedatt--spec--load_balancers))
- `node_pools` (Attributes) NodePool is a map of dynamic nodepools and static nodepools which will be used to form kubernetes or loadbalancer clusters. (see [below for nested schema](#nestedatt--spec--node_pools))
- `providers` (Attributes List) Providers list of defined cloud provider configuration that will be used while infrastructure provisioning. (see [below for nested schema](#nestedatt--spec--providers))

<a id="nestedatt--spec--kubernetes"></a>
### Nested Schema for `spec.kubernetes`

Optional:

- `clusters` (Attributes List) List of Kubernetes clusters Claudie will create. (see [below for nested schema](#nestedatt--spec--kubernetes--clusters))

<a id="nestedatt--spec--kubernetes--clusters"></a>
### Nested Schema for `spec.kubernetes.clusters`

Required:

- `name` (String) Name of the Kubernetes cluster. Each cluster will have a random hash appended to the name, so the whole name will be of format <name>-<hash>.
- `network` (String) Network range for the VPN of the cluster. The value should be defined in format A.B.C.D/mask.
- `pools` (Attributes) List of nodepool names this cluster will use. (see [below for nested schema](#nestedatt--spec--kubernetes--clusters--pools))
- `version` (String) Version should be defined in format vX.Y. In terms of supported versions of Kubernetes, Claudie follows kubeone releases and their supported versions. The current kubeone version used in Claudie is 1.5. To see the list of supported versions, please refer to kubeone documentation. https://docs.kubermatic.com/kubeone/v1.5/architecture/compatibility/supported-versions/#supported-kubernetes-versions

<a id="nestedatt--spec--kubernetes--clusters--pools"></a>
### Nested Schema for `spec.kubernetes.clusters.version`

Required:

- `compute` (List of String) List of nodepool names, that will represent compute nodes.
- `control` (List of String) List of nodepool names, that will represent control plane nodes.




<a id="nestedatt--spec--load_balancers"></a>
### Nested Schema for `spec.load_balancers`

Optional:

- `clusters` (Attributes List) A list of load balancers clusters. (see [below for nested schema](#nestedatt--spec--load_balancers--clusters))
- `roles` (Attributes List) List of roles loadbalancers use to forward the traffic. Single role can be used in multiple loadbalancer clusters. (see [below for nested schema](#nestedatt--spec--load_balancers--roles))

<a id="nestedatt--spec--load_balancers--clusters"></a>
### Nested Schema for `spec.load_balancers.clusters`

Required:

- `name` (String) Name of the loadbalancer.
- `pools` (List of String) List of nodepool names this loadbalancer will use. Remember, that nodepools defined in nodepools are only 'blueprints'. The actual nodepool will be created once referenced here.
- `roles` (List of String) List of roles the loadbalancer uses.
- `targeted_k8s` (String) Name of the Kubernetes cluster targeted by this loadbalancer.

Optional:

- `dns` (Attributes) Specification of the loadbalancer's DNS record. (see [below for nested schema](#nestedatt--spec--load_balancers--clusters--dns))

<a id="nestedatt--spec--load_balancers--clusters--dns"></a>
### Nested Schema for `spec.load_balancers.clusters.dns`

Required:

- `dns_zone` (String) DNS zone inside of which the records will be created. GCP/AWS/OCI/Azure/Cloudflare/Hetzner DNS zone is accepted
- `provider` (String) Name of provider to be used for creating an A record entry in defined DNS zone.

Optional:

- `hostname` (String) Custom hostname for your A record. If left empty, the hostname will be a random hash.



<a id="nestedatt--spec--load_balancers--roles"></a>
### Nested Schema for `spec.load_balancers.roles`

Required:

- `name` (String) Name of the role. Used as a reference in clusters.
- `port` (Number) Port of the incoming traffic on the loadbalancer.
- `protocol` (String) Protocol of the rule. Allowed values are: tcp, udp.
- `target_pools` (List of String) Defines nodepools of the targeted K8s cluster, from which nodes will be used for loadbalancing.
- `target_port` (Number) Port where loadbalancer forwards the traffic.



<a id="nestedatt--spec--node_pools"></a>
### Nested Schema for `spec.node_pools`

Optional:

- `dynamic` (Attributes List) Dynamic nodepools define nodepools dynamically created by Claudie. (see [below for nested schema](#nestedatt--spec--node_pools--dynamic))
- `static` (Attributes List) Static nodepools define nodepools of already existing nodes. (see [below for nested schema](#nestedatt--spec--node_pools--static))

<a id="nestedatt--spec--node_pools--dynamic"></a>
### Nested Schema for `spec.node_pools.dynamic`

Required:

- `image` (String) OS image of the machine. Currently, only Ubuntu 22.04 AMD64 images are supported.
- `name` (String) Name of the nodepool. Each nodepool will have a random hash appended to the name, so the whole name will be of format <name>-<hash>.
- `provider_spec` (Attributes) Collection of provider data to be used while creating the nodepool. (see [below for nested schema](#nestedatt--spec--node_pools--dynamic--provider_spec))
- `server_type` (String) Type of the machines in the nodepool. Currently, only AMD64 machines are supported.

Optional:

- `annotations` (Map of String) User defined annotations for this nodepool.
- `autoscaler` (Attributes) Autoscaler configuration for this nodepool. Mutually exclusive with count. (see [below for nested schema](#nestedatt--spec--node_pools--dynamic--autoscaler))
- `count` (Number) Number of the nodes in the nodepool. Mutually exclusive with autoscaler.
- `labels` (Map of String) User defined labels for this nodepool.
- `machine_spec` (Attributes) MachineSpec further describe the properties of the selected server type. (see [below for nested schema](#nestedatt--spec--node_pools--dynamic--machine_spec))
- `storage_disk_size` (Number) Size of the storage disk on the nodes in the nodepool in GB. The OS disk is created automatically with predefined size of 100GB for kubernetes nodes and 50GB for Loadbalancer nodes. The value must be either -1 (no disk is created), or >= 50. If no value is specified, 50 is used.
- `taints` (Attributes List) User defined taints for this nodepool. (see [below for nested schema](#nestedatt--spec--node_pools--dynamic--taints))

<a id="nestedatt--spec--node_pools--dynamic--provider_spec"></a>
### Nested Schema for `spec.node_pools.dynamic.taints`

Required:

- `name` (String) Name of the provider instance specified in providers
- `region` (String) Region of the nodepool.

Optional:

- `zone` (String) Zone of the nodepool.


<a id="nestedatt--spec--node_pools--dynamic--autoscaler"></a>
### Nested Schema for `spec.node_pools.dynamic.taints`

Optional:

- `max` (Number) Maximum number of nodes in nodepool.
- `min` (Number) Minimum number of nodes in nodepool.


<a id="nestedatt--spec--node_pools--dynamic--machine_spec"></a>
### Nested Schema for `spec.node_pools.dynamic.taints`

Required:

- `cpu_count` (Number) CpuCount specifies the number of CPU cores to be used.
- `memory` (Number)


<a id="nestedatt--spec--node_pools--dynamic--taints"></a>
### Nested Schema for `spec.node_pools.dynamic.taints`

Required:

- `effect` (String) Required. The effect of the taint on pods that do not tolerate the taint. Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
- `key` (String) Required. The taint key to be applied to a node.

Optional:

- `time_added` (String) TimeAdded represents the time at which the taint was added. It is only written for NoExecute taints.
- `value` (String) The taint value corresponding to the taint key.



<a id="nestedatt--spec--node_pools--static"></a>
### Nested Schema for `spec.node_pools.static`

Required:

- `name` (String) Name of the nodepool.
- `nodes` (Attributes List) List of static nodes for a particular static nodepool. (see [below for nested schema](#nestedatt--spec--node_pools--static--nodes))

Optional:

- `annotations` (Map of String)
- `labels` (Map of String)
- `taints` (Attributes List) (see [below for nested schema](#nestedatt--spec--node_pools--static--taints))

<a id="nestedatt--spec--node_pools--static--nodes"></a>
### Nested Schema for `spec.node_pools.static.taints`

Required:

- `endpoint` (String) Endpoint under which Claudie will access this node.
- `secret_ref` (Attributes) Secret reference to the private key of the node. (see [below for nested schema](#nestedatt--spec--node_pools--static--taints--secret_ref))

<a id="nestedatt--spec--node_pools--static--taints--secret_ref"></a>
### Nested Schema for `spec.node_pools.static.taints.secret_ref`

Optional:

- `name` (String) name is unique within a namespace to reference a secret resource.
- `namespace` (String) namespace defines the space within which the secret name must be unique.



<a id="nestedatt--spec--node_pools--static--taints"></a>
### Nested Schema for `spec.node_pools.static.taints`

Required:

- `effect` (String) Required. The effect of the taint on pods that do not tolerate the taint. Valid effects are NoSchedule, PreferNoSchedule and NoExecute.
- `key` (String) Required. The taint key to be applied to a node.

Optional:

- `time_added` (String) TimeAdded represents the time at which the taint was added. It is only written for NoExecute taints.
- `value` (String) The taint value corresponding to the taint key.




<a id="nestedatt--spec--providers"></a>
### Nested Schema for `spec.providers`

Required:

- `name` (String) Name is the name of the provider specification. It has to be unique across all providers.
- `provider_type` (String) ProviderType type of a provider. A list of available providers can be found at https://docs.claudie.io/v0.3.2/input-manifest/providers/aws/
- `secret_ref` (Attributes) SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace (see [below for nested schema](#nestedatt--spec--providers--secret_ref))

<a id="nestedatt--spec--providers--secret_ref"></a>
### Nested Schema for `spec.providers.secret_ref`

Optional:

- `name` (String) name is unique within a namespace to reference a secret resource.
- `namespace` (String) namespace defines the space within which the secret name must be unique.
