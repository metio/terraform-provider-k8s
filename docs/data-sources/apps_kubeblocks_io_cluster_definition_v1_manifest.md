---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_apps_kubeblocks_io_cluster_definition_v1_manifest Data Source - terraform-provider-k8s"
subcategory: "apps.kubeblocks.io"
description: |-
  ClusterDefinition defines the topology for databases or storage systems, offering a variety of topological configurations to meet diverse deployment needs and scenarios. It includes a list of Components and/or Shardings, each linked to a ComponentDefinition or a ShardingDefinition, which enhances reusability and reduce redundancy. For example, widely used components such as etcd and Zookeeper can be defined once and reused across multiple ClusterDefinitions, simplifying the setup of new systems. Additionally, ClusterDefinition also specifies the sequence of startup, upgrade, and shutdown between Components and/or Shardings, ensuring a controlled and predictable management of cluster lifecycles.
---

# k8s_apps_kubeblocks_io_cluster_definition_v1_manifest (Data Source)

ClusterDefinition defines the topology for databases or storage systems, offering a variety of topological configurations to meet diverse deployment needs and scenarios. It includes a list of Components and/or Shardings, each linked to a ComponentDefinition or a ShardingDefinition, which enhances reusability and reduce redundancy. For example, widely used components such as etcd and Zookeeper can be defined once and reused across multiple ClusterDefinitions, simplifying the setup of new systems. Additionally, ClusterDefinition also specifies the sequence of startup, upgrade, and shutdown between Components and/or Shardings, ensuring a controlled and predictable management of cluster lifecycles.

## Example Usage

```terraform
data "k8s_apps_kubeblocks_io_cluster_definition_v1_manifest" "example" {
  metadata = {
    name = "some-name"

  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) ClusterDefinitionSpec defines the desired state of ClusterDefinition. (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `topologies` (Attributes List) Topologies defines all possible topologies within the cluster. (see [below for nested schema](#nestedatt--spec--topologies))

<a id="nestedatt--spec--topologies"></a>
### Nested Schema for `spec.topologies`

Required:

- `name` (String) Name is the unique identifier for the cluster topology. Cannot be updated.

Optional:

- `components` (Attributes List) Components specifies the components in the topology. (see [below for nested schema](#nestedatt--spec--topologies--components))
- `default` (Boolean) Default indicates whether this topology serves as the default configuration. When set to true, this topology is automatically used unless another is explicitly specified.
- `orders` (Attributes) Specifies the sequence in which components within a cluster topology are started, stopped, and upgraded. This ordering is crucial for maintaining the correct dependencies and operational flow across components. (see [below for nested schema](#nestedatt--spec--topologies--orders))
- `shardings` (Attributes List) Shardings specifies the shardings in the topology. (see [below for nested schema](#nestedatt--spec--topologies--shardings))

<a id="nestedatt--spec--topologies--components"></a>
### Nested Schema for `spec.topologies.components`

Required:

- `comp_def` (String) Specifies the exact name, name prefix, or regular expression pattern for matching the name of the ComponentDefinition custom resource (CR) that defines the Component's characteristics and behavior. The system selects the ComponentDefinition CR with the latest version that matches the pattern. This approach allows: 1. Precise selection by providing the exact name of a ComponentDefinition CR. 2. Flexible and automatic selection of the most up-to-date ComponentDefinition CR by specifying a name prefix or regular expression pattern. Once set, this field cannot be updated.
- `name` (String) Defines the unique identifier of the component within the cluster topology. It follows IANA Service naming rules and is used as part of the Service's DNS name. The name must start with a lowercase letter, can contain lowercase letters, numbers, and hyphens, and must end with a lowercase letter or number. Cannot be updated once set.


<a id="nestedatt--spec--topologies--orders"></a>
### Nested Schema for `spec.topologies.orders`

Optional:

- `provision` (List of String) Specifies the order for creating and initializing entities. This is designed for entities that depend on one another. Entities without dependencies can be grouped together. Entities that can be provisioned independently or have no dependencies can be listed together in the same stage, separated by commas.
- `terminate` (List of String) Outlines the order for stopping and deleting entities. This sequence is designed for entities that require a graceful shutdown or have interdependencies. Entities that can be terminated independently or have no dependencies can be listed together in the same stage, separated by commas.
- `update` (List of String) Update determines the order for updating entities' specifications, such as image upgrades or resource scaling. This sequence is designed for entities that have dependencies or require specific update procedures. Entities that can be updated independently or have no dependencies can be listed together in the same stage, separated by commas.


<a id="nestedatt--spec--topologies--shardings"></a>
### Nested Schema for `spec.topologies.shardings`

Required:

- `name` (String) Defines the unique identifier of the sharding within the cluster topology. It follows IANA Service naming rules and is used as part of the Service's DNS name. The name must start with a lowercase letter, can contain lowercase letters, numbers, and hyphens, and must end with a lowercase letter or number. Cannot be updated once set.
- `sharding_def` (String) Specifies the sharding definition that defines the characteristics and behavior of the sharding. The system selects the ShardingDefinition CR with the latest version that matches the pattern. This approach allows: 1. Precise selection by providing the exact name of a ShardingDefinition CR. 2. Flexible and automatic selection of the most up-to-date ShardingDefinition CR by specifying a regular expression pattern. Once set, this field cannot be updated.
