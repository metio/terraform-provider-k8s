---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_monitoring_coreos_com_probe_v1 Data Source - terraform-provider-k8s"
subcategory: "monitoring.coreos.com"
description: |-
  Probe defines monitoring for a set of static targets or ingresses.
---

# k8s_monitoring_coreos_com_probe_v1 (Data Source)

Probe defines monitoring for a set of static targets or ingresses.

## Example Usage

```terraform
data "k8s_monitoring_coreos_com_probe_v1" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"

  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Read-Only

- `id` (String) Contains the value `metadata.namespace/metadata.name`.
- `spec` (Attributes) Specification of desired Ingress selection for target discovery by Prometheus. (see [below for nested schema](#nestedatt--spec))

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Read-Only:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Read-Only:

- `authorization` (Attributes) Authorization section for this endpoint (see [below for nested schema](#nestedatt--spec--authorization))
- `basic_auth` (Attributes) BasicAuth allow an endpoint to authenticate over basic authentication. More info: https://prometheus.io/docs/operating/configuration/#endpoint (see [below for nested schema](#nestedatt--spec--basic_auth))
- `bearer_token_secret` (Attributes) Secret to mount to read bearer token for scraping targets. The secret needs to be in the same namespace as the probe and accessible by the Prometheus Operator. (see [below for nested schema](#nestedatt--spec--bearer_token_secret))
- `interval` (String) Interval at which targets are probed using the configured prober. If not specified Prometheus' global scrape interval is used.
- `job_name` (String) The job name assigned to scraped metrics by default.
- `label_limit` (Number) Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
- `label_name_length_limit` (Number) Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
- `label_value_length_limit` (Number) Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
- `metric_relabelings` (Attributes List) MetricRelabelConfigs to apply to samples before ingestion. (see [below for nested schema](#nestedatt--spec--metric_relabelings))
- `module` (String) The module to use for probing specifying how to probe the target. Example module configuring in the blackbox exporter: https://github.com/prometheus/blackbox_exporter/blob/master/example.yml
- `oauth2` (Attributes) OAuth2 for the URL. Only valid in Prometheus versions 2.27.0 and newer. (see [below for nested schema](#nestedatt--spec--oauth2))
- `prober` (Attributes) Specification for the prober to use for probing targets. The prober.URL parameter is required. Targets cannot be probed if left empty. (see [below for nested schema](#nestedatt--spec--prober))
- `sample_limit` (Number) SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
- `scrape_timeout` (String) Timeout for scraping metrics from the Prometheus exporter. If not specified, the Prometheus global scrape timeout is used.
- `target_limit` (Number) TargetLimit defines a limit on the number of scraped targets that will be accepted.
- `targets` (Attributes) Targets defines a set of static or dynamically discovered targets to probe. (see [below for nested schema](#nestedatt--spec--targets))
- `tls_config` (Attributes) TLS configuration to use when scraping the endpoint. (see [below for nested schema](#nestedatt--spec--tls_config))

<a id="nestedatt--spec--authorization"></a>
### Nested Schema for `spec.authorization`

Read-Only:

- `credentials` (Attributes) Selects a key of a Secret in the namespace that contains the credentials for authentication. (see [below for nested schema](#nestedatt--spec--authorization--credentials))
- `type` (String) Defines the authentication type. The value is case-insensitive.  'Basic' is not a supported value.  Default: 'Bearer'

<a id="nestedatt--spec--authorization--credentials"></a>
### Nested Schema for `spec.authorization.credentials`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--basic_auth"></a>
### Nested Schema for `spec.basic_auth`

Read-Only:

- `password` (Attributes) The secret in the service monitor namespace that contains the password for authentication. (see [below for nested schema](#nestedatt--spec--basic_auth--password))
- `username` (Attributes) The secret in the service monitor namespace that contains the username for authentication. (see [below for nested schema](#nestedatt--spec--basic_auth--username))

<a id="nestedatt--spec--basic_auth--password"></a>
### Nested Schema for `spec.basic_auth.password`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--basic_auth--username"></a>
### Nested Schema for `spec.basic_auth.username`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--bearer_token_secret"></a>
### Nested Schema for `spec.bearer_token_secret`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--metric_relabelings"></a>
### Nested Schema for `spec.metric_relabelings`

Read-Only:

- `action` (String) Action to perform based on the regex matching.  'Uppercase' and 'Lowercase' actions require Prometheus >= v2.36.0. 'DropEqual' and 'KeepEqual' actions require Prometheus >= v2.41.0.  Default: 'Replace'
- `modulus` (Number) Modulus to take of the hash of the source label values.  Only applicable when the action is 'HashMod'.
- `regex` (String) Regular expression against which the extracted value is matched.
- `replacement` (String) Replacement value against which a Replace action is performed if the regular expression matches.  Regex capture groups are available.
- `separator` (String) Separator is the string between concatenated SourceLabels.
- `source_labels` (List of String) The source labels select values from existing labels. Their content is concatenated using the configured Separator and matched against the configured regular expression.
- `target_label` (String) Label to which the resulting string is written in a replacement.  It is mandatory for 'Replace', 'HashMod', 'Lowercase', 'Uppercase', 'KeepEqual' and 'DropEqual' actions.  Regex capture groups are available.


<a id="nestedatt--spec--oauth2"></a>
### Nested Schema for `spec.oauth2`

Read-Only:

- `client_id` (Attributes) The secret or configmap containing the OAuth2 client id (see [below for nested schema](#nestedatt--spec--oauth2--client_id))
- `client_secret` (Attributes) The secret containing the OAuth2 client secret (see [below for nested schema](#nestedatt--spec--oauth2--client_secret))
- `endpoint_params` (Map of String) Parameters to append to the token URL
- `scopes` (List of String) OAuth2 scopes used for the token request
- `token_url` (String) The URL to fetch the token from

<a id="nestedatt--spec--oauth2--client_id"></a>
### Nested Schema for `spec.oauth2.client_id`

Read-Only:

- `config_map` (Attributes) ConfigMap containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--oauth2--client_id--config_map))
- `secret` (Attributes) Secret containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--oauth2--client_id--secret))

<a id="nestedatt--spec--oauth2--client_id--config_map"></a>
### Nested Schema for `spec.oauth2.client_id.secret`

Read-Only:

- `key` (String) The key to select.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the ConfigMap or its key must be defined


<a id="nestedatt--spec--oauth2--client_id--secret"></a>
### Nested Schema for `spec.oauth2.client_id.secret`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--oauth2--client_secret"></a>
### Nested Schema for `spec.oauth2.client_secret`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--prober"></a>
### Nested Schema for `spec.prober`

Read-Only:

- `path` (String) Path to collect metrics from. Defaults to '/probe'.
- `proxy_url` (String) Optional ProxyURL.
- `scheme` (String) HTTP scheme to use for scraping. 'http' and 'https' are the expected values unless you rewrite the '__scheme__' label via relabeling. If empty, Prometheus uses the default value 'http'.
- `url` (String) Mandatory URL of the prober.


<a id="nestedatt--spec--targets"></a>
### Nested Schema for `spec.targets`

Read-Only:

- `ingress` (Attributes) ingress defines the Ingress objects to probe and the relabeling configuration. If 'staticConfig' is also defined, 'staticConfig' takes precedence. (see [below for nested schema](#nestedatt--spec--targets--ingress))
- `static_config` (Attributes) staticConfig defines the static list of targets to probe and the relabeling configuration. If 'ingress' is also defined, 'staticConfig' takes precedence. More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#static_config. (see [below for nested schema](#nestedatt--spec--targets--static_config))

<a id="nestedatt--spec--targets--ingress"></a>
### Nested Schema for `spec.targets.ingress`

Read-Only:

- `namespace_selector` (Attributes) From which namespaces to select Ingress objects. (see [below for nested schema](#nestedatt--spec--targets--ingress--namespace_selector))
- `relabeling_configs` (Attributes List) RelabelConfigs to apply to the label set of the target before it gets scraped. The original ingress address is available via the '__tmp_prometheus_ingress_address' label. It can be used to customize the probed URL. The original scrape job's name is available via the '__tmp_prometheus_job_name' label. More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config (see [below for nested schema](#nestedatt--spec--targets--ingress--relabeling_configs))
- `selector` (Attributes) Selector to select the Ingress objects. (see [below for nested schema](#nestedatt--spec--targets--ingress--selector))

<a id="nestedatt--spec--targets--ingress--namespace_selector"></a>
### Nested Schema for `spec.targets.ingress.selector`

Read-Only:

- `any` (Boolean) Boolean describing whether all namespaces are selected in contrast to a list restricting them.
- `match_names` (List of String) List of namespace names to select from.


<a id="nestedatt--spec--targets--ingress--relabeling_configs"></a>
### Nested Schema for `spec.targets.ingress.selector`

Read-Only:

- `action` (String) Action to perform based on the regex matching.  'Uppercase' and 'Lowercase' actions require Prometheus >= v2.36.0. 'DropEqual' and 'KeepEqual' actions require Prometheus >= v2.41.0.  Default: 'Replace'
- `modulus` (Number) Modulus to take of the hash of the source label values.  Only applicable when the action is 'HashMod'.
- `regex` (String) Regular expression against which the extracted value is matched.
- `replacement` (String) Replacement value against which a Replace action is performed if the regular expression matches.  Regex capture groups are available.
- `separator` (String) Separator is the string between concatenated SourceLabels.
- `source_labels` (List of String) The source labels select values from existing labels. Their content is concatenated using the configured Separator and matched against the configured regular expression.
- `target_label` (String) Label to which the resulting string is written in a replacement.  It is mandatory for 'Replace', 'HashMod', 'Lowercase', 'Uppercase', 'KeepEqual' and 'DropEqual' actions.  Regex capture groups are available.


<a id="nestedatt--spec--targets--ingress--selector"></a>
### Nested Schema for `spec.targets.ingress.selector`

Read-Only:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--targets--ingress--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is 'key', the operator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--targets--ingress--selector--match_expressions"></a>
### Nested Schema for `spec.targets.ingress.selector.match_expressions`

Read-Only:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
- `values` (List of String) values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.




<a id="nestedatt--spec--targets--static_config"></a>
### Nested Schema for `spec.targets.static_config`

Read-Only:

- `labels` (Map of String) Labels assigned to all metrics scraped from the targets.
- `relabeling_configs` (Attributes List) RelabelConfigs to apply to the label set of the targets before it gets scraped. More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config (see [below for nested schema](#nestedatt--spec--targets--static_config--relabeling_configs))
- `static` (List of String) The list of hosts to probe.

<a id="nestedatt--spec--targets--static_config--relabeling_configs"></a>
### Nested Schema for `spec.targets.static_config.static`

Read-Only:

- `action` (String) Action to perform based on the regex matching.  'Uppercase' and 'Lowercase' actions require Prometheus >= v2.36.0. 'DropEqual' and 'KeepEqual' actions require Prometheus >= v2.41.0.  Default: 'Replace'
- `modulus` (Number) Modulus to take of the hash of the source label values.  Only applicable when the action is 'HashMod'.
- `regex` (String) Regular expression against which the extracted value is matched.
- `replacement` (String) Replacement value against which a Replace action is performed if the regular expression matches.  Regex capture groups are available.
- `separator` (String) Separator is the string between concatenated SourceLabels.
- `source_labels` (List of String) The source labels select values from existing labels. Their content is concatenated using the configured Separator and matched against the configured regular expression.
- `target_label` (String) Label to which the resulting string is written in a replacement.  It is mandatory for 'Replace', 'HashMod', 'Lowercase', 'Uppercase', 'KeepEqual' and 'DropEqual' actions.  Regex capture groups are available.




<a id="nestedatt--spec--tls_config"></a>
### Nested Schema for `spec.tls_config`

Read-Only:

- `ca` (Attributes) Certificate authority used when verifying server certificates. (see [below for nested schema](#nestedatt--spec--tls_config--ca))
- `cert` (Attributes) Client certificate to present when doing client-authentication. (see [below for nested schema](#nestedatt--spec--tls_config--cert))
- `insecure_skip_verify` (Boolean) Disable target certificate validation.
- `key_secret` (Attributes) Secret containing the client key file for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--key_secret))
- `server_name` (String) Used to verify the hostname for the targets.

<a id="nestedatt--spec--tls_config--ca"></a>
### Nested Schema for `spec.tls_config.ca`

Read-Only:

- `config_map` (Attributes) ConfigMap containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--ca--config_map))
- `secret` (Attributes) Secret containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--ca--secret))

<a id="nestedatt--spec--tls_config--ca--config_map"></a>
### Nested Schema for `spec.tls_config.ca.secret`

Read-Only:

- `key` (String) The key to select.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the ConfigMap or its key must be defined


<a id="nestedatt--spec--tls_config--ca--secret"></a>
### Nested Schema for `spec.tls_config.ca.secret`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--tls_config--cert"></a>
### Nested Schema for `spec.tls_config.cert`

Read-Only:

- `config_map` (Attributes) ConfigMap containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--cert--config_map))
- `secret` (Attributes) Secret containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--cert--secret))

<a id="nestedatt--spec--tls_config--cert--config_map"></a>
### Nested Schema for `spec.tls_config.cert.secret`

Read-Only:

- `key` (String) The key to select.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the ConfigMap or its key must be defined


<a id="nestedatt--spec--tls_config--cert--secret"></a>
### Nested Schema for `spec.tls_config.cert.secret`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--tls_config--key_secret"></a>
### Nested Schema for `spec.tls_config.key_secret`

Read-Only:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined
