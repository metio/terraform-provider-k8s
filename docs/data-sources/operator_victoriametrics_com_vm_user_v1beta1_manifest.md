---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_operator_victoriametrics_com_vm_user_v1beta1_manifest Data Source - terraform-provider-k8s"
subcategory: "operator.victoriametrics.com"
description: |-
  VMUser is the Schema for the vmusers API
---

# k8s_operator_victoriametrics_com_vm_user_v1beta1_manifest (Data Source)

VMUser is the Schema for the vmusers API

## Example Usage

```terraform
data "k8s_operator_victoriametrics_com_vm_user_v1beta1_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) VMUserSpec defines the desired state of VMUser (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `target_refs` (Attributes List) TargetRefs - reference to endpoints, which user may access. (see [below for nested schema](#nestedatt--spec--target_refs))

Optional:

- `bearer_token` (String) BearerToken Authorization header value for accessing protected endpoint.
- `default_url` (List of String) DefaultURLs backend url for non-matching paths filterusually used for default backend with error message
- `disable_secret_creation` (Boolean) DisableSecretCreation skips related secret creation for vmuser
- `drop_src_path_prefix_parts` (Number) DropSrcPathPrefixParts is the number of '/'-delimited request path prefix parts to drop before proxying the request to backend.See https://docs.victoriametrics.com/vmauth.html#dropping-request-path-prefix for more details.
- `generate_password` (Boolean) GeneratePassword instructs operator to generate password for userif spec.password if empty.
- `headers` (List of String) Headers represent additional http headers, that vmauth usesin form of ['header_key: header_value']multiple values for header key:['header_key: value1,value2']it's available since 1.68.0 version of vmauth
- `ip_filters` (Attributes) IPFilters defines per target src ip filterssupported only with enterprise version of vmauthhttps://docs.victoriametrics.com/vmauth.html#ip-filters (see [below for nested schema](#nestedatt--spec--ip_filters))
- `load_balancing_policy` (String) LoadBalancingPolicy defines load balancing policy to use for backend urls.Supported policies: least_loaded, first_available.See https://docs.victoriametrics.com/vmauth.html#load-balancing for more details (default 'least_loaded')
- `max_concurrent_requests` (Number) MaxConcurrentRequests defines max concurrent requests per user300 is default value for vmauth
- `metric_labels` (Map of String) MetricLabels - additional labels for metrics exported by vmauth for given user.
- `name` (String) Name of the VMUser object.
- `password` (String) Password basic auth password for accessing protected endpoint.
- `password_ref` (Attributes) PasswordRef allows fetching password from user-create secret by its name and key. (see [below for nested schema](#nestedatt--spec--password_ref))
- `response_headers` (List of String) ResponseHeaders represent additional http headers, that vmauth adds for request responsein form of ['header_key: header_value']multiple values for header key:['header_key: value1,value2']it's available since 1.93.0 version of vmauth
- `retry_status_codes` (List of String) RetryStatusCodes defines http status codes in numeric format for request retriese.g. [429,503]
- `tls_insecure_skip_verify` (Boolean) TLSInsecureSkipVerify - whether to skip TLS verification when connecting to backend over HTTPS.See https://docs.victoriametrics.com/vmauth.html#backend-tls-setup
- `token_ref` (Attributes) TokenRef allows fetching token from user-created secrets by its name and key. (see [below for nested schema](#nestedatt--spec--token_ref))
- `username` (String) UserName basic auth user name for accessing protected endpoint,will be replaced with metadata.name of VMUser if omitted.

<a id="nestedatt--spec--target_refs"></a>
### Nested Schema for `spec.target_refs`

Optional:

- `crd` (Attributes) CRD describes exist operator's CRD object,operator generates access url based on CRD params. (see [below for nested schema](#nestedatt--spec--target_refs--crd))
- `drop_src_path_prefix_parts` (Number) DropSrcPathPrefixParts is the number of '/'-delimited request path prefix parts to drop before proxying the request to backend.See https://docs.victoriametrics.com/vmauth.html#dropping-request-path-prefix for more details.
- `headers` (List of String) Headers represent additional http headers, that vmauth usesin form of ['header_key: header_value']multiple values for header key:['header_key: value1,value2']it's available since 1.68.0 version of vmauth
- `hosts` (List of String)
- `load_balancing_policy` (String) LoadBalancingPolicy defines load balancing policy to use for backend urls.Supported policies: least_loaded, first_available.See https://docs.victoriametrics.com/vmauth.html#load-balancing for more details (default 'least_loaded')
- `paths` (List of String) Paths - matched path to route.
- `response_headers` (List of String) ResponseHeaders represent additional http headers, that vmauth adds for request responsein form of ['header_key: header_value']multiple values for header key:['header_key: value1,value2']it's available since 1.93.0 version of vmauth
- `retry_status_codes` (List of String) RetryStatusCodes defines http status codes in numeric format for request retriesCan be defined per target or at VMUser.spec levele.g. [429,503]
- `static` (Attributes) Static - user defined url for traffic forward,for instance http://vmsingle:8429 (see [below for nested schema](#nestedatt--spec--target_refs--static))
- `target_path_suffix` (String) QueryParams []string 'json:'queryParams,omitempty''TargetPathSuffix allows to add some suffix to the target pathIt allows to hide tenant configuration from user with crd as ref.it also may contain any url encoded params.
- `target_ref_basic_auth` (Attributes) TargetRefBasicAuth allow an target endpoint to authenticate over basic authentication (see [below for nested schema](#nestedatt--spec--target_refs--target_ref_basic_auth))

<a id="nestedatt--spec--target_refs--crd"></a>
### Nested Schema for `spec.target_refs.crd`

Required:

- `kind` (String) Kind one of:VMAgent VMAlert VMCluster VMSingle or VMAlertManager
- `name` (String) Name target CRD object name
- `namespace` (String) Namespace target CRD object namespace.


<a id="nestedatt--spec--target_refs--static"></a>
### Nested Schema for `spec.target_refs.static`

Optional:

- `url` (String) URL http url for given staticRef.
- `urls` (List of String) URLs allows setting multiple urls for load-balancing at vmauth-side.


<a id="nestedatt--spec--target_refs--target_ref_basic_auth"></a>
### Nested Schema for `spec.target_refs.target_ref_basic_auth`

Required:

- `password` (Attributes) The secret in the service scrape namespace that contains the passwordfor authentication.It must be at them same namespace as CRD (see [below for nested schema](#nestedatt--spec--target_refs--target_ref_basic_auth--password))
- `username` (Attributes) The secret in the service scrape namespace that contains the usernamefor authentication.It must be at them same namespace as CRD (see [below for nested schema](#nestedatt--spec--target_refs--target_ref_basic_auth--username))

<a id="nestedatt--spec--target_refs--target_ref_basic_auth--password"></a>
### Nested Schema for `spec.target_refs.target_ref_basic_auth.password`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--target_refs--target_ref_basic_auth--username"></a>
### Nested Schema for `spec.target_refs.target_ref_basic_auth.username`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined




<a id="nestedatt--spec--ip_filters"></a>
### Nested Schema for `spec.ip_filters`

Optional:

- `allow_list` (List of String)
- `deny_list` (List of String)


<a id="nestedatt--spec--password_ref"></a>
### Nested Schema for `spec.password_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--token_ref"></a>
### Nested Schema for `spec.token_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined
