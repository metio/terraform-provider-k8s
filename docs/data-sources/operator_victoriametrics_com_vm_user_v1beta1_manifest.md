---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_operator_victoriametrics_com_vm_user_v1beta1_manifest Data Source - terraform-provider-k8s"
subcategory: "operator.victoriametrics.com"
description: |-
  VMUser is the Schema for the vmusers API
---

# k8s_operator_victoriametrics_com_vm_user_v1beta1_manifest (Data Source)

VMUser is the Schema for the vmusers API

## Example Usage

```terraform
data "k8s_operator_victoriametrics_com_vm_user_v1beta1_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) VMUserSpec defines the desired state of VMUser (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `target_refs` (Attributes List) TargetRefs - reference to endpoints, which user may access. (see [below for nested schema](#nestedatt--spec--target_refs))

Optional:

- `bearer_token` (String) BearerToken Authorization header value for accessing protected endpoint.
- `default_url` (List of String) DefaultURLs backend url for non-matching paths filter usually used for default backend with error message
- `disable_secret_creation` (Boolean) DisableSecretCreation skips related secret creation for vmuser
- `discover_backend_ips` (Boolean) DiscoverBackendIPs instructs discovering URLPrefix backend IPs via DNS.
- `drop_src_path_prefix_parts` (Number) DropSrcPathPrefixParts is the number of '/'-delimited request path prefix parts to drop before proxying the request to backend. See https://docs.victoriametrics.com/vmauth.html#dropping-request-path-prefix for more details.
- `generate_password` (Boolean) GeneratePassword instructs operator to generate password for user if spec.password if empty.
- `headers` (List of String) Headers represent additional http headers, that vmauth uses in form of ['header_key: header_value'] multiple values for header key: ['header_key: value1,value2'] it's available since 1.68.0 version of vmauth
- `ip_filters` (Attributes) IPFilters defines per target src ip filters supported only with enterprise version of vmauth https://docs.victoriametrics.com/vmauth.html#ip-filters (see [below for nested schema](#nestedatt--spec--ip_filters))
- `load_balancing_policy` (String) LoadBalancingPolicy defines load balancing policy to use for backend urls. Supported policies: least_loaded, first_available. See https://docs.victoriametrics.com/vmauth.html#load-balancing for more details (default 'least_loaded')
- `max_concurrent_requests` (Number) MaxConcurrentRequests defines max concurrent requests per user 300 is default value for vmauth
- `metric_labels` (Map of String) MetricLabels - additional labels for metrics exported by vmauth for given user.
- `name` (String) Name of the VMUser object.
- `password` (String) Password basic auth password for accessing protected endpoint.
- `password_ref` (Attributes) PasswordRef allows fetching password from user-create secret by its name and key. (see [below for nested schema](#nestedatt--spec--password_ref))
- `response_headers` (List of String) ResponseHeaders represent additional http headers, that vmauth adds for request response in form of ['header_key: header_value'] multiple values for header key: ['header_key: value1,value2'] it's available since 1.93.0 version of vmauth
- `retry_status_codes` (List of String) RetryStatusCodes defines http status codes in numeric format for request retries e.g. [429,503]
- `tls_config` (Attributes) TLSConfig specifies TLSConfig configuration parameters. (see [below for nested schema](#nestedatt--spec--tls_config))
- `token_ref` (Attributes) TokenRef allows fetching token from user-created secrets by its name and key. (see [below for nested schema](#nestedatt--spec--token_ref))
- `username` (String) UserName basic auth user name for accessing protected endpoint, will be replaced with metadata.name of VMUser if omitted.

<a id="nestedatt--spec--target_refs"></a>
### Nested Schema for `spec.target_refs`

Optional:

- `crd` (Attributes) CRD describes exist operator's CRD object, operator generates access url based on CRD params. (see [below for nested schema](#nestedatt--spec--target_refs--crd))
- `discover_backend_ips` (Boolean) DiscoverBackendIPs instructs discovering URLPrefix backend IPs via DNS.
- `drop_src_path_prefix_parts` (Number) DropSrcPathPrefixParts is the number of '/'-delimited request path prefix parts to drop before proxying the request to backend. See https://docs.victoriametrics.com/vmauth.html#dropping-request-path-prefix for more details.
- `headers` (List of String) RequestHeaders represent additional http headers, that vmauth uses in form of ['header_key: header_value'] multiple values for header key: ['header_key: value1,value2'] it's available since 1.68.0 version of vmauth
- `hosts` (List of String)
- `load_balancing_policy` (String) LoadBalancingPolicy defines load balancing policy to use for backend urls. Supported policies: least_loaded, first_available. See https://docs.victoriametrics.com/vmauth.html#load-balancing for more details (default 'least_loaded')
- `paths` (List of String) Paths - matched path to route.
- `response_headers` (List of String) ResponseHeaders represent additional http headers, that vmauth adds for request response in form of ['header_key: header_value'] multiple values for header key: ['header_key: value1,value2'] it's available since 1.93.0 version of vmauth
- `retry_status_codes` (List of String) RetryStatusCodes defines http status codes in numeric format for request retries Can be defined per target or at VMUser.spec level e.g. [429,503]
- `src_headers` (List of String) SrcHeaders is an optional list of headers, which must match request headers.
- `src_query_args` (List of String) SrcQueryArgs is an optional list of query args, which must match request URL query args.
- `static` (Attributes) Static - user defined url for traffic forward, for instance http://vmsingle:8429 (see [below for nested schema](#nestedatt--spec--target_refs--static))
- `target_path_suffix` (String) TargetPathSuffix allows to add some suffix to the target path It allows to hide tenant configuration from user with crd as ref. it also may contain any url encoded params.
- `target_ref_basic_auth` (Attributes) TargetRefBasicAuth allow an target endpoint to authenticate over basic authentication (see [below for nested schema](#nestedatt--spec--target_refs--target_ref_basic_auth))

<a id="nestedatt--spec--target_refs--crd"></a>
### Nested Schema for `spec.target_refs.crd`

Required:

- `kind` (String) Kind one of: VMAgent VMAlert VMCluster VMSingle or VMAlertManager
- `name` (String) Name target CRD object name
- `namespace` (String) Namespace target CRD object namespace.


<a id="nestedatt--spec--target_refs--static"></a>
### Nested Schema for `spec.target_refs.static`

Optional:

- `url` (String) URL http url for given staticRef.
- `urls` (List of String) URLs allows setting multiple urls for load-balancing at vmauth-side.


<a id="nestedatt--spec--target_refs--target_ref_basic_auth"></a>
### Nested Schema for `spec.target_refs.target_ref_basic_auth`

Required:

- `password` (Attributes) The secret in the service scrape namespace that contains the password for authentication. It must be at them same namespace as CRD (see [below for nested schema](#nestedatt--spec--target_refs--target_ref_basic_auth--password))
- `username` (Attributes) The secret in the service scrape namespace that contains the username for authentication. It must be at them same namespace as CRD (see [below for nested schema](#nestedatt--spec--target_refs--target_ref_basic_auth--username))

<a id="nestedatt--spec--target_refs--target_ref_basic_auth--password"></a>
### Nested Schema for `spec.target_refs.target_ref_basic_auth.password`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--target_refs--target_ref_basic_auth--username"></a>
### Nested Schema for `spec.target_refs.target_ref_basic_auth.username`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined




<a id="nestedatt--spec--ip_filters"></a>
### Nested Schema for `spec.ip_filters`

Optional:

- `allow_list` (List of String)
- `deny_list` (List of String)


<a id="nestedatt--spec--password_ref"></a>
### Nested Schema for `spec.password_ref`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--tls_config"></a>
### Nested Schema for `spec.tls_config`

Optional:

- `ca` (Attributes) Stuct containing the CA cert to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--ca))
- `ca_file` (String) Path to the CA cert in the container to use for the targets.
- `cert` (Attributes) Struct containing the client cert file for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--cert))
- `cert_file` (String) Path to the client cert file in the container for the targets.
- `insecure_skip_verify` (Boolean) Disable target certificate validation.
- `key_file` (String) Path to the client key file in the container for the targets.
- `key_secret` (Attributes) Secret containing the client key file for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--key_secret))
- `server_name` (String) Used to verify the hostname for the targets.

<a id="nestedatt--spec--tls_config--ca"></a>
### Nested Schema for `spec.tls_config.ca`

Optional:

- `config_map` (Attributes) ConfigMap containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--ca--config_map))
- `secret` (Attributes) Secret containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--ca--secret))

<a id="nestedatt--spec--tls_config--ca--config_map"></a>
### Nested Schema for `spec.tls_config.ca.config_map`

Required:

- `key` (String) The key to select.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the ConfigMap or its key must be defined


<a id="nestedatt--spec--tls_config--ca--secret"></a>
### Nested Schema for `spec.tls_config.ca.secret`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--tls_config--cert"></a>
### Nested Schema for `spec.tls_config.cert`

Optional:

- `config_map` (Attributes) ConfigMap containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--cert--config_map))
- `secret` (Attributes) Secret containing data to use for the targets. (see [below for nested schema](#nestedatt--spec--tls_config--cert--secret))

<a id="nestedatt--spec--tls_config--cert--config_map"></a>
### Nested Schema for `spec.tls_config.cert.config_map`

Required:

- `key` (String) The key to select.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the ConfigMap or its key must be defined


<a id="nestedatt--spec--tls_config--cert--secret"></a>
### Nested Schema for `spec.tls_config.cert.secret`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--tls_config--key_secret"></a>
### Nested Schema for `spec.tls_config.key_secret`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--token_ref"></a>
### Nested Schema for `spec.token_ref`

Required:

- `key` (String) The key of the secret to select from. Must be a valid secret key.

Optional:

- `name` (String) Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined
