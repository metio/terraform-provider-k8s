---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_marin3r_3scale_net_envoy_config_revision_v1alpha1_manifest Data Source - terraform-provider-k8s"
subcategory: "marin3r.3scale.net"
description: |-
  EnvoyConfigRevision is an internal resource that stores a specific version of an EnvoyConfig resource. EnvoyConfigRevisions are automatically created and deleted by the EnvoyConfig controller and are not intended to be directly used. Use EnvoyConfig objects instead.
---

# k8s_marin3r_3scale_net_envoy_config_revision_v1alpha1_manifest (Data Source)

EnvoyConfigRevision is an internal resource that stores a specific version of an EnvoyConfig resource. EnvoyConfigRevisions are automatically created and deleted by the EnvoyConfig controller and are not intended to be directly used. Use EnvoyConfig objects instead.

## Example Usage

```terraform
data "k8s_marin3r_3scale_net_envoy_config_revision_v1alpha1_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) EnvoyConfigRevisionSpec defines the desired state of EnvoyConfigRevision (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `node_id` (String) NodeID holds the envoy identifier for the discovery service to know which set of resources to send to each of the envoy clients that connect to it.
- `version` (String) Version is a hash of the EnvoyResources field

Optional:

- `envoy_api` (String) EnvoyAPI is the version of envoy's API to use. Defaults to v3.
- `envoy_resources` (Attributes) EnvoyResources holds the different types of resources suported by the envoy discovery service (see [below for nested schema](#nestedatt--spec--envoy_resources))
- `resources` (Attributes List) Resources holds the different types of resources suported by the envoy discovery service (see [below for nested schema](#nestedatt--spec--resources))
- `serialization` (String) Serialization specicifies the serialization format used to describe the resources. 'json' and 'yaml' are supported. 'json' is used if unset.

<a id="nestedatt--spec--envoy_resources"></a>
### Nested Schema for `spec.envoy_resources`

Optional:

- `clusters` (Attributes List) Clusters is a list of the envoy Cluster resource type. API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--clusters))
- `endpoints` (Attributes List) Endpoints is a list of the envoy ClusterLoadAssignment resource type. API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/endpoint/v3/endpoint.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--endpoints))
- `extension_configs` (Attributes List) ExtensionConfigs is a list of the envoy ExtensionConfig resource type API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/extension.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--extension_configs))
- `listeners` (Attributes List) Listeners is a list of the envoy Listener resource type. API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/listener/v3/listener.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--listeners))
- `routes` (Attributes List) Routes is a list of the envoy Route resource type. API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/route/v3/route.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--routes))
- `runtimes` (Attributes List) Runtimes is a list of the envoy Runtime resource type. API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/service/runtime/v3/rtds.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--runtimes))
- `scoped_routes` (Attributes List) ScopedRoutes is a list of the envoy ScopeRoute resource type. API V3 reference: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/route/v3/scoped_route.proto (see [below for nested schema](#nestedatt--spec--envoy_resources--scoped_routes))
- `secrets` (Attributes List) Secrets is a list of references to Kubernetes Secret objects. (see [below for nested schema](#nestedatt--spec--envoy_resources--secrets))

<a id="nestedatt--spec--envoy_resources--clusters"></a>
### Nested Schema for `spec.envoy_resources.clusters`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--endpoints"></a>
### Nested Schema for `spec.envoy_resources.endpoints`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--extension_configs"></a>
### Nested Schema for `spec.envoy_resources.extension_configs`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--listeners"></a>
### Nested Schema for `spec.envoy_resources.listeners`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--routes"></a>
### Nested Schema for `spec.envoy_resources.routes`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--runtimes"></a>
### Nested Schema for `spec.envoy_resources.runtimes`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--scoped_routes"></a>
### Nested Schema for `spec.envoy_resources.scoped_routes`

Required:

- `value` (String) Value is the serialized representation of the envoy resource

Optional:

- `name` (String) Name of the envoy resource. DEPRECATED: this field has no effect and will be removed in an upcoming release. The name of the resources for discovery purposes is included in the resource itself. Refer to the envoy API reference to check how the name is specified for each resource type.


<a id="nestedatt--spec--envoy_resources--secrets"></a>
### Nested Schema for `spec.envoy_resources.secrets`

Required:

- `name` (String) Name of the envoy tslCerticate secret resource. The certificate will be fetched from a Kubernetes Secrets of type 'kubernetes.io/tls' with this same name.

Optional:

- `ref` (Attributes) DEPRECATED: this field is deprecated and it's value will be ignored. The 'name' of the Kubernetes Secret must match the 'name' field. (see [below for nested schema](#nestedatt--spec--envoy_resources--secrets--ref))

<a id="nestedatt--spec--envoy_resources--secrets--ref"></a>
### Nested Schema for `spec.envoy_resources.secrets.ref`

Optional:

- `name` (String) name is unique within a namespace to reference a secret resource.
- `namespace` (String) namespace defines the space within which the secret name must be unique.




<a id="nestedatt--spec--resources"></a>
### Nested Schema for `spec.resources`

Required:

- `type` (String) Type is the type url for the protobuf message

Optional:

- `blueprint` (String) Blueprint specifies a template to generate a configuration proto. It is currently only supported to generate secret configuration resources from k8s Secrets
- `generate_from_endpoint_slices` (Attributes) Specifies a label selector to watch for EndpointSlices that will be used to generate the endpoint resource (see [below for nested schema](#nestedatt--spec--resources--generate_from_endpoint_slices))
- `generate_from_opaque_secret` (Attributes) The name of a Kubernetes Secret of type 'Opaque'. It will generate an envoy 'generic secret' proto. (see [below for nested schema](#nestedatt--spec--resources--generate_from_opaque_secret))
- `generate_from_tls_secret` (String) The name of a Kubernetes Secret of type 'kubernetes.io/tls'
- `value` (Map of String) Value is the protobufer message that configures the resource. The proto must match the envoy configuration API v3 specification for the given resource type (https://www.envoyproxy.io/docs/envoy/latest/api-docs/xds_protocol#resource-types)

<a id="nestedatt--spec--resources--generate_from_endpoint_slices"></a>
### Nested Schema for `spec.resources.generate_from_endpoint_slices`

Required:

- `cluster_name` (String)
- `selector` (Attributes) A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects. (see [below for nested schema](#nestedatt--spec--resources--generate_from_endpoint_slices--selector))
- `target_port` (String)

<a id="nestedatt--spec--resources--generate_from_endpoint_slices--selector"></a>
### Nested Schema for `spec.resources.generate_from_endpoint_slices.selector`

Optional:

- `match_expressions` (Attributes List) matchExpressions is a list of label selector requirements. The requirements are ANDed. (see [below for nested schema](#nestedatt--spec--resources--generate_from_endpoint_slices--selector--match_expressions))
- `match_labels` (Map of String) matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is 'key', the operator is 'In', and the values array contains only 'value'. The requirements are ANDed.

<a id="nestedatt--spec--resources--generate_from_endpoint_slices--selector--match_expressions"></a>
### Nested Schema for `spec.resources.generate_from_endpoint_slices.selector.match_expressions`

Required:

- `key` (String) key is the label key that the selector applies to.
- `operator` (String) operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.

Optional:

- `values` (List of String) values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.




<a id="nestedatt--spec--resources--generate_from_opaque_secret"></a>
### Nested Schema for `spec.resources.generate_from_opaque_secret`

Required:

- `alias` (String) A unique name to refer to the name:key combination
- `key` (String) The key of the secret to select from.  Must be a valid secret key.
- `name` (String) The name of the secret in the pod's namespace to select from.
