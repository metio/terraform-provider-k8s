---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_k8up_io_backup_v1_manifest Data Source - terraform-provider-k8s"
subcategory: "k8up.io"
description: |-
  Backup is the Schema for the backups API
---

# k8s_k8up_io_backup_v1_manifest (Data Source)

Backup is the Schema for the backups API

## Example Usage

```terraform
data "k8s_k8up_io_backup_v1_manifest" "example" {
  metadata = {
    name      = "some-name"
    namespace = "some-namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Optional

- `spec` (Attributes) BackupSpec defines a single backup. It must contain all information to connect tothe backup repository when applied. If used with defaults or schedules the operator willensure that the defaults are applied before creating the object on the API. (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `active_deadline_seconds` (Number) ActiveDeadlineSeconds specifies the duration in seconds relative to the startTime that the job may be continuously active before the system tries to terminate it.Value must be positive integer if given.
- `backend` (Attributes) Backend contains the restic repo where the job should backup to. (see [below for nested schema](#nestedatt--spec--backend))
- `failed_jobs_history_limit` (Number) FailedJobsHistoryLimit amount of failed jobs to keep for later analysis.KeepJobs is used property is not specified.
- `keep_jobs` (Number) KeepJobs amount of jobs to keep for later analysis.Deprecated: Use FailedJobsHistoryLimit and SuccessfulJobsHistoryLimit respectively.
- `pod_security_context` (Attributes) PodSecurityContext describes the security context with which this action shall be executed. (see [below for nested schema](#nestedatt--spec--pod_security_context))
- `prom_url` (String) PromURL sets a prometheus push URL where the backup container send metrics to
- `resources` (Attributes) Resources describes the compute resource requirements (cpu, memory, etc.) (see [below for nested schema](#nestedatt--spec--resources))
- `stats_url` (String) StatsURL sets an arbitrary URL where the restic container posts metrics andinformation about the snapshots to. This is in addition to the prometheuspushgateway.
- `successful_jobs_history_limit` (Number) SuccessfulJobsHistoryLimit amount of successful jobs to keep for later analysis.KeepJobs is used property is not specified.
- `tags` (List of String) Tags is a list of arbitrary tags that get added to the backup via Restic's tagging system

<a id="nestedatt--spec--backend"></a>
### Nested Schema for `spec.backend`

Optional:

- `azure` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--azure))
- `b2` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--b2))
- `env_from` (Attributes List) EnvFrom adds all environment variables from a an external source to the Restic job. (see [below for nested schema](#nestedatt--spec--backend--env_from))
- `gcs` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--gcs))
- `local` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--local))
- `repo_password_secret_ref` (Attributes) RepoPasswordSecretRef references a secret key to look up the restic repository password (see [below for nested schema](#nestedatt--spec--backend--repo_password_secret_ref))
- `rest` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--rest))
- `s3` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--s3))
- `swift` (Attributes) (see [below for nested schema](#nestedatt--spec--backend--swift))

<a id="nestedatt--spec--backend--azure"></a>
### Nested Schema for `spec.backend.azure`

Optional:

- `account_key_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--azure--account_key_secret_ref))
- `account_name_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--azure--account_name_secret_ref))
- `container` (String)
- `path` (String)

<a id="nestedatt--spec--backend--azure--account_key_secret_ref"></a>
### Nested Schema for `spec.backend.azure.path`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--backend--azure--account_name_secret_ref"></a>
### Nested Schema for `spec.backend.azure.path`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--backend--b2"></a>
### Nested Schema for `spec.backend.b2`

Optional:

- `account_id_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--b2--account_id_secret_ref))
- `account_key_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--b2--account_key_secret_ref))
- `bucket` (String)
- `path` (String)

<a id="nestedatt--spec--backend--b2--account_id_secret_ref"></a>
### Nested Schema for `spec.backend.b2.path`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--backend--b2--account_key_secret_ref"></a>
### Nested Schema for `spec.backend.b2.path`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--backend--env_from"></a>
### Nested Schema for `spec.backend.env_from`

Optional:

- `config_map_ref` (Attributes) The ConfigMap to select from (see [below for nested schema](#nestedatt--spec--backend--env_from--config_map_ref))
- `prefix` (String) An optional identifier to prepend to each key in the ConfigMap. Must be a C_IDENTIFIER.
- `secret_ref` (Attributes) The Secret to select from (see [below for nested schema](#nestedatt--spec--backend--env_from--secret_ref))

<a id="nestedatt--spec--backend--env_from--config_map_ref"></a>
### Nested Schema for `spec.backend.env_from.secret_ref`

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the ConfigMap must be defined


<a id="nestedatt--spec--backend--env_from--secret_ref"></a>
### Nested Schema for `spec.backend.env_from.secret_ref`

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret must be defined



<a id="nestedatt--spec--backend--gcs"></a>
### Nested Schema for `spec.backend.gcs`

Optional:

- `access_token_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--gcs--access_token_secret_ref))
- `bucket` (String)
- `project_id_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--gcs--project_id_secret_ref))

<a id="nestedatt--spec--backend--gcs--access_token_secret_ref"></a>
### Nested Schema for `spec.backend.gcs.project_id_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--backend--gcs--project_id_secret_ref"></a>
### Nested Schema for `spec.backend.gcs.project_id_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--backend--local"></a>
### Nested Schema for `spec.backend.local`

Optional:

- `mount_path` (String)


<a id="nestedatt--spec--backend--repo_password_secret_ref"></a>
### Nested Schema for `spec.backend.repo_password_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--backend--rest"></a>
### Nested Schema for `spec.backend.rest`

Optional:

- `password_secret_reg` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--rest--password_secret_reg))
- `url` (String)
- `user_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--rest--user_secret_ref))

<a id="nestedatt--spec--backend--rest--password_secret_reg"></a>
### Nested Schema for `spec.backend.rest.user_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--backend--rest--user_secret_ref"></a>
### Nested Schema for `spec.backend.rest.user_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--backend--s3"></a>
### Nested Schema for `spec.backend.s3`

Optional:

- `access_key_id_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--s3--access_key_id_secret_ref))
- `bucket` (String)
- `endpoint` (String)
- `secret_access_key_secret_ref` (Attributes) SecretKeySelector selects a key of a Secret. (see [below for nested schema](#nestedatt--spec--backend--s3--secret_access_key_secret_ref))

<a id="nestedatt--spec--backend--s3--access_key_id_secret_ref"></a>
### Nested Schema for `spec.backend.s3.secret_access_key_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined


<a id="nestedatt--spec--backend--s3--secret_access_key_secret_ref"></a>
### Nested Schema for `spec.backend.s3.secret_access_key_secret_ref`

Required:

- `key` (String) The key of the secret to select from.  Must be a valid secret key.

Optional:

- `name` (String) Name of the referent.More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#namesTODO: Add other useful fields. apiVersion, kind, uid?
- `optional` (Boolean) Specify whether the Secret or its key must be defined



<a id="nestedatt--spec--backend--swift"></a>
### Nested Schema for `spec.backend.swift`

Optional:

- `container` (String)
- `path` (String)



<a id="nestedatt--spec--pod_security_context"></a>
### Nested Schema for `spec.pod_security_context`

Optional:

- `fs_group` (Number) A special supplemental group that applies to all containers in a pod.Some volume types allow the Kubelet to change the ownership of that volumeto be owned by the pod:1. The owning GID will be the FSGroup2. The setgid bit is set (new files created in the volume will be owned by FSGroup)3. The permission bits are OR'd with rw-rw----If unset, the Kubelet will not modify the ownership and permissions of any volume.Note that this field cannot be set when spec.os.name is windows.
- `fs_group_change_policy` (String) fsGroupChangePolicy defines behavior of changing ownership and permission of the volumebefore being exposed inside Pod. This field will only apply tovolume types which support fsGroup based ownership(and permissions).It will have no effect on ephemeral volume types such as: secret, configmapsand emptydir.Valid values are 'OnRootMismatch' and 'Always'. If not specified, 'Always' is used.Note that this field cannot be set when spec.os.name is windows.
- `run_as_group` (Number) The GID to run the entrypoint of the container process.Uses runtime default if unset.May also be set in SecurityContext.  If set in both SecurityContext andPodSecurityContext, the value specified in SecurityContext takes precedencefor that container.Note that this field cannot be set when spec.os.name is windows.
- `run_as_non_root` (Boolean) Indicates that the container must run as a non-root user.If true, the Kubelet will validate the image at runtime to ensure that itdoes not run as UID 0 (root) and fail to start the container if it does.If unset or false, no such validation will be performed.May also be set in SecurityContext.  If set in both SecurityContext andPodSecurityContext, the value specified in SecurityContext takes precedence.
- `run_as_user` (Number) The UID to run the entrypoint of the container process.Defaults to user specified in image metadata if unspecified.May also be set in SecurityContext.  If set in both SecurityContext andPodSecurityContext, the value specified in SecurityContext takes precedencefor that container.Note that this field cannot be set when spec.os.name is windows.
- `se_linux_options` (Attributes) The SELinux context to be applied to all containers.If unspecified, the container runtime will allocate a random SELinux context for eachcontainer.  May also be set in SecurityContext.  If set inboth SecurityContext and PodSecurityContext, the value specified in SecurityContexttakes precedence for that container.Note that this field cannot be set when spec.os.name is windows. (see [below for nested schema](#nestedatt--spec--pod_security_context--se_linux_options))
- `seccomp_profile` (Attributes) The seccomp options to use by the containers in this pod.Note that this field cannot be set when spec.os.name is windows. (see [below for nested schema](#nestedatt--spec--pod_security_context--seccomp_profile))
- `supplemental_groups` (List of String) A list of groups applied to the first process run in each container, in additionto the container's primary GID, the fsGroup (if specified), and group membershipsdefined in the container image for the uid of the container process. If unspecified,no additional groups are added to any container. Note that group membershipsdefined in the container image for the uid of the container process are still effective,even if they are not included in this list.Note that this field cannot be set when spec.os.name is windows.
- `sysctls` (Attributes List) Sysctls hold a list of namespaced sysctls used for the pod. Pods with unsupportedsysctls (by the container runtime) might fail to launch.Note that this field cannot be set when spec.os.name is windows. (see [below for nested schema](#nestedatt--spec--pod_security_context--sysctls))
- `windows_options` (Attributes) The Windows specific settings applied to all containers.If unspecified, the options within a container's SecurityContext will be used.If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.Note that this field cannot be set when spec.os.name is linux. (see [below for nested schema](#nestedatt--spec--pod_security_context--windows_options))

<a id="nestedatt--spec--pod_security_context--se_linux_options"></a>
### Nested Schema for `spec.pod_security_context.se_linux_options`

Optional:

- `level` (String) Level is SELinux level label that applies to the container.
- `role` (String) Role is a SELinux role label that applies to the container.
- `type` (String) Type is a SELinux type label that applies to the container.
- `user` (String) User is a SELinux user label that applies to the container.


<a id="nestedatt--spec--pod_security_context--seccomp_profile"></a>
### Nested Schema for `spec.pod_security_context.seccomp_profile`

Required:

- `type` (String) type indicates which kind of seccomp profile will be applied.Valid options are:Localhost - a profile defined in a file on the node should be used.RuntimeDefault - the container runtime default profile should be used.Unconfined - no profile should be applied.

Optional:

- `localhost_profile` (String) localhostProfile indicates a profile defined in a file on the node should be used.The profile must be preconfigured on the node to work.Must be a descending path, relative to the kubelet's configured seccomp profile location.Must be set if type is 'Localhost'. Must NOT be set for any other type.


<a id="nestedatt--spec--pod_security_context--sysctls"></a>
### Nested Schema for `spec.pod_security_context.sysctls`

Required:

- `name` (String) Name of a property to set
- `value` (String) Value of a property to set


<a id="nestedatt--spec--pod_security_context--windows_options"></a>
### Nested Schema for `spec.pod_security_context.windows_options`

Optional:

- `gmsa_credential_spec` (String) GMSACredentialSpec is where the GMSA admission webhook(https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of theGMSA credential spec named by the GMSACredentialSpecName field.
- `gmsa_credential_spec_name` (String) GMSACredentialSpecName is the name of the GMSA credential spec to use.
- `host_process` (Boolean) HostProcess determines if a container should be run as a 'Host Process' container.All of a Pod's containers must have the same effective HostProcess value(it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).In addition, if HostProcess is true then HostNetwork must also be set to true.
- `run_as_user_name` (String) The UserName in Windows to run the entrypoint of the container process.Defaults to the user specified in image metadata if unspecified.May also be set in PodSecurityContext. If set in both SecurityContext andPodSecurityContext, the value specified in SecurityContext takes precedence.



<a id="nestedatt--spec--resources"></a>
### Nested Schema for `spec.resources`

Optional:

- `claims` (Attributes List) Claims lists the names of resources, defined in spec.resourceClaims,that are used by this container.This is an alpha field and requires enabling theDynamicResourceAllocation feature gate.This field is immutable. It can only be set for containers. (see [below for nested schema](#nestedatt--spec--resources--claims))
- `limits` (Map of String) Limits describes the maximum amount of compute resources allowed.More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
- `requests` (Map of String) Requests describes the minimum amount of compute resources required.If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,otherwise to an implementation-defined value. Requests cannot exceed Limits.More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/

<a id="nestedatt--spec--resources--claims"></a>
### Nested Schema for `spec.resources.claims`

Required:

- `name` (String) Name must match the name of one entry in pod.spec.resourceClaims ofthe Pod where this field is used. It makes that resource availableinside a container.
