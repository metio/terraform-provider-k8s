---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8s_acid_zalan_do_operator_configuration_v1 Resource - terraform-provider-k8s"
subcategory: "acid.zalan.do"
description: |-
  
---

# k8s_acid_zalan_do_operator_configuration_v1 (Resource)



## Example Usage

```terraform
resource "k8s_acid_zalan_do_operator_configuration_v1" "big" {
  metadata = {
    name      = "test"
    namespace = "some-namespace"
    labels = {
      "test" = "abc"
    }
    annotations = {
      "try" = "this"
    }
  }
  configuration = {
    enable_crd_registration               = true
    max_instances                         = 7
    min_instances                         = 3
    enable_spilo_wal_path_compat          = true
    workers                               = 5
    docker_image                          = "internal.registry.com/some/image:yes"
    enable_team_id_clustername_prefix     = true
    kubernetes_use_configmaps             = true
    set_memory_request_to_limit           = true
    etcd_host                             = "localhost"
    ignore_instance_limits_annotation_key = "some-key/limit"
    enable_pgversion_env_var              = true
    enable_lazy_spilo_upgrade             = true
    enable_shm_volume                     = true
  }
}

resource "k8s_acid_zalan_do_operator_configuration_v1" "small" {
  metadata = {
    name = "test"
  }
  configuration = {
    max_instances = 7
    min_instances = 3
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration` (Attributes) (see [below for nested schema](#nestedatt--configuration))
- `metadata` (Attributes) Data that helps uniquely identify this object. See https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata for more details. (see [below for nested schema](#nestedatt--metadata))

### Read-Only

- `api_version` (String) APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
- `id` (Number) The timestamp of the last change to this resource.
- `kind` (String) Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
- `yaml` (String) The generated manifest in YAML format.

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Optional:

- `aws_or_gcp` (Attributes) (see [below for nested schema](#nestedatt--configuration--aws_or_gcp))
- `connection_pooler` (Attributes) (see [below for nested schema](#nestedatt--configuration--connection_pooler))
- `crd_categories` (List of String)
- `debug` (Attributes) (see [below for nested schema](#nestedatt--configuration--debug))
- `docker_image` (String)
- `enable_crd_registration` (Boolean)
- `enable_crd_validation` (Boolean) deprecated
- `enable_lazy_spilo_upgrade` (Boolean)
- `enable_pgversion_env_var` (Boolean)
- `enable_shm_volume` (Boolean)
- `enable_spilo_wal_path_compat` (Boolean)
- `enable_team_id_clustername_prefix` (Boolean)
- `etcd_host` (String)
- `ignore_instance_limits_annotation_key` (String)
- `kubernetes` (Attributes) (see [below for nested schema](#nestedatt--configuration--kubernetes))
- `kubernetes_use_configmaps` (Boolean)
- `load_balancer` (Attributes) (see [below for nested schema](#nestedatt--configuration--load_balancer))
- `logging_rest_api` (Attributes) (see [below for nested schema](#nestedatt--configuration--logging_rest_api))
- `logical_backup` (Attributes) (see [below for nested schema](#nestedatt--configuration--logical_backup))
- `major_version_upgrade` (Attributes) (see [below for nested schema](#nestedatt--configuration--major_version_upgrade))
- `max_instances` (Number) -1 = disabled
- `min_instances` (Number) -1 = disabled
- `postgres_pod_resources` (Attributes) (see [below for nested schema](#nestedatt--configuration--postgres_pod_resources))
- `repair_period` (String)
- `resync_period` (String)
- `scalyr` (Attributes) (see [below for nested schema](#nestedatt--configuration--scalyr))
- `set_memory_request_to_limit` (Boolean)
- `sidecar_docker_images` (Map of String)
- `sidecars` (List of Map of String)
- `teams_api` (Attributes) (see [below for nested schema](#nestedatt--configuration--teams_api))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--configuration--timeouts))
- `users` (Attributes) (see [below for nested schema](#nestedatt--configuration--users))
- `workers` (Number)

<a id="nestedatt--configuration--aws_or_gcp"></a>
### Nested Schema for `configuration.aws_or_gcp`

Optional:

- `additional_secret_mount` (String)
- `additional_secret_mount_path` (String)
- `aws_region` (String)
- `enable_ebs_gp3_migration` (Boolean)
- `enable_ebs_gp3_migration_max_size` (Number)
- `gcp_credentials` (String)
- `kube_iam_role` (String)
- `log_s3_bucket` (String)
- `wal_az_storage_account` (String)
- `wal_gs_bucket` (String)
- `wal_s3_bucket` (String)


<a id="nestedatt--configuration--connection_pooler"></a>
### Nested Schema for `configuration.connection_pooler`

Optional:

- `connection_pooler_default_cpu_limit` (String)
- `connection_pooler_default_cpu_request` (String)
- `connection_pooler_default_memory_limit` (String)
- `connection_pooler_default_memory_request` (String)
- `connection_pooler_image` (String)
- `connection_pooler_max_db_connections` (Number)
- `connection_pooler_mode` (String)
- `connection_pooler_number_of_instances` (Number)
- `connection_pooler_schema` (String)
- `connection_pooler_user` (String)


<a id="nestedatt--configuration--debug"></a>
### Nested Schema for `configuration.debug`

Optional:

- `debug_logging` (Boolean)
- `enable_database_access` (Boolean)


<a id="nestedatt--configuration--kubernetes"></a>
### Nested Schema for `configuration.kubernetes`

Optional:

- `additional_pod_capabilities` (List of String)
- `cluster_domain` (String)
- `cluster_labels` (Map of String)
- `cluster_name_label` (String)
- `custom_pod_annotations` (Map of String)
- `delete_annotation_date_key` (String)
- `delete_annotation_name_key` (String)
- `downscaler_annotations` (List of String)
- `enable_cross_namespace_secret` (Boolean)
- `enable_init_containers` (Boolean)
- `enable_pod_antiaffinity` (Boolean)
- `enable_pod_disruption_budget` (Boolean)
- `enable_readiness_probe` (Boolean)
- `enable_sidecars` (Boolean)
- `ignored_annotations` (List of String)
- `infrastructure_roles_secret_name` (String)
- `infrastructure_roles_secrets` (Attributes List) (see [below for nested schema](#nestedatt--configuration--kubernetes--infrastructure_roles_secrets))
- `inherited_annotations` (List of String)
- `inherited_labels` (List of String)
- `master_pod_move_timeout` (String)
- `node_readiness_label` (Map of String)
- `node_readiness_label_merge` (String)
- `oauth_token_secret_name` (String)
- `pdb_name_format` (String)
- `pod_antiaffinity_topology_key` (String)
- `pod_environment_configmap` (String)
- `pod_environment_secret` (String)
- `pod_management_policy` (String)
- `pod_priority_class_name` (String)
- `pod_role_label` (String)
- `pod_service_account_definition` (String)
- `pod_service_account_name` (String)
- `pod_service_account_role_binding_definition` (String)
- `pod_terminate_grace_period` (String)
- `secret_name_template` (String)
- `spilo_allow_privilege_escalation` (Boolean)
- `spilo_fsgroup` (Number)
- `spilo_privileged` (Boolean)
- `spilo_runasgroup` (Number)
- `spilo_runasuser` (Number)
- `storage_resize_mode` (String)
- `toleration` (Map of String)
- `watched_namespace` (String)

<a id="nestedatt--configuration--kubernetes--infrastructure_roles_secrets"></a>
### Nested Schema for `configuration.kubernetes.infrastructure_roles_secrets`

Required:

- `passwordkey` (String)
- `secretname` (String)
- `userkey` (String)

Optional:

- `defaultrolevalue` (String)
- `defaultuservalue` (String)
- `details` (String)
- `rolekey` (String)
- `template` (Boolean)



<a id="nestedatt--configuration--load_balancer"></a>
### Nested Schema for `configuration.load_balancer`

Optional:

- `custom_service_annotations` (Map of String)
- `db_hosted_zone` (String)
- `enable_master_load_balancer` (Boolean)
- `enable_master_pooler_load_balancer` (Boolean)
- `enable_replica_load_balancer` (Boolean)
- `enable_replica_pooler_load_balancer` (Boolean)
- `external_traffic_policy` (String)
- `master_dns_name_format` (String)
- `replica_dns_name_format` (String)


<a id="nestedatt--configuration--logging_rest_api"></a>
### Nested Schema for `configuration.logging_rest_api`

Optional:

- `api_port` (Number)
- `cluster_history_entries` (Number)
- `ring_log_lines` (Number)


<a id="nestedatt--configuration--logical_backup"></a>
### Nested Schema for `configuration.logical_backup`

Optional:

- `logical_backup_docker_image` (String)
- `logical_backup_google_application_credentials` (String)
- `logical_backup_job_prefix` (String)
- `logical_backup_provider` (String)
- `logical_backup_s3_access_key_id` (String)
- `logical_backup_s3_bucket` (String)
- `logical_backup_s3_endpoint` (String)
- `logical_backup_s3_region` (String)
- `logical_backup_s3_retention_time` (String)
- `logical_backup_s3_secret_access_key` (String)
- `logical_backup_s3_sse` (String)
- `logical_backup_schedule` (String)


<a id="nestedatt--configuration--major_version_upgrade"></a>
### Nested Schema for `configuration.major_version_upgrade`

Optional:

- `major_version_upgrade_mode` (String)
- `major_version_upgrade_team_allow_list` (List of String)
- `minimal_major_version` (String)
- `target_major_version` (String)


<a id="nestedatt--configuration--postgres_pod_resources"></a>
### Nested Schema for `configuration.postgres_pod_resources`

Optional:

- `default_cpu_limit` (String)
- `default_cpu_request` (String)
- `default_memory_limit` (String)
- `default_memory_request` (String)
- `max_cpu_request` (String)
- `max_memory_request` (String)
- `min_cpu_limit` (String)
- `min_memory_limit` (String)


<a id="nestedatt--configuration--scalyr"></a>
### Nested Schema for `configuration.scalyr`

Optional:

- `scalyr_api_key` (String)
- `scalyr_cpu_limit` (String)
- `scalyr_cpu_request` (String)
- `scalyr_image` (String)
- `scalyr_memory_limit` (String)
- `scalyr_memory_request` (String)
- `scalyr_server_url` (String)


<a id="nestedatt--configuration--teams_api"></a>
### Nested Schema for `configuration.teams_api`

Optional:

- `enable_admin_role_for_users` (Boolean)
- `enable_postgres_team_crd` (Boolean)
- `enable_postgres_team_crd_superusers` (Boolean)
- `enable_team_member_deprecation` (Boolean)
- `enable_team_superuser` (Boolean)
- `enable_teams_api` (Boolean)
- `pam_configuration` (String)
- `pam_role_name` (String)
- `postgres_superuser_teams` (List of String)
- `protected_role_names` (List of String)
- `role_deletion_suffix` (String)
- `team_admin_role` (String)
- `team_api_role_configuration` (Map of String)
- `teams_api_url` (String)


<a id="nestedatt--configuration--timeouts"></a>
### Nested Schema for `configuration.timeouts`

Optional:

- `patroni_api_check_interval` (String)
- `patroni_api_check_timeout` (String)
- `pod_deletion_wait_timeout` (String)
- `pod_label_wait_timeout` (String)
- `ready_wait_interval` (String)
- `ready_wait_timeout` (String)
- `resource_check_interval` (String)
- `resource_check_timeout` (String)


<a id="nestedatt--configuration--users"></a>
### Nested Schema for `configuration.users`

Optional:

- `additional_owner_roles` (List of String)
- `enable_password_rotation` (Boolean)
- `password_rotation_interval` (Number)
- `password_rotation_user_retention` (Number)
- `replication_username` (String)
- `super_username` (String)



<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String) Unique identifier for this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names for more details.

Optional:

- `annotations` (Map of String) Keys and values that can be used by external tooling to store and retrieve arbitrary metadata about this object. See https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/ for more details.
- `labels` (Map of String) Keys and values that can be used to organize and categorize objects. See https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details.
- `namespace` (String) Namespaces provides a mechanism for isolating groups of resources within a single cluster. See https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/ for more details.


